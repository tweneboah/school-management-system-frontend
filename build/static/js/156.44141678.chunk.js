(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[156],{1291:function(e,t,a){"use strict";a(1);var s=a(560),c=a(1064),n=a(1065),r=a(1062),l=a(1063),o=a(1060),i=a(1061),d=a(942),u=a(725),j=a.n(u),b=a(14),m=Object(s.a)({table:{width:"100%"}});t.a=function(e){var t=e.rows,a=e.handleEdit,s=(e.setclassWork,e.examMark),u=e.setexamMark,O=e.classworkMark,h=e.setclassworkMark,x=m();return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"mb-5",children:"Continuous Assessment"}),Object(b.jsx)(l.a,{className:"mb-5",component:d.a,children:Object(b.jsxs)(c.a,{className:x.table,"aria-label":"spanning table",children:[Object(b.jsx)(o.a,{children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(r.a,{align:"left",children:"ID"}),Object(b.jsx)(r.a,{align:"left",colSpan:3,children:"Name of Student"}),Object(b.jsxs)(r.a,{align:"left",children:["Class Work (%)",Object(b.jsx)("input",{className:"form-control",onChange:function(e){return h(e.target.value)},value:O})]}),Object(b.jsxs)(r.a,{align:"left",children:["Exam Score (%)",Object(b.jsx)("input",{className:"form-control",onChange:function(e){return u(e.target.value)},value:s})," "]}),Object(b.jsx)(r.a,{align:"left",children:"Total (100%)"}),Object(b.jsx)(r.a,{align:"left",children:"Position"}),Object(b.jsx)(r.a,{align:"left",children:"Action"})]})}),Object(b.jsx)(n.a,{children:(null===t||void 0===t?void 0:t.length)>0?Object(b.jsx)(b.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsxs)(i.a,{children:[Object(b.jsx)(r.a,{children:null===e||void 0===e?void 0:e.userID}),Object(b.jsx)(r.a,{colSpan:3,align:"left",children:null===e||void 0===e?void 0:e.name}),Object(b.jsx)(r.a,{align:"left",children:Object(b.jsx)("input",{readOnly:!0,value:(null===e||void 0===e?void 0:e.classWork)||"-",type:"text",className:"form-control"})}),Object(b.jsx)(r.a,{align:"left",children:Object(b.jsx)("input",{readOnly:!0,value:null===e||void 0===e?void 0:e.exam,type:"text",className:"form-control"})}),Object(b.jsx)(r.a,{align:"left",children:Object(b.jsx)("input",{readOnly:!0,value:(t=null===e||void 0===e?void 0:e.exam,s=null===e||void 0===e?void 0:e.classWork,Number(t||0)+Number(s||0)),type:"text",className:"form-control"})}),Object(b.jsx)(r.a,{align:"left",children:Object(b.jsx)("input",{readOnly:!0,value:null===e||void 0===e?void 0:e.position,type:"text",className:"form-control"})}),Object(b.jsx)(r.a,{align:"left",children:Object(b.jsx)("button",{onClick:function(){return a(null===e||void 0===e?void 0:e.userID)},className:"btn",children:Object(b.jsx)(j.a,{})})})]},null===e||void 0===e?void 0:e.userID);var t,s}))}):Object(b.jsxs)(r.a,{colSpan:10,children:[Object(b.jsx)("strong",{children:"There are no students in this class"})," "]})})]})})]})}},1292:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var s=a(77),c=a(1),n=a.n(c),r=a(560),l=a(822),o=a(1088),i=a(1450),d=a(1808),u=a(1527),j=a(740),b=a.n(j),m=a(1136),O=a(748),h=a(14),x=Object(r.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),v=n.a.forwardRef((function(e,t){return Object(h.jsx)(m.a,Object(s.a)({direction:"up",ref:t},e))}));function f(e){var t=e.open,a=e.setOpen,s=e.name,c=e.userID,n=e.exam,r=e.setexam,j=e.classWork,m=e.setclassWork,f=e.onSubmit,p=e.classID,N=e.loading,g=e.position,k=e.setposition,S=e.classworkMark,C=e.examMark,w=x(),y=Object(O.a)(),D=y.register,I=y.handleSubmit,W=y.errors,M=function(){k(""),m(""),r(""),a(!1)};return Object(h.jsxs)(l.a,{fullScreen:!0,open:t,onClose:M,TransitionComponent:v,children:[Object(h.jsx)(o.a,{color:"transparent",className:w.appBar,children:Object(h.jsxs)(i.a,{children:[Object(h.jsxs)(u.a,{variant:"h6",className:w.title,children:[s," - ",c]}),Object(h.jsx)(d.a,{edge:"start",color:"inherit",onClick:M,"aria-label":"close",children:Object(h.jsx)(b.a,{})})]})}),Object(h.jsxs)("form",{action:"",className:"m-5",children:[Object(h.jsxs)("h3",{className:"mb-5",children:["Set Grades for Class ",p," "]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsxs)("label",{className:"form-label",children:["Set ClassWork (",Number(S||0),"%)"]}),Object(h.jsx)("input",{value:j,ref:D({min:0,max:Number(S||0)+1}),onChange:function(e){return m(e.target.value)},type:"number",className:"form-control col-sm-6",name:"a1"}),W.a1&&Object(h.jsxs)("span",{className:" form-error text-danger mb-2",children:["contributes (",Number(S||0),"%"]})]}),Object(h.jsxs)("div",{className:"mb-5",children:[Object(h.jsxs)("label",{className:"form-label",children:["Exam Mark (",Number(C||0),")%"]}),Object(h.jsx)("input",{value:n,ref:D({min:0,max:Number(C||0)+1}),onChange:function(e){return r(e.target.value)},type:"number",className:"form-control col-6",name:"exams"}),W.exams&&Object(h.jsxs)("span",{className:" form-error text-danger mb-2",children:["contributes (",Number(C||0),")%"]})]}),Object(h.jsxs)("div",{className:"mb-5",children:[Object(h.jsx)("label",{className:"form-label",children:"Position"}),Object(h.jsx)("input",{value:g,onChange:function(e){return k(e.target.value)},type:"number",ref:D({min:0}),className:"form-control col-6",name:"position"}),W.position&&Object(h.jsx)("span",{className:" form-error text-danger mb-2",children:"cannot be negative"})]}),Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsxs)("button",{disabled:N,onClick:I(f),className:"btn blue__btn",children:[N&&Object(h.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Submit Changes"]})})]})]})}},1960:function(e,t,a){"use strict";a.r(t);var s=a(735),c=a.n(s),n=a(736),r=a(716),l=a(1),o=a(32),i=a(76),d=a(38),u=a(14);var j=function(e){var t=e.classID,a=e.setclass,s=e.loading,j=e.term,b=e.setterm,m=e.academicYear,O=e.setacademicYear,h=e.course,x=e.setcourse,v=e.handleSearch,f=Object(i.c)(o.c),p=Object(i.c)(o.l),N=Object(l.useState)(),g=Object(r.a)(N,2),k=g[0],S=g[1],C=function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(t),x(""),e.next=4,d.a.get("courses/class/".concat(t)).then((function(e){S(e.data.docs.map((function(e){return{code:e.code,name:e.name}})))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{className:"content__container col-8 mb-5",children:[Object(u.jsx)("h6",{children:"Search Class"}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Class"}),Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("select",{name:"academic-calendar",className:"form-select",value:t,onChange:function(e){return C(e.target.value)},children:[Object(u.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),f.length>0?f.map((function(e){return Object(u.jsx)("option",{value:e.classCode,children:e.name},e._id)})):Object(u.jsx)("option",{disabled:!0,children:"No classes yet"})]})})]}),t&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Course"}),Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("select",{name:"academic-calendar",className:"form-select",value:h,onChange:function(e){return x(e.target.value)},children:[Object(u.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),(null===k||void 0===k?void 0:k.length)>0?k.map((function(e){return Object(u.jsx)("option",{value:e.code,children:e.name},e._id)})):Object(u.jsx)("option",{disabled:!0,children:"No courses yet for this class"})]})})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Academic Year"}),Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("select",{name:"academic-calendar",className:"form-select",value:m,onChange:function(e){return O(e.target.value)},children:[Object(u.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),p.length>0?p.map((function(e){return Object(u.jsx)("option",{value:e.year,children:e.year},e._id)})):Object(u.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Term"}),Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("select",{name:"academic-calendar",className:"form-select",value:j,onChange:function(e){return b(e.target.value)},children:[Object(u.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(u.jsx)("option",{value:"1",children:"1"}),Object(u.jsx)("option",{value:"2",children:"2"}),Object(u.jsx)("option",{value:"3",children:"3"})]})})]})]}),Object(u.jsx)("div",{className:"",children:Object(u.jsx)("div",{children:Object(u.jsxs)("button",{onClick:v,disabled:s||!t,type:"submit",className:"btn blue__btn",children:[s&&Object(u.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Search"]})})})]})},b=a(1291),m=a(718),O=a(1292);t.default=function(){var e=Object(l.useState)([]),t=Object(r.a)(e,2),a=t[0],s=t[1],o=Object(l.useState)([]),i=Object(r.a)(o,2),h=i[0],x=i[1],v=Object(l.useState)(""),f=Object(r.a)(v,2),p=f[0],N=f[1],g=Object(l.useState)(""),k=Object(r.a)(g,2),S=k[0],C=k[1],w=Object(l.useState)(""),y=Object(r.a)(w,2),D=y[0],I=y[1],W=Object(l.useState)(""),M=Object(r.a)(W,2),_=M[0],F=M[1],A=Object(l.useState)(""),P=Object(r.a)(A,2),Y=P[0],B=P[1],E=Object(l.useState)(!1),T=Object(r.a)(E,2),V=T[0],J=T[1],G=Object(l.useState)(""),L=Object(r.a)(G,2),R=L[0],q=L[1],z=Object(l.useState)(""),H=Object(r.a)(z,2),K=H[0],Q=H[1],U=Object(l.useState)(""),X=Object(r.a)(U,2),Z=X[0],$=X[1],ee=Object(l.useState)(""),te=Object(r.a)(ee,2),ae=te[0],se=te[1],ce=Object(l.useState)(!1),ne=Object(r.a)(ce,2),re=ne[0],le=ne[1],oe=Object(l.useState)({}),ie=Object(r.a)(oe,2),de=ie[0],ue=ie[1],je=Object(l.useState)(!1),be=Object(r.a)(je,2),me=be[0],Oe=be[1],he=Object(l.useState)(!1),xe=Object(r.a)(he,2),ve=xe[0],fe=xe[1],pe=function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le(!1),x([]),N(""),B(""),C(""),t.preventDefault(),""!==K&&""!==R&&""!==Z&&""!==ae){e.next=8;break}return e.abrupt("return",Object(m.c)("Please select all fields"));case 8:return Oe(!0),e.next=11,d.a.get("/classes/classCode/".concat(K)).then(function(){var e=Object(n.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=t.data.docs)||void 0===a?void 0:a.sba)&&!1!==(null===(n=t.data.docs)||void 0===n?void 0:n.sba)){e.next=3;break}return Oe(!1),e.abrupt("return",Object(m.c)("SBA not set for this class"));case 3:return le(!0),e.next=6,d.a.get("/sba/".concat(K,"/").concat(Z,"/").concat(ae,"/").concat(R)).then((function(e){Oe(!1);var t=e.data.docs;console.log(t),s(t),C(null===t||void 0===t?void 0:t.classWork),N(null===t||void 0===t?void 0:t.exam),console.log(e.data),x(null===t||void 0===t?void 0:t.students)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),e.next=3,d.a.put("/sba/update/".concat(null===a||void 0===a?void 0:a._id),{exam:p,classWork:S});case 3:return e.next=5,d.a.put("/sba/update/student/".concat(null===a||void 0===a?void 0:a._id,"/").concat(null===de||void 0===de?void 0:de.userID),{classWork:_,exam:D,userID:null===de||void 0===de?void 0:de.userID,name:null===de||void 0===de?void 0:de.name,position:Y}).then((function(e){var t;J(!1),fe(!1),x(null===(t=e.data.doc)||void 0===t?void 0:t.students),console.log(e.data)})).catch((function(e){Object(m.c)("Failed"),fe(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"S.B.A"}),Object(u.jsx)("div",{className:"mb-3",children:Object(u.jsx)(j,{academicYear:ae,setacademicYear:se,setterm:q,term:R,course:Z,setcourse:$,classID:K,setclass:Q,loading:me,handleSearch:pe})}),re&&Object(u.jsx)(b.a,{setclassWork:F,rows:h,examMark:p,setexamMark:N,classworkMark:S,setclassworkMark:C,handleEdit:function(e){if(!S)return Object(m.c)("Please set  classWork %");if(!p)return Object(m.c)("Please set  exam score %");J(!0);var t=a.students.find((function(t){return t.userID===e}));ue(t),I(null===t||void 0===t?void 0:t.exam),F(null===t||void 0===t?void 0:t.classWork),B(null===t||void 0===t?void 0:t.position)}}),Object(u.jsx)(O.a,{name:null===de||void 0===de?void 0:de.name,userID:null===de||void 0===de?void 0:de.userID,exam:D,examMark:p,classworkMark:S,classID:K,loading:ve,setposition:B,position:Y,setexam:I,setclassWork:F,classWork:_,open:V,onSubmit:Ne,setOpen:J})]})}}}]);
//# sourceMappingURL=156.44141678.chunk.js.map