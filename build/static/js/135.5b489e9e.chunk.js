(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[135],{1109:function(e,t,c){"use strict";var a=c(2),s=c(19),n=c(1),o=(c(36),c(37)),r=c(104),l=c(785),i=c(928),d=c(101),u=c(1807),b=n.forwardRef((function(e,t){var c=e.autoFocus,d=e.checked,b=e.checkedIcon,m=e.classes,j=e.className,h=e.defaultChecked,O=e.disabled,f=e.icon,p=e.id,v=e.inputProps,x=e.inputRef,g=e.name,N=e.onBlur,C=e.onChange,k=e.onFocus,y=e.readOnly,S=e.required,w=e.tabIndex,I=e.type,F=e.value,z=Object(s.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),B=Object(l.a)({controlled:d,default:Boolean(h),name:"SwitchBase",state:"checked"}),E=Object(r.a)(B,2),V=E[0],_=E[1],P=Object(i.a)(),A=O;P&&"undefined"===typeof A&&(A=P.disabled);var D="checkbox"===I||"radio"===I;return n.createElement(u.a,Object(a.a)({component:"span",className:Object(o.a)(m.root,j,V&&m.checked,A&&m.disabled),disabled:A,tabIndex:null,role:void 0,onFocus:function(e){k&&k(e),P&&P.onFocus&&P.onFocus(e)},onBlur:function(e){N&&N(e),P&&P.onBlur&&P.onBlur(e)},ref:t},z),n.createElement("input",Object(a.a)({autoFocus:c,checked:d,defaultChecked:h,className:m.input,disabled:A,id:D&&p,name:g,onChange:function(e){var t=e.target.checked;_(t),C&&C(e,t)},readOnly:y,ref:x,required:S,tabIndex:w,type:I,value:F},v)),V?b:f)})),m=Object(d.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(b),j=c(760),h=Object(j.a)(n.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),O=Object(j.a)(n.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),f=c(103),p=Object(j.a)(n.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=c(188),x=n.createElement(O,null),g=n.createElement(h,null),N=n.createElement(p,null),C=n.forwardRef((function(e,t){var c=e.checkedIcon,r=void 0===c?x:c,l=e.classes,i=e.color,d=void 0===i?"secondary":i,u=e.icon,b=void 0===u?g:u,j=e.indeterminate,h=void 0!==j&&j,O=e.indeterminateIcon,f=void 0===O?N:O,p=e.inputProps,C=e.size,k=void 0===C?"medium":C,y=Object(s.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),S=h?f:b,w=h?f:r;return n.createElement(m,Object(a.a)({type:"checkbox",classes:{root:Object(o.a)(l.root,l["color".concat(Object(v.a)(d))],h&&l.indeterminate),checked:l.checked,disabled:l.disabled},color:d,inputProps:Object(a.a)({"data-indeterminate":h},p),icon:n.cloneElement(S,{fontSize:void 0===S.props.fontSize&&"small"===k?k:S.props.fontSize}),checkedIcon:n.cloneElement(w,{fontSize:void 0===w.props.fontSize&&"small"===k?k:w.props.fontSize}),ref:t},y))}));t.a=Object(d.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(f.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(f.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(C)},1164:function(e,t,c){"use strict";c.d(t,"b",(function(){return n}));var a=c(1),s=a.createContext();function n(){return a.useContext(s)}t.a=s},1406:function(e,t,c){"use strict";var a=c(716),s=c(1),n=c(745),o=c(76),r=c(38),l=c(32),i=c(1109),d=c(14);t.a=function(e){var t=Object(o.c)(l.b),c=Object(o.c)(l.f),u=Object(o.c)(l.h),b=Object(s.useState)([]),m=Object(a.a)(b,2),j=m[0],h=m[1],O=Object(o.c)(l.l),f=Object(n.a)(),p=f.register,v=f.handleSubmit,x=f.errors,g=e.name,N=e.setname,C=e.code,k=e.setcode,y=e.campus,S=e.academic,w=e.setacademic,I=e.division,F=e.setdivision,z=e.group,B=e.setgroup,E=e.prefect,V=e.setprefect,_=e.sba,P=e.setsba,A=e.sbaStaff,D=e.setsbaStaff,q=e.setcampus,H=e.teacher,M=e.loading,R=e.isEdit,$=e.handleAddClass,L=e.setteacher,T=Object(s.useState)([]),J=Object(a.a)(T,2),G=J[0],Y=J[1];return Object(s.useEffect)((function(){r.a.get("/prefects").then((function(e){Y(e.data)}))}),[]),Object(s.useEffect)((function(){r.a.get("/teachers/teachers").then((function(e){h(e.data)}))}),[]),Object(d.jsxs)("form",{onSubmit:v($),action:"",children:[Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Academic Year"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{name:"academic-calendar",className:"form-select",value:S,onChange:function(e){return w(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),O.length>0?O.map((function(e){return Object(d.jsx)("option",{value:e.year,children:e.year},e.year)})):Object(d.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Name"}),Object(d.jsxs)("div",{className:"col-sm-10",children:[Object(d.jsx)("input",{value:g,onChange:function(e){return N(e.target.value)},type:"text",ref:p({required:!0}),className:"form-control",name:"name"}),x.name&&Object(d.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]})]}),!R&&Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Code"}),Object(d.jsxs)("div",{className:"col-sm-10",children:[Object(d.jsx)("input",{ref:p({required:!0}),value:C,onChange:function(e){return k(e.target.value)},type:"text",className:"form-control",name:"code"}),x.code&&Object(d.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Campus"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:y,onChange:function(e){return q(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),t.length>0?t.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No campuses yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Group"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:z,onChange:function(e){return B(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),u.length>0?u.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No groups yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Division"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:I,onChange:function(e){return F(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),c.length>0?c.map((function(e){return Object(d.jsx)("option",{value:e.code,children:e.name},e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No divisions yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Teacher"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{value:H,onChange:function(e){return L(e.target.value)},id:"teacher",className:"form-select",children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),j.length>0?j.map((function(e){return Object(d.jsxs)("option",{value:e.userID,children:[e.name," ",e.surname]},e.userID)})):Object(d.jsx)("option",{disabled:!0,children:"No staff yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Prefect"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:E,onChange:function(e){return V(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),(null===G||void 0===G?void 0:G.length)>0?G.map((function(e){return Object(d.jsx)("option",{value:null===e||void 0===e?void 0:e.userID,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No prefects yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"SBA Configuration"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.a,{checked:_,color:"primary",onChange:function(){return P(!_)},inputProps:{"aria-label":"primary checkbox"}})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"SBA Assign Staff"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:A,onChange:function(e){return D(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),j.length>0?j.map((function(e){return Object(d.jsxs)("option",{value:e.userID,children:[e.name," ",e.surname]},e.userID)})):Object(d.jsx)("option",{disabled:!0,children:"No staff yet"})]})})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"offset-sm-2",children:Object(d.jsxs)("button",{disabled:M,type:"submit",className:"btn blue__btn",children:[M&&Object(d.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),R?"Save Changes":"Add"]})})})]})}},1849:function(e,t,c){"use strict";c.r(t);var a=c(733),s=c.n(a),n=c(770),o=c(734),r=c(716),l=c(1),i=c(1406),d=c(38),u=c(718),b=c(76),m=c(32),j=c(14);t.default=function(){var e=Object(l.useState)(""),t=Object(r.a)(e,2),c=t[0],a=t[1],h=Object(l.useState)(""),O=Object(r.a)(h,2),f=O[0],p=O[1],v=Object(l.useState)(""),x=Object(r.a)(v,2),g=x[0],N=x[1],C=Object(l.useState)(""),k=Object(r.a)(C,2),y=k[0],S=k[1],w=Object(l.useState)(!1),I=Object(r.a)(w,2),F=I[0],z=I[1],B=Object(l.useState)(""),E=Object(r.a)(B,2),V=E[0],_=E[1],P=Object(b.b)(),A=Object(b.c)(m.c),D=Object(l.useState)(""),q=Object(r.a)(D,2),H=q[0],M=q[1],R=Object(l.useState)(""),$=Object(r.a)(R,2),L=$[0],T=$[1],J=Object(l.useState)(""),G=Object(r.a)(J,2),Y=G[0],K=G[1],Q=Object(l.useState)(!1),U=Object(r.a)(Q,2),W=U[0],X=U[1],Z=Object(l.useState)(""),ee=Object(r.a)(Z,2),te=ee[0],ce=ee[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"content__container",children:[Object(j.jsx)("h3",{children:"Add Class"}),Object(j.jsx)(i.a,{name:c,setname:a,campus:f,setcampus:p,code:y,academic:V,setacademic:_,loading:F,setcode:S,teacher:g,handleAddClass:function(){z(!0),d.a.post("/classes/create",{classCode:y,name:c,campusID:f,teacherID:g,academic:V,prefect:Y,division:H,sba:W,group:L,sbaStaff:te}).then(function(){var e=Object(o.a)(s.a.mark((function e(t){var o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,z(!1),!(null===r||void 0===r?void 0:r.error)){e.next=5;break}return Object(u.c)(r.error),e.abrupt("return",0);case 5:return Object(u.m)("".concat(null===(o=r.doc)||void 0===o?void 0:o.classCode," is successfully added")),z(!1),P(Object(m.p)([r.doc].concat(Object(n.a)(A)))),e.next=10,d.a.post("/activitylog/create",{activity:" ".concat(c," class was created"),user:"admin"});case 10:return e.next=12,d.a.post("/fees/create",{name:c,code:c.toLowerCase()});case 12:p(""),S(""),a(""),_(""),N(""),T(""),M("");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),Object(u.c)("something when wrong"),z(!1)}))},setteacher:N,setdivision:M,division:H,setgroup:T,group:L,setprefect:K,prefects:Y,sba:W,setsba:X,sbaStaff:te,setsbaStaff:ce})]})})}},928:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var a=c(1),s=c(1164);function n(){return a.useContext(s.a)}}}]);
//# sourceMappingURL=135.5b489e9e.chunk.js.map