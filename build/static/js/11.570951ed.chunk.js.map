{"version":3,"sources":["AdminComponents/canteen/CanteenNav.js","AdminComponents/canteen/EditPaymentPlan.js","AdminComponents/canteen/PaymentPlan.js"],"names":["CanteenNav","className","activeStyle","color","to","FormDialog","open","setOpen","descriptions","setdescriptions","prices","setprices","name","setname","title","settitle","isAdd","isPlans","onSubmit","loading","useForm","register","handleSubmit","errors","handleClose","DialogTitle","withStyles","theme","root","margin","padding","spacing","closeButton","position","right","top","palette","grey","props","children","classes","onClose","other","disableTypography","Typography","variant","IconButton","aria-label","onClick","Dialog","fullWidth","maxWidth","aria-labelledby","id","action","DialogContent","scope","ref","required","type","value","plan1","onChange","e","target","placeholder","name1","plan2","name2","plan3","name3","price1","price2","price3","rows","description1","description2","description3","DialogActions","Button","disabled","role","PaymentPlan","user","useSelector","selectUser","useState","planData","setplanData","plansData","setplansData","services","setservices","openEditService","setopenEditService","openAddService","setopenAddService","editID","seteditID","setloading","removeDuplicates","data","unique","forEach","element","find","i","_id","push","useEffect","axios","get","then","res","console","log","plans","newServices","map","plan","description","currentCurrency","price","style","fontSize","handleClickOpen","service","handleClickEditOpen","put","error","errorAlert","filter","catch","err","colSpan","successAlert","doc","post"],"mappings":"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","file":"static/js/11.570951ed.chunk.js","sourcesContent":["import React from 'react'\nimport {NavLink} from 'react-router-dom'\n\nfunction CanteenNav() {\n    return (\n        <div className=\"d-flex xs-flex-column sm-flex-row justify-content-end\">\n            <NavLink  activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/members/register\">Add  Canteen Member </NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/members\">All Members</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments/plan\">Payments Plan</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments/add\">Make Payment</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments\">All Payments</NavLink>\n            \n        </div>\n    )\n}\n\nexport default CanteenNav\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useForm } from \"react-hook-form\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nexport default function FormDialog({\n  open,\n  setOpen,\n  descriptions,\n  setdescriptions,\n  prices,\n  setprices,\n  name,\n  setname,\n  title,\n  settitle,\n  isAdd,\n  isPlans,\n  onSubmit,\n  loading,\n}) {\n  const { register, handleSubmit, errors } = useForm();\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const styles = (theme) => ({\n    root: {\n      margin: 0,\n      padding: theme.spacing(2),\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n  });\n\n  const DialogTitle = withStyles(styles)((props) => {\n    const { children, classes, onClose, ...other } = props;\n    return (\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\n        <Typography variant=\"h6\">{children}</Typography>\n        {onClose ? (\n          <IconButton\n            aria-label=\"close\"\n            className={classes.closeButton}\n            onClick={onClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        ) : null}\n      </MuiDialogTitle>\n    );\n  });\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth={true}\n      maxWidth=\"md\"\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n        Set Canteen PaymentPlan\n      </DialogTitle>\n      <form action=\"\">\n        <DialogContent>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">Plan 1</th>\n                <th scope=\"col\">Plan 2</th>\n                <th scope=\"col\">Plan 3</th>\n              </tr>\n            </thead>\n            <tbody>\n              {isPlans && (\n                <>\n                  <tr>\n                    <th scope=\"row\">Plan Name</th>\n                    <td>\n                      <input\n                        ref={register({ required: true })}\n                        type=\"text\"\n                        name=\"name1\"\n                        value={name?.plan1}\n                        onChange={(e) =>\n                          setname({ ...name, plan1: e.target.value })\n                        }\n                        className=\"form-control\"\n                        placeholder=\"Plan name\"\n                      />\n                      {errors.name1 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                    <td>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Plan  name\"\n                        value={name?.plan2}\n                        onChange={(e) =>\n                          setname({ ...name, plan2: e.target.value })\n                        }\n                        ref={register({ required: true })}\n                        name=\"name2\"\n                      />\n                      {errors.name2 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                    <td>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Plan  name\"\n                        name=\"name3\"\n                        value={name?.plan3}\n                        onChange={(e) =>\n                          setname({ ...name, plan3: e.target.value })\n                        }\n                        ref={register({ required: true })}\n                      />\n                      {errors.name3 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">Plan Price</th>\n                    <td>\n                      <input\n                        value={prices?.plan1}\n                        onChange={(e) =>\n                          setprices({ ...prices, plan1: e.target.value })\n                        }\n                        type=\"number\"\n                        className=\"form-control\"\n                        placeholder=\"Plan's price\"\n                        name=\"price1\"\n                        ref={register({ required: true })}\n                      />\n                      {errors.price1 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                    <td>\n                      <input\n                        value={prices?.plan2}\n                        onChange={(e) =>\n                          setprices({ ...prices, plan2: e.target.value })\n                        }\n                        type=\"number\"\n                        className=\"form-control\"\n                        placeholder=\"Plan's price\"\n                        name=\"price2\"\n                        ref={register({ required: true })}\n                      />\n                      {errors.price2 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                    <td>\n                      <input\n                        value={prices?.plan3}\n                        onChange={(e) =>\n                          setprices({ ...prices, plan3: e.target.value })\n                        }\n                        type=\"number\"\n                        className=\"form-control\"\n                        placeholder=\"Plan's price\"\n                        name=\"price3\"\n                        ref={register({ required: true })}\n                      />\n                      {errors.price3 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                </>\n              )}\n              <tr>\n                {isAdd ? (\n                  <th>\n                    <input\n                      value={title}\n                      onChange={(e) => settitle(e.target.value)}\n                      type=\"text\"\n                      className=\"form-control\"\n                      placeholder=\"Service's name\"\n                      name=\"title\"\n                      ref={register({ required: true })}\n                    />\n                    {errors.title && (\n                      <div className=\"text-danger mb-3\">\n                        This field is required.\n                      </div>\n                    )}\n                  </th>\n                ) : (\n                  <th scope=\"row\">{descriptions?.name || \"Description\"}</th>\n                )}\n\n                <td>\n                  <textarea\n                    value={descriptions?.plan1}\n                    onChange={(e) =>\n                      setdescriptions({\n                        ...descriptions,\n                        plan1: e.target.value,\n                      })\n                    }\n                    rows={3}\n                    className=\"form-control\"\n                    placeholder=\"Type here...\"\n                    name=\"description1\"\n                    ref={register({ required: true })}\n                  />\n                  {errors.description1 && (\n                    <div className=\"text-danger mb-3\">\n                      This field is required.\n                    </div>\n                  )}\n                </td>\n                <td>\n                  <textarea\n                    value={descriptions?.plan2}\n                    onChange={(e) =>\n                      setdescriptions({\n                        ...descriptions,\n                        plan2: e.target.value,\n                      })\n                    }\n                    rows={3}\n                    className=\"form-control\"\n                    placeholder=\"Type here...\"\n                    name=\"description2\"\n                    ref={register({ required: true })}\n                  />\n                  {errors.description2 && (\n                    <div className=\"text-danger mb-3\">\n                      This field is required.\n                    </div>\n                  )}\n                </td>\n                <td>\n                  <textarea\n                    value={descriptions?.plan3}\n                    onChange={(e) =>\n                      setdescriptions({\n                        ...descriptions,\n                        plan3: e.target.value,\n                      })\n                    }\n                    rows={3}\n                    name=\"description3\"\n                    ref={register({ required: true })}\n                    className=\"form-control\"\n                    placeholder=\"Type here...\"\n                  />\n                  {errors.description3 && (\n                    <div className=\"text-danger mb-3\">\n                      This field is required.\n                    </div>\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            disabled={loading}\n            onClick={handleSubmit(onSubmit)}\n            color=\"primary\"\n          >\n            {loading && (\n              <div\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n              ></div>\n            )}\n            {isAdd ? \"Add\" : \"Save Changes\"}\n          </Button>\n          <Button onClick={handleClose} color=\"secondary\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { IconButton } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport axios from \"../../store/axios\";\nimport Edit from \"./EditPaymentPlan\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport { useSelector } from \"react-redux\";\nimport { errorAlert, successAlert, currentCurrency } from \"../../utils\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport CanteenNav from \"./CanteenNav\";\n\nfunction PaymentPlan() {\n  const user = useSelector(selectUser);\n  const [planData, setplanData] = useState({});\n  const [plansData, setplansData] = useState([]);\n  const [services, setservices] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [openEditService, setopenEditService] = useState(false);\n  const [openAddService, setopenAddService] = useState(false);\n  const [title, settitle] = useState(\"\");\n  const [editID, seteditID] = useState(\"\");\n  const [loading, setloading] = useState(false);\n\n  const [name, setname] = useState({\n    plan1: \"\",\n    plan2: \"\",\n    plan3: \"\",\n  });\n  const [prices, setprices] = useState({\n    plan1: \"\",\n    plan2: \"\",\n    plan3: \"\",\n  });\n  const [descriptions, setdescriptions] = useState({\n    plan1: \"\",\n    plan2: \"\",\n    plan3: \"\",\n  });\n\n  const removeDuplicates = (data) => {\n    let unique = [];\n    data?.forEach((element) => {\n      let isExist = unique.find((i) => i._id === element._id);\n\n      if (!isExist) {\n        unique.push(element);\n      }\n    });\n    return unique;\n  };\n\n  useEffect(() => {\n    axios.get(\"/paymentplan\").then((res) => {\n      console.log(res?.data);\n      setplanData(res?.data);\n      setplansData(res.data?.plans);\n      let newServices = removeDuplicates(res.data?.services);\n      setservices(newServices);\n    });\n  }, []);\n\n  const handleAddPlans = () => {\n    setloading(true);\n    axios\n      .post(\"/paymentplan/add/service\", {\n        name: title,\n        ...descriptions,\n      })\n      .then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setloading(false);\n        setopenAddService(false);\n        setdescriptions({});\n        settitle(\"\");\n        successAlert(\"Changes Saved\");\n        console.log(res.data.doc);\n        setservices([{ name: title, ...descriptions }, ...services]);\n      })\n      .catch(() => {\n        setloading(false);\n        errorAlert(\"Changes failed to save\");\n      });\n  };\n\n  const handleClickOpen = () => {\n    let plans = planData?.plans;\n    if (plans) {\n      setname({\n        plan1: plans[0]?.name,\n        plan2: plans[1]?.name,\n        plan3: plans[2]?.name,\n      });\n      setdescriptions({\n        plan1: plans[0]?.description,\n        plan2: plans[1]?.description,\n        plan3: plans[2]?.description,\n      });\n      setprices({\n        plan1: plans[0]?.price,\n        plan2: plans[1]?.price,\n        plan3: plans[2]?.price,\n      });\n    }\n\n    setOpen(true);\n  };\n\n  const handleClickEditOpen = (id) => {\n    setopenEditService(true);\n    let service = planData?.services.find((e) => e._id === id);\n    setdescriptions(service);\n    console.log(service);\n    seteditID(id);\n  };\n\n  const handleEditService = () => {\n    setloading(true);\n    axios\n      .put(`/paymentplan/update/services/${editID}`, descriptions)\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setopenEditService(false);\n        setdescriptions({});\n        successAlert(\"Changes Saved\");\n        //  setservices(res.data.doc.services);\n        let newServices = removeDuplicates(res.data.doc?.services);\n        setservices(newServices);\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n        errorAlert(\"Changes failed to save\");\n      });\n  };\n\n  const handleDeleteService = (id) => {\n    axios\n      .put(`/paymentplan/delete/services/${id}`)\n      .then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        console.log(services.filter((i) => i._id !== id));\n        setservices(services.filter((i) => i._id !== id));\n      })\n      .catch((err) => {\n        console.log(err);\n        errorAlert(\"Delete failed\");\n      });\n  };\n\n  const handleEditPlans = () => {\n    setloading(true);\n    axios\n      .put(\"/paymentplan/update/plans\", [\n        {\n          name: name?.plan1,\n          description: descriptions?.plan1,\n          price: prices?.plan1,\n          plan: \"plan1\",\n        },\n        {\n          name: name?.plan2,\n          description: descriptions?.plan2,\n          price: prices?.plan2,\n          plan: \"plan2\",\n        },\n        {\n          name: name?.plan3,\n          description: descriptions?.plan3,\n          price: prices?.plan3,\n          plan: \"plan3\",\n        },\n      ])\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setOpen(false);\n        setprices({});\n        setdescriptions({});\n        setname({});\n        successAlert(\"Changes Saved\");\n        console.log(res.data.doc);\n        setplansData(res.data.doc?.plans);\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n        errorAlert(\"Changes failed to save\");\n      });\n  };\n\n  return (\n    <div>\n      {user?.role === \"admin\" && <CanteenNav />}\n      <h3 className=\"my-5\">Canteen Payment Plan</h3>\n      <table className=\"table content__container\">\n        <thead>\n          <tr>\n            <th scope=\"col\">\n              <h4>Avaliable Payment Plan</h4>\n              <p>\n                {\" \"}\n                <small> What kind of plan are you interested in </small>\n              </p>\n            </th>\n            {plansData &&\n              plansData?.map((plan) => (\n                <th key={plan._id} scope=\"col\">\n                  <h5>\n                    <strong>{plan?.name}</strong>\n                  </h5>\n                  <p>\n                    <small>{plan?.description}</small>\n                  </p>\n                  <h1 className=\"d-flex align-items-end\">\n                    <strong>\n                      {currentCurrency()}\n                      {plan?.price}\n                    </strong>{\" \"}\n                    <small style={{ fontSize: \"0.4em\" }}>/month</small>{\" \"}\n                  </h1>\n                </th>\n              ))}\n            {user?.role === \"admin\" && (\n              <th>\n                <h5>Action</h5>\n                <IconButton onClick={() => handleClickOpen()}>\n                  <EditIcon />\n                </IconButton>\n              </th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {services &&\n            services.map((service) => (\n              <tr key={service._id}>\n                <th scope=\"row\">{service?.name}</th>\n                <td>{service?.plan1}</td>\n                <td>{service?.plan2}</td>\n                <td>{service?.plan3}</td>\n                {user?.role === \"admin\" && (\n                  <td>\n                    <div className=\"d-flex\">\n                      <IconButton\n                        onClick={() => handleClickEditOpen(service?._id)}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => handleDeleteService(service?._id)}\n                      >\n                        <DeleteForeverIcon />\n                      </IconButton>\n                    </div>\n                  </td>\n                )}\n              </tr>\n            ))}\n          {user?.role === \"admin\" && (\n            <tr>\n              <th colSpan=\"4\">Add Additional</th>\n              <th>\n                <IconButton onClick={() => setopenAddService(true)}>\n                  <AddIcon />\n                </IconButton>\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n\n      <Edit\n        open={open}\n        name={name}\n        loading={loading}\n        setname={setname}\n        descriptions={descriptions}\n        setdescriptions={setdescriptions}\n        prices={prices}\n        isPlans={true}\n        setprices={setprices}\n        setOpen={setOpen}\n        onSubmit={handleEditPlans}\n      />\n      <Edit\n        open={openEditService}\n        loading={loading}\n        descriptions={descriptions}\n        setdescriptions={setdescriptions}\n        setOpen={setopenEditService}\n        onSubmit={handleEditService}\n      />\n      <Edit\n        title={title}\n        loading={loading}\n        settitle={settitle}\n        open={openAddService}\n        descriptions={descriptions}\n        setdescriptions={setdescriptions}\n        isAdd={true}\n        setOpen={setopenAddService}\n        onSubmit={handleAddPlans}\n      />\n    </div>\n  );\n}\n\nexport default PaymentPlan;\n"],"sourceRoot":""}