{"version":3,"sources":["AdminComponents/store/sales/Receipt.js"],"names":["Receipt","useState","transaction","settransaction","loading","setloading","school","setschool","id","useParams","useEffect","axios","get","then","res","console","log","data","doc","className","onClick","window","print","src","getImgSrc","profileUrl","width","alt","srcset","fullName","motto","moment","createdAt","format","seller","scope","currentCurrency","items","map","item","i","name","rate","qty","amount","_id","colSpan","amountPaid","totalCost"],"mappings":"wNA6GeA,UAtGf,WAAoB,IAAD,IACqBC,mBAAS,IAD9B,mBACVC,EADU,KACGC,EADH,OAEaF,oBAAS,GAFtB,mBAEVG,EAFU,KAEDC,EAFC,OAGWJ,mBAAS,IAHpB,mBAGVK,EAHU,KAGFC,EAHE,KAITC,EAAOC,cAAPD,GAwBR,OAtBAE,qBAAU,WACRL,GAAW,GACXM,IAAMC,IAAN,uBAA0BJ,IAAMK,MAAK,SAACC,GACpCC,QAAQC,IAAIF,GACZT,GAAW,GACXF,EAAeW,EAAIG,KAAKC,UAEzB,CAACV,IAEJE,qBAAU,WACRL,GAAW,GACXM,IAAMC,IAAN,WAAqBC,MAAK,SAACC,GACzBC,QAAQC,IAAIF,GACZT,GAAW,GACXE,EAAUO,EAAIG,WAEf,IAOD,qCACE,qBAAKE,UAAU,kCAAf,SACE,wBAAQC,QAPM,WAClBC,OAAOC,SAM2BH,UAAU,gBAAxC,qBAIF,sBAAKA,UAAU,qBAAqBX,GAAG,mBAAvC,UACGJ,GAAW,cAAC,IAAD,IACZ,+CACA,sBAAKe,UAAU,cAAf,UACE,qBACEI,IAAKC,YAAS,OAAClB,QAAD,IAACA,OAAD,EAACA,EAAQmB,YACvBC,MAAM,QACNC,IAAI,GACJC,OAAO,KAET,oCAAKtB,QAAL,IAAKA,OAAL,EAAKA,EAAQuB,WACb,oCAAKvB,QAAL,IAAKA,OAAL,EAAKA,EAAQwB,WAEf,gCACE,4CACSC,IAAO7B,EAAY8B,WAAWC,OAAO,kBACpC,IACV,uBACA,+CAAkB/B,EAAYgC,QAAU,UAE1C,wBAAOf,UAAU,QAAjB,UACE,gCACE,+BACE,oBAAIgB,MAAM,MAAV,eACA,oBAAIA,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,iBACA,qBAAIA,MAAM,MAAV,qBAAyBC,cAAzB,YAGJ,kCACGlC,EAAYmC,QAAZ,UACCnC,EAAYmC,aADb,aACC,EAAmBC,KAAI,SAACC,EAAMC,GAAP,OACrB,+BACE,oBAAIL,MAAM,MAAV,SAAiBK,EAAI,IACrB,oCAAKD,QAAL,IAAKA,OAAL,EAAKA,EAAME,OACX,oCAAKF,QAAL,IAAKA,OAAL,EAAKA,EAAMG,OACX,oCAAKH,QAAL,IAAKA,OAAL,EAAKA,EAAMI,MACX,oCAAKJ,QAAL,IAAKA,OAAL,EAAKA,EAAMK,WALJL,EAAKM,SAQlB,+BACE,oBAAIC,QAAS,IACb,6BACE,sBAAK3B,UAAU,qBAAf,UACE,oDACiBiB,cADjB,KAEc,OAAXlC,QAAW,IAAXA,OAAA,EAAAA,EAAa6C,aAAc,OAE9B,mDACgBX,cADhB,KAEc,OAAXlC,QAAW,IAAXA,OAAA,EAAAA,EAAa8C,YAAa,IAAK,OAElC,+CACYZ,cADZ,KAEc,OAAXlC,QAAW,IAAXA,OAAA,EAAAA,EAAa6C,aAAb,OAA0B7C,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAa8C,YAAa","file":"static/js/181.81166521.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"../../../store/axios\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Loading from \"../../../Loading\";\nimport { getImgSrc, currentCurrency } from \"../../../utils\";\n\nfunction Receipt() {\n  const [transaction, settransaction] = useState({});\n  const [loading, setloading] = useState(false);\n  const [school, setschool] = useState({});\n  const { id } = useParams();\n\n  useEffect(() => {\n    setloading(true);\n    axios.get(`/store/sales/${id}`).then((res) => {\n      console.log(res);\n      setloading(false);\n      settransaction(res.data.doc);\n    });\n  }, [id]);\n\n  useEffect(() => {\n    setloading(true);\n    axios.get(`/school`).then((res) => {\n      console.log(res);\n      setloading(false);\n      setschool(res.data);\n    });\n  }, []);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-end mb-3\">\n        <button onClick={handlePrint} className=\"btn blue__btn\">\n          Print\n        </button>\n      </div>\n      <div className=\"content__container\" id=\"section-to-print\">\n        {loading && <Loading />}\n        <h3>Sales Reciept</h3>\n        <div className=\"text-center\">\n          <img\n            src={getImgSrc(school?.profileUrl)}\n            width=\"100px\"\n            alt=\"\"\n            srcset=\"\"\n          />\n          <h4>{school?.fullName}</h4>\n          <h6>{school?.motto}</h6>\n        </div>\n        <div>\n          <strong>\n            Date: {moment(transaction.createdAt).format(\"D MMMM YYYY\")}\n          </strong>{\" \"}\n          <br />\n          <strong>Cashier: {transaction.seller || \"-\"}</strong>\n        </div>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Item</th>\n              <th scope=\"col\">Rate</th>\n              <th scope=\"col\">Qty</th>\n              <th scope=\"col\">Amount ({currentCurrency()})</th>\n            </tr>\n          </thead>\n          <tbody>\n            {transaction.items &&\n              transaction.items?.map((item, i) => (\n                <tr key={item._id}>\n                  <th scope=\"row\">{i + 1}</th>\n                  <td>{item?.name}</td>\n                  <td>{item?.rate}</td>\n                  <td>{item?.qty}</td>\n                  <td>{item?.amount}</td>\n                </tr>\n              ))}\n            <tr>\n              <td colSpan={4}></td>\n              <td>\n                <div className=\"d-flex flex-column\">\n                  <strong>\n                    Amount Paid: ({currentCurrency()})\n                    {transaction?.amountPaid || \"0\"}\n                  </strong>\n                  <strong>\n                    Total Cost: ({currentCurrency()})\n                    {transaction?.totalCost || \"0\"}{\" \"}\n                  </strong>\n                  <strong>\n                    Change: ({currentCurrency()})\n                    {transaction?.amountPaid - transaction?.totalCost || \"0\"}\n                  </strong>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n\nexport default Receipt;\n"],"sourceRoot":""}