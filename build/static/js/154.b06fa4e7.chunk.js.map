{"version":3,"sources":["components/messages/inbox/DefaultView.js","components/messages/inbox/SidebarMessage.js","components/messages/inbox/AddUserModel.js","components/messages/inbox/Sidebar.js","components/messages/inbox/Message.js","components/messages/inbox/MessageContainer.js","TeachersComponents/message/Chat.js"],"names":["DefaultView","className","SidebarMessage","chat","currentUser","useState","user","setuser","lastmessage","setlastmessage","useEffect","userId","requestor_id","acceptor_id","axios","get","trim","then","res","data","profileUrl","name","surname","messages","pop","to","_id","Avatar","alt","getIntial","src","getImgSrc","getCapitalize","getTrimString","timeStamp","date","message","DialogTitle","withStyles","theme","root","margin","padding","spacing","icon","width","height","closeButton","position","right","top","color","palette","grey","props","children","classes","onClose","other","disableTypography","Typography","variant","IconButton","aria-label","onClick","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CustomizedDialogs","open","setOpen","search","setsearch","handleSearch","loadingSearch","searchResults","loading","handleSendRequest","setsearchResults","handleClose","Dialog","fullWidth","maxWidth","aria-labelledby","id","action","onSubmit","value","onChange","e","target","type","placeholder","CircularProgress","style","map","userID","Button","autoFocus","Sidebar","chats","setchats","useSelector","selectUser","setloadingSearch","setloading","sort","x","y","updatedAt","console","log","preventDefault","results","catch","err","post","error","errorAlert","result","Message","senderID","MessageContainer","useParams","setmessages","setmessage","a","response","put","doc","Messaging","component","path"],"mappings":"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","file":"static/js/154.b06fa4e7.chunk.js","sourcesContent":["import React from 'react'\n\nfunction DefaultView() {\n    return (\n        <div className=\"default__chat\">\n            <div>\n            <h1>Welcome , Admin </h1>\n            <h4>Messaging Chat system</h4>\n            </div>\n       </div>\n    )\n}\n\nexport default DefaultView\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Avatar } from \"@material-ui/core\";\nimport axios from \"../../../store/axios\";\nimport {\n  getIntial,\n  getImgSrc,\n  getCapitalize,\n  timeStamp,\n  getTrimString,\n} from \"../../../utils\";\n\nfunction SidebarMessage({ chat, currentUser }) {\n  const [user, setuser] = useState({});\n  const [lastmessage, setlastmessage] = useState({});\n\n  useEffect(() => {\n    let userId =\n      currentUser === chat?.requestor_id\n        ? chat?.acceptor_id\n        : chat?.requestor_id;\n    axios.get(`/user/${userId.trim()}`).then((res) => {\n      let data = res.data.user;\n      setuser({\n        profileUrl: data?.profileUrl,\n        name: data?.name,\n        surname: data?.surname,\n      });\n      setlastmessage(chat?.messages.pop());\n    });\n  }, [chat, currentUser]);\n\n  return (\n    <div className=\"sidemessage\">\n      <Link to={`/messages/chat/${chat?._id}`} className=\"d-flex\">\n        <div className=\"mr-2\">\n          <Avatar\n            alt={getIntial(user?.name || \"O\")}\n            src={getImgSrc(user?.profileUrl)}\n          ></Avatar>\n        </div>\n        <div>\n          <div className=\"d-flex align-center justify-content-between w-100\">\n            <h6>\n              {getCapitalize(user?.name)}{\" \"}\n              {getTrimString(getCapitalize(user?.surname), 5)}\n            </h6>\n            <small className=\"text-muted\">{timeStamp(lastmessage?.date)}</small>\n          </div>\n          <span>\n            {getTrimString(lastmessage?.message || \"last message...\", 20)}\n          </span>\n        </div>\n      </Link>\n    </div>\n  );\n}\n\nexport default SidebarMessage;\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  icon: {\n    width: \"50px\",\n    height: \"50px\",\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nexport default function CustomizedDialogs({\n  open,\n  setOpen,\n  search,\n  setsearch,\n  handleSearch,\n  loadingSearch,\n  searchResults,\n  loading,\n  handleSendRequest,\n  setsearchResults,\n}) {\n  const handleClose = () => {\n    setsearch(\"\");\n    setsearchResults(\"\");\n    setOpen(false);\n  };\n\n  const handleClear = () => {\n    setsearch(\"\");\n  };\n\n  return (\n    <div>\n      <Dialog\n        fullWidth={true}\n        maxWidth=\"sm\"\n        onClose={handleClose}\n        aria-labelledby=\"customized-dialog-title\"\n        open={open}\n      >\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n          Find User\n        </DialogTitle>\n        <DialogContent>\n          <form action=\"\" onSubmit={handleSearch}>\n            <div className=\"search__user\">\n              <div>\n                <SearchIcon />\n                <input\n                  value={search}\n                  onChange={(e) => setsearch(e.target.value)}\n                  type=\"text\"\n                  placeholder=\"Search by name or userID\"\n                />\n              </div>\n              {search && !loadingSearch && <CancelIcon onClick={handleClear} />}\n              <div>\n                {loadingSearch && (\n                  <CircularProgress style={{ width: \"20px\", height: \"20px\" }} />\n                )}\n              </div>\n            </div>\n          </form>\n          <div className=\"mt-3 d-flex results__container justify-content-between align-items-start\">\n            <ul>\n              {searchResults &&\n                searchResults.map((e) => (\n                  <li>\n                    <button\n                      onClick={() => handleSendRequest(e?.userID)}\n                      className=\"btn\"\n                    >\n                      {e.name} {e.surname} - {e.userID}\n                    </button>\n                  </li>\n                ))}\n            </ul>\n            {loading && (\n              <CircularProgress style={{ width: \"20px\", height: \"20px\" }} />\n            )}\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button autoFocus onClick={handleClose} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport SidebarMessage from \"./SidebarMessage\";\nimport axios from \"../../../store/axios\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../../store/slices/userSlice\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddUserModel from \"./AddUserModel\";\nimport { errorAlert, successAlert } from \"src/utils\";\n\nfunction Sidebar() {\n  const [chats, setchats] = useState([]);\n  const user = useSelector(selectUser);\n  const [open, setOpen] = useState(false);\n  const [search, setsearch] = useState(\"\");\n  const [searchResults, setsearchResults] = useState(\"\");\n  const [loadingSearch, setloadingSearch] = useState(false);\n  const [loading, setloading] = useState(false);\n\n  useEffect(() => {\n    axios.get(`/chats/chats/${user?.id}`).then((res) => {\n      setchats(res.data);\n    });\n  }, [user]);\n\n  const handleSendRequest = (id) => {\n    setloading(true);\n    axios\n      .post(`/chats/create`, {\n        acceptor_id: id,\n        requestor_id: user?.userID,\n      })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          return errorAlert(res.data.error);\n        }\n        setOpen(false);\n        //successAlert(`Friend request has been successfully send to ${id}`);\n        axios.get(`/chats/chats/${user?.userID}`).then((result) => {\n          setchats(result.data);\n        });\n      })\n      .catch((err) => {\n        errorAlert(\"Faild\");\n        setloading(false);\n      });\n  };\n\n  const handleSearchUser = (e) => {\n    console.log(\"search\");\n    e.preventDefault();\n    if (search) {\n      setloadingSearch(true);\n      axios\n        .get(`/users/search/${search}`)\n        .then((res) => {\n          let results = res.data;\n          setloadingSearch(false);\n          setsearchResults(results);\n        })\n        .catch((err) => {\n          console.log(err);\n          setloading(false);\n        });\n    }\n  };\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar__header p-2 mb-2\">\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <h5>\n            <strong>Chats</strong>\n          </h5>\n          <div>\n            <button onClick={() => setOpen(true)} className=\"btn\">\n              <PersonAddIcon />\n            </button>\n          </div>\n        </div>\n      </div>\n      {/* <div className=\"sidebar__search p-2\">\n        <form action=\"\">\n          <input type=\"text\" placeholder=\"Search...\" />\n          <SearchIcon />\n        </form>\n      </div> */}\n      <div>\n        {chats &&\n          chats\n            .sort((x, y) => {\n              return x.updatedAt - y.updatedAt;\n            })\n            .map((chat) => (\n              <SidebarMessage\n                key={chat._id}\n                chat={chat}\n                currentUser={user?.id}\n              />\n            ))}\n      </div>\n      <AddUserModel\n        search={search}\n        setsearch={setsearch}\n        handleSearch={handleSearchUser}\n        open={open}\n        searchResults={searchResults}\n        setsearchResults={setsearchResults}\n        loadingSearch={loadingSearch}\n        setOpen={setOpen}\n        loading={loading}\n        handleSendRequest={handleSendRequest}\n      />\n    </div>\n  );\n}\n\nexport default Sidebar;\n","import React from 'react'\nimport {timeStamp} from '../../../utils'\n\nfunction Message({message, currentUser}) {\n    return (\n        <div className={currentUser === message?.senderID? \"sender__mesaage message\" : \"message\"}>\n            <div className=\"message__content\">\n               {message?.message}\n            </div>\n            <div className=\"message__time \">{timeStamp(message.date)}</div>\n        </div>\n    )\n}\n\nexport default Message\n","import React, { useState, useEffect } from \"react\";\nimport Message from \"./Message\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../../store/slices/userSlice\";\nimport { Avatar } from \"@material-ui/core\";\nimport { getImgSrc, getCapitalize, getIntial } from \"../../../utils\";\n\nfunction MessageContainer() {\n  const { id } = useParams();\n  const [messages, setmessages] = useState([]);\n  const [message, setmessage] = useState(\"\");\n  const [user, setuser] = useState({});\n  const currentUser = useSelector(selectUser);\n\n  useEffect(() => {\n    axios.get(`/chats/chat/${id}`).then(async (res) => {\n      setmessages(res.data?.messages);\n      let userId =\n        currentUser?.id === res.data?.requestor_id\n          ? res.data?.acceptor_id\n          : res.data?.requestor_id;\n      await axios.get(`/user/${userId}`).then((response) => {\n        setuser(response.data.user);\n      });\n    });\n  }, [id, currentUser]);\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    if (message) {\n      axios\n        .put(`/chats/send/${id}`, { message, senderID: currentUser?.id })\n        .then((res) => {\n          console.log(res.data);\n          setmessages(res.data.doc?.messages);\n          setmessage(\"\");\n        });\n    }\n  };\n\n  return (\n    <div className=\"message__container\">\n      <div className=\"header d-flex\">\n        <Avatar\n          src={getImgSrc(user?.profileUrl)}\n          alt={getIntial(user?.name || \"U\")}\n        />\n        <div className=\"ml-3\">\n          <h6>\n            {\" \"}\n            {getCapitalize(user?.name || \"A\")} {getCapitalize(user?.surname)}\n          </h6>\n          <span>{user?.userID}</span>\n        </div>\n      </div>\n      <div className=\"message__messages p-2\">\n        {messages &&\n          messages.map((e) => (\n            <Message message={e} key={e._id} currentUser={currentUser?.id} />\n          ))}\n      </div>\n      <form onSubmit={handleSendMessage} className=\"send\">\n        <input\n          value={message}\n          onChange={(e) => setmessage(e.target.value)}\n          type=\"text\"\n          placeholder=\"Type here ...\"\n        />\n        <button type=\"submit\" className=\"btn\">\n          Send\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default MessageContainer;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Sidebar from \"../../components/messages/inbox/Sidebar\";\nimport Message from \"../../components/messages/inbox/MessageContainer\";\nimport DefaultView from \"../../components/messages/inbox/DefaultView\";\n\nfunction Messaging() {\n  return (\n    <div>\n      <div className=\" messages__container \">\n        <Sidebar />\n        <Switch>\n          <Route component={Message} path=\"/messages/chat/:id\" />\n          <Route component={DefaultView} path=\"/messages/chat\" />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default Messaging;\n"],"sourceRoot":""}