(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[100],{1904:function(e,t,n){"use strict";n.r(t);var c=n(735),a=n.n(c),s=n(736),r=n(716),i=n(1),l=n(76),o=n(38),d=n(718),j=n(916),u=n(32),b=n(14);t.default=function(){var e=Object(l.c)(u.l),t=Object(l.c)(u.m),n=Object(i.useState)(t.currentTerm),c=Object(r.a)(n,2),h=c[0],O=c[1],m=Object(i.useState)(t.currentYear),x=Object(r.a)(m,2),f=x[0],v=x[1],p=Object(i.useState)(""),N=Object(r.a)(p,2),S=N[0],g=N[1],y=Object(i.useState)(""),w=Object(r.a)(y,2),_=w[0],k=w[1],C=Object(i.useState)(!1),T=Object(r.a)(C,2),E=T[0],D=T[1],F=Object(i.useState)({}),P=Object(r.a)(F,2),I=P[0],R=P[1],Y=Object(i.useState)([]),A=Object(r.a)(Y,2),J=A[0],V=A[1],M=Object(i.useState)(!1),U=Object(r.a)(M,2),W=U[0],q=U[1],z=Object(i.useState)({}),B=Object(r.a)(z,2),G=B[0],H=B[1];return Object(i.useEffect)((function(){o.a.get("/school").then((function(e){R(e.data)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Academic Transcript"}),Object(b.jsxs)("form",{action:"",className:"row content__container",children:[Object(b.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(b.jsx)("label",{className:"form-label",children:"Term"}),Object(b.jsxs)("select",{name:"type",value:h,onChange:function(e){return O(e.target.value)},id:"inputState",className:"form-select",children:[Object(b.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(b.jsx)("option",{value:"1",children:"1st"}),Object(b.jsx)("option",{value:"2",children:"2rd"}),Object(b.jsx)("option",{value:"3",children:"3rd"})]})]}),Object(b.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(b.jsx)("label",{className:"form-label",children:"Year"}),Object(b.jsxs)("select",{name:"type",value:f,onChange:function(e){return v(e.target.value)},id:"inputState",className:"form-select",children:[Object(b.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),e.length>0?e.map((function(e){return Object(b.jsx)("option",{value:e.year,children:e.year},e._id)})):Object(b.jsx)("option",{disabled:!0,children:"No data yet"})]})]}),Object(b.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(b.jsx)("label",{className:"form-label",children:"Student ID"}),Object(b.jsx)("input",{value:S,onChange:function(e){return g(e.target.value)},className:"form-control"})]}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsxs)("button",{onClick:function(e){if(q(!1),e.preventDefault(),!S)return Object(d.c)("select student");k(!0),o.a.get("sba/student/".concat(S,"/").concat(f,"/").concat(h)).then(function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/students/student/".concat(S));case 2:if(n=e.sent,console.log(n),k(!1),D(!0),!n.data.error){e.next=8;break}return e.abrupt("return",q(!0));case 8:if(H(n.data.student),k(!1),!t.data.error){e.next=12;break}return e.abrupt("return",Object(d.c)("Student does not exist"));case 12:V(t.data.docs);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},disabled:_,type:"submit",className:"btn blue__btn",children:[_&&Object(b.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Search"]})})]}),E&&Object(b.jsxs)("div",{className:"content__container mt-4",id:"section-to-print",children:[Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("h5",{children:Object(b.jsx)("strong",{children:null===I||void 0===I?void 0:I.fullName})}),Object(b.jsx)("h6",{children:null===I||void 0===I?void 0:I.motto}),Object(b.jsxs)("h5",{className:"my-4",children:["STUDENT TRANSCRIPT FOR ",null===G||void 0===G?void 0:G.userID]})]}),W?Object(b.jsxs)("div",{children:[" ",Object(b.jsx)("h3",{className:"text-center text-danger",children:"Student Not found"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsxs)("h6",{children:[null===G||void 0===G?void 0:G.name," ",null===G||void 0===G?void 0:G.surname]}),Object(b.jsxs)("div",{children:["Term ",h," - Year ",f]})]}),Object(b.jsxs)("table",{className:"table table-bordered",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Subject"}),Object(b.jsx)("th",{scope:"col",children:"Final Score"}),Object(b.jsx)("th",{scope:"col",children:"Position"})]})}),Object(b.jsx)("tbody",{children:J.length>0?J.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:null===e||void 0===e?void 0:e.course}),Object(b.jsx)("td",{children:(null===e||void 0===e?void 0:e.exam)+e.classWork}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.position})]})})):Object(b.jsx)("tr",{children:Object(b.jsx)("td",{colSpan:3,className:"text-center",children:"No Data"})})})]}),Object(b.jsxs)("div",{className:"my-3 text-center",children:[Object(b.jsx)("button",{onClick:function(){window.print()},className:"btn blue__btn mr-2",children:"Print"}),Object(b.jsx)(j.a,{data:J,columns:[{id:"subject",name:"Subject"},{id:"term",name:"Term"},{id:"mark",name:"Mark"}],btn:"save"})]})]})]})]})}},735:function(e,t,n){e.exports=n(419)},736:function(e,t,n){"use strict";function c(e,t,n,c,a,s,r){try{var i=e[s](r),l=i.value}catch(o){return void n(o)}i.done?t(l):Promise.resolve(l).then(c,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function i(e){c(r,a,s,i,l,"next",e)}function l(e){c(r,a,s,i,l,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return a}))},916:function(e,t,n){"use strict";n(1);var c=n(926),a=n.n(c),s=(n(722),n(14)),r=a.a.ExcelFile,i=a.a.ExcelFile.ExcelSheet,l=a.a.ExcelFile.ExcelColumn;t.a=function(e){var t=e.data,n=e.btn,c=e.name,a=e.columns;return Object(s.jsx)(r,{element:Object(s.jsx)("button",{className:"btn blue__btn",children:n||"Download"}),children:Object(s.jsx)(i,{data:t,name:c||"data",children:a.map((function(e){return Object(s.jsx)(l,{label:e.name,value:e.id},e.id)}))})})}},927:function(e,t){},928:function(e,t){},929:function(e,t){},930:function(e,t){},931:function(e,t){},932:function(e,t){},933:function(e,t){},934:function(e,t){},935:function(e,t){},936:function(e,t){}}]);
//# sourceMappingURL=100.ff27ef82.chunk.js.map