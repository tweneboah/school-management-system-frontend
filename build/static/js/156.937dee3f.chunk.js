(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[156],{1281:function(e,t,a){"use strict";a(1);var n=a(563),c=a(1064),s=a(1065),r=a(1062),l=a(1063),i=a(1060),o=a(1061),u=a(944),d=a(1425),b=a.n(d),j=a(728),m=a.n(j),O=a(14),x=Object(n.a)({table:{width:"100%"}});t.a=function(e){var t=e.rows,a=e.handleEdit,n=e.examMark,d=e.classWorkPercentage,j=e.examPercentage,h=e.setexamMark,f=e.classworkMark,v=e.setclassworkMark,p=e.handleOpenPercentage,N=x(),g=function(e,t){if(!e&&!t)return"-";var a=W(e,t);return a>=75&&a<=100?"A1":a>=70&&a<=74?"B2":a>=65&&a<=69?"B3":a>=60&&a<=64?"C4":a>=55&&a<=59?"C5":a>=50&&a<=54?"C6":a>=45&&a<=49?"D7":a>=40&&a<=44?"E8":a>=0&&a<=39?"F9":null},k=function(e,t){if(!e&&!t)return"-";var a=W(e,t);return(a=Number(a))>75&&a<=100?"Excellent":a>=70&&a<=74?"Vert good":a>=65&&a<=69?"Good":a>=60&&a<=64||a>=55&&a<=59||a>=50&&a<=54?"Credit":a>=45&&a<=49||a>=40&&a<=44?"Pass":a>=0&&a<=39?"Failure":null},S=function(e,t,a){if(e&&t&&a){var n=Number(e)/Number(a)*(Number(t)/100);return Number(100*n).toFixed(0)}return null},C=function(e,t,a){if(e&&t&&a){var n=Number(e)/Number(a)*(Number(t)/100);return Number(100*n).toFixed(0)}return null},W=function(e,t){if(!e&&!t)return"-";var a=Number(e)/Number(f||0)*(Number(d||0)/100),c=Number(t)/Number(n)*(Number(j||0)/100);return(100*Number(c+a)).toFixed(0)};return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{className:"mb-5",children:"Continuous Assessment"}),Object(O.jsx)(l.a,{className:"mb-5",component:u.a,children:Object(O.jsxs)(c.a,{className:N.table,"aria-label":"spanning table",children:[Object(O.jsx)(i.a,{children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(r.a,{align:"left",children:"ID"}),Object(O.jsx)(r.a,{align:"left",colSpan:3,children:"Name of Student"}),Object(O.jsxs)(r.a,{align:"left",children:["Class Work",Object(O.jsx)("input",{className:"form-control",name:"classworkMark",type:"number",onChange:function(e){return v(e.target.value)},value:f})]}),Object(O.jsxs)(r.a,{align:"left",children:["Class Work (",d,"%)",Object(O.jsxs)("button",{onClick:function(){return p()},className:"btn",children:["Set ",Object(O.jsx)(m.a,{})]})]}),Object(O.jsxs)(r.a,{align:"left",children:["Exam",Object(O.jsx)("input",{className:"form-control",type:"number",onChange:function(e){return h(e.target.value)},value:n})," "]}),Object(O.jsxs)(r.a,{align:"left",children:["Exam (",j,"%)",Object(O.jsxs)("button",{onClick:function(){return p()},className:"btn",children:["Set ",Object(O.jsx)(m.a,{})]})]}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("small",{children:"Total 100%"})}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("small",{children:"Grade"})}),Object(O.jsxs)(r.a,{align:"left",children:[" ",Object(O.jsx)("small",{children:"Interpretation"})]}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("small",{children:"Position"})}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("small",{children:"Set"})})]})}),Object(O.jsx)(s.a,{children:(null===t||void 0===t?void 0:t.length)>0?Object(O.jsx)(O.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(O.jsxs)(o.a,{children:[Object(O.jsx)(r.a,{children:null===e||void 0===e?void 0:e.userID}),Object(O.jsx)(r.a,{colSpan:3,align:"left",children:null===e||void 0===e?void 0:e.name}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("input",{readOnly:!0,value:(null===e||void 0===e?void 0:e.classWork)||"-",type:"text",className:"form-control"})}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("input",{readOnly:!0,value:S(null===e||void 0===e?void 0:e.classWork,d,f),type:"text",className:"form-control"})}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("input",{readOnly:!0,value:null===e||void 0===e?void 0:e.exam,type:"text",className:"form-control"})}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("input",{readOnly:!0,value:C(null===e||void 0===e?void 0:e.exam,j,n),type:"text",className:"form-control"})}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsxs)("small",{children:[" ",null===e||void 0===e?void 0:e.total]})}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsxs)("small",{children:[" ",g(null===e||void 0===e?void 0:e.classWork,null===e||void 0===e?void 0:e.exam)]})}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsxs)("small",{children:[" ",k(null===e||void 0===e?void 0:e.classWork,null===e||void 0===e?void 0:e.exam)]})}),Object(O.jsxs)(r.a,{align:"left",children:[" ",Object(O.jsx)("small",{children:null===e||void 0===e?void 0:e.position})," "]}),Object(O.jsx)(r.a,{align:"left",children:Object(O.jsx)("button",{onClick:function(){return a(null===e||void 0===e?void 0:e.userID)},className:"btn btn-sm",children:Object(O.jsx)(b.a,{})})})]},null===e||void 0===e?void 0:e.userID)}))}):Object(O.jsxs)(r.a,{colSpan:10,children:[Object(O.jsx)("strong",{children:"There are no students in this class"})," "]})})]})})]})}},1282:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(80),c=a(1),s=a.n(c),r=a(563),l=a(825),i=a(1090),o=a(1423),u=a(1780),d=a(1500),b=a(742),j=a.n(b),m=a(1134),O=a(747),x=a(14),h=Object(r.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),f=s.a.forwardRef((function(e,t){return Object(x.jsx)(m.a,Object(n.a)({direction:"up",ref:t},e))}));function v(e){var t=e.open,a=e.setOpen,n=e.name,c=e.userID,s=e.exam,r=e.setexam,b=e.classWork,m=e.setclassWork,v=e.onSubmit,p=e.classID,N=e.loading,g=(e.position,e.setposition),k=e.classworkMark,S=e.examMark,C=h(),W=Object(O.a)(),P=W.register,y=W.handleSubmit,w=W.errors,D=function(){g(""),m(""),r(""),a(!1)};return Object(x.jsxs)(l.a,{fullScreen:!0,open:t,onClose:D,TransitionComponent:f,children:[Object(x.jsx)(i.a,{color:"transparent",className:C.appBar,children:Object(x.jsxs)(o.a,{children:[Object(x.jsxs)(d.a,{variant:"h6",className:C.title,children:[n," - ",c]}),Object(x.jsx)(u.a,{edge:"start",color:"inherit",onClick:D,"aria-label":"close",children:Object(x.jsx)(j.a,{})})]})}),Object(x.jsxs)("form",{action:"",className:"m-5",children:[Object(x.jsxs)("h3",{className:"mb-5",children:["Set Grades for Class ",p," "]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsxs)("label",{className:"form-label",children:["Set ClassWork ( out of ",Number(k||0),")"]}),Object(x.jsx)("input",{value:b,ref:P({min:0,max:Number(k||0)+1}),onChange:function(e){return m(e.target.value)},type:"number",className:"form-control col-sm-6",name:"a1"}),w.a1&&Object(x.jsxs)("span",{className:" form-error text-danger mb-2",children:["out of (",Number(k||0)]})]}),Object(x.jsxs)("div",{className:"mb-5",children:[Object(x.jsxs)("label",{className:"form-label",children:["Exam Mark (out of ",Number(S||0),")"]}),Object(x.jsx)("input",{value:s,ref:P({min:0,max:Number(S||0)+1}),onChange:function(e){return r(e.target.value)},type:"number",className:"form-control col-6",name:"exams"}),w.exams&&Object(x.jsxs)("span",{className:" form-error text-danger mb-2",children:["out of (",Number(S||0)]})]}),Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsxs)("button",{disabled:N,onClick:y(v),className:"btn blue__btn",children:[N&&Object(x.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Submit Changes"]})})]})]})}},1905:function(e,t,a){"use strict";a.r(t);var n=a(80),c=a(737),s=a.n(c),r=a(738),l=a(719),i=a(1),o=a.n(i),u=a(32),d=a(79),b=a(38),j=a(14);var m=function(e){var t=e.classID,a=e.setclass,n=e.loading,c=e.term,o=e.setterm,m=e.academicYear,O=e.setacademicYear,x=e.course,h=e.setcourse,f=e.handleSearch,v=Object(d.c)(u.c),p=Object(d.c)(u.m),N=Object(i.useState)(),g=Object(l.a)(N,2),k=g[0],S=g[1],C=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(t),h(""),e.next=4,b.a.get("courses/class/".concat(t)).then((function(e){S(e.data.docs.map((function(e){return{code:e.code,name:e.name}})))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{className:"content__container col-8 mb-5",children:[Object(j.jsx)("h6",{children:"Search Class"}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Class"}),Object(j.jsx)("div",{className:"",children:Object(j.jsxs)("select",{name:"academic-calendar",className:"form-select",value:t,onChange:function(e){return C(e.target.value)},children:[Object(j.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),v.length>0?v.map((function(e){return Object(j.jsx)("option",{value:e.classCode,children:e.name},e._id)})):Object(j.jsx)("option",{disabled:!0,children:"No classes yet"})]})})]}),t&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Course"}),Object(j.jsx)("div",{className:"",children:Object(j.jsxs)("select",{name:"academic-calendar",className:"form-select",value:x,onChange:function(e){return h(e.target.value)},children:[Object(j.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),(null===k||void 0===k?void 0:k.length)>0?k.map((function(e){return Object(j.jsx)("option",{value:e.code,children:e.name},e._id)})):Object(j.jsx)("option",{disabled:!0,children:"No courses yet for this class"})]})})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Academic Year"}),Object(j.jsx)("div",{className:"",children:Object(j.jsxs)("select",{name:"academic-calendar",className:"form-select",value:m,onChange:function(e){return O(e.target.value)},children:[Object(j.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),p.length>0?p.map((function(e){return Object(j.jsx)("option",{value:e.year,children:e.year},e._id)})):Object(j.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Term"}),Object(j.jsx)("div",{className:"",children:Object(j.jsxs)("select",{name:"academic-calendar",className:"form-select",value:c,onChange:function(e){return o(e.target.value)},children:[Object(j.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(j.jsx)("option",{value:"1",children:"1"}),Object(j.jsx)("option",{value:"2",children:"2"}),Object(j.jsx)("option",{value:"3",children:"3"})]})})]})]}),Object(j.jsx)("div",{className:"",children:Object(j.jsx)("div",{children:Object(j.jsxs)("button",{onClick:f,disabled:n||!t,type:"submit",className:"btn blue__btn",children:[n&&Object(j.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Search"]})})})]})},O=a(1281),x=a(721),h=a(1282),f=a(563),v=a(825),p=a(1090),N=a(1423),g=a(1780),k=a(1500),S=a(742),C=a.n(S),W=a(1134),P=a(747),y=Object(f.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),w=o.a.forwardRef((function(e,t){return Object(j.jsx)(W.a,Object(n.a)({direction:"up",ref:t},e))}));function D(e){var t=e.open,a=e.setOpen,n=e.examPercentage,c=e.setexamPercentage,s=e.classWorkPercentage,r=e.setclassWorkPercentage,l=e.onSubmit,i=e.classID,o=e.loading,u=y(),d=Object(P.a)(),b=d.register,m=d.handleSubmit,O=function(){console.log("ndhou"),a(!1)};return Object(j.jsxs)(v.a,{fullScreen:!0,open:t,onClose:O,TransitionComponent:w,children:[Object(j.jsx)(p.a,{color:"transparent",className:u.appBar,children:Object(j.jsxs)(N.a,{children:[Object(j.jsxs)(k.a,{variant:"h6",className:u.title,children:["Set Percentages for Class ",i]}),Object(j.jsx)(g.a,{edge:"start",color:"inherit",onClick:O,"aria-label":"close",children:Object(j.jsx)(C.a,{})})]})}),Object(j.jsxs)("form",{action:"",className:"m-5",children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",children:"Set ClassWork %"}),Object(j.jsx)("input",{value:s,ref:b({min:0,max:100}),onChange:function(e){return r(e.target.value)},type:"number",className:"form-control col-sm-6",name:"a1"})]}),Object(j.jsxs)("div",{className:"mb-5",children:[Object(j.jsx)("label",{className:"form-label",children:"Exam %"}),Object(j.jsx)("input",{value:n,ref:b({min:0,max:100}),onChange:function(e){return c(e.target.value)},type:"number",className:"form-control col-6",name:"exams"})]}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsxs)("button",{disabled:o,onClick:m(l),className:"btn blue__btn",children:[o&&Object(j.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Save Changes"]})})]})]})}t.default=function(){var e=Object(i.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(i.useState)([]),u=Object(l.a)(o,2),d=u[0],f=u[1],v=Object(i.useState)(""),p=Object(l.a)(v,2),N=p[0],g=p[1],k=Object(i.useState)(""),S=Object(l.a)(k,2),C=S[0],W=S[1],P=Object(i.useState)(""),y=Object(l.a)(P,2),w=y[0],I=y[1],_=Object(i.useState)(""),M=Object(l.a)(_,2),F=M[0],B=M[1],E=Object(i.useState)(""),A=Object(l.a)(E,2),T=A[0],V=A[1],Y=Object(i.useState)(!1),G=Object(l.a)(Y,2),J=G[0],L=G[1],R=Object(i.useState)(""),q=Object(l.a)(R,2),z=q[0],H=q[1],K=Object(i.useState)(""),Q=Object(l.a)(K,2),U=Q[0],X=Q[1],Z=Object(i.useState)(""),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=Object(i.useState)(""),ne=Object(l.a)(ae,2),ce=ne[0],se=ne[1],re=Object(i.useState)(!1),le=Object(l.a)(re,2),ie=le[0],oe=le[1],ue=Object(i.useState)({}),de=Object(l.a)(ue,2),be=de[0],je=de[1],me=Object(i.useState)(!1),Oe=Object(l.a)(me,2),xe=Oe[0],he=Oe[1],fe=Object(i.useState)(!1),ve=Object(l.a)(fe,2),pe=ve[0],Ne=ve[1],ge=Object(i.useState)(""),ke=Object(l.a)(ge,2),Se=ke[0],Ce=ke[1],We=Object(i.useState)(!1),Pe=Object(l.a)(We,2),ye=Pe[0],we=Pe[1],De=Object(i.useState)(""),Ie=Object(l.a)(De,2),_e=Ie[0],Me=Ie[1],Fe=Object(i.useState)(""),Be=Object(l.a)(Fe,2),Ee=Be[0],Ae=Be[1],Te=Object(i.useState)(""),Ve=Object(l.a)(Te,2),Ye=Ve[0],Ge=Ve[1],Je=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe(!1),f([]),g(""),V(""),W(""),t.preventDefault(),""!==U&&""!==z&&""!==ee&&""!==ce){e.next=8;break}return e.abrupt("return",Object(x.c)("Please select all fields"));case 8:return he(!0),e.next=11,b.a.get("/classes/classCode/".concat(U)).then(function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=t.data.docs)||void 0===a?void 0:a.sba)&&!1!==(null===(n=t.data.docs)||void 0===n?void 0:n.sba)){e.next=3;break}return he(!1),e.abrupt("return",Object(x.c)("SBA not set for this class"));case 3:return oe(!0),e.next=6,b.a.get("/sba/".concat(U,"/").concat(ee,"/").concat(ce,"/").concat(z)).then((function(e){var t;he(!1);var a=e.data.docs;c(a),W(null===a||void 0===a?void 0:a.classWork),g(null===a||void 0===a?void 0:a.exam),Ce(null===a||void 0===a?void 0:a.examPercentage),Me(null===a||void 0===a?void 0:a.classWorkPercentage);var n=null===a||void 0===a||null===(t=a.students)||void 0===t?void 0:t.sort((function(e,t){return Number((null===t||void 0===t?void 0:t.total)||0)-Number((null===e||void 0===e?void 0:e.total)||0)}));f(n)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(e){if(e){var t=Number(e)/Number(C)*(Number(_e)/100);return Number(100*t).toFixed(0)}return null},Re=function(e){if(e){var t=Number(e)/Number(N)*(Number(Se)/100);return Number(100*t).toFixed(0)}return null},qe=function(e,t){var a=Re(e),n=Le(t);return Number(a)+Number(n)},ze=function(){var e=Object(r.a)(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ne(!0),t=d.map((function(e){return e.userID===be.userID?{classWork:F,exam:w,classWorkPercentage:Le(F),examPercentage:Re(w),total:qe(w,F),userID:null===be||void 0===be?void 0:be.userID,name:null===be||void 0===be?void 0:be.name}:e})),console.log(t),c=t.sort((function(e,t){return Number((null===t||void 0===t?void 0:t.total)||0)-Number((null===e||void 0===e?void 0:e.total)||0)})).map((function(e,t){return Object(n.a)(Object(n.a)({},e),{},{position:t+1})})),e.next=6,b.a.put("/sba/update/".concat(null===a||void 0===a?void 0:a._id),{students:c}).then((function(e){console.log(e.data),L(!1),Ne(!1),f(c)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"S.B.A"}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)(m,{academicYear:ce,setacademicYear:se,setterm:H,term:z,course:ee,setcourse:te,classID:U,setclass:X,loading:xe,handleSearch:Je})}),ie&&Object(j.jsx)(O.a,{setclassWork:B,rows:d,examMark:N,setexamMark:function(e){console.log("click"),b.a.put("/sba/update/".concat(null===a||void 0===a?void 0:a._id),{exam:e}).then((function(){return g(e)}))},classworkMark:C,setclassworkMark:function(e){b.a.put("/sba/update/".concat(null===a||void 0===a?void 0:a._id),{classWork:e}).then((function(){return W(e)}))},handleEdit:function(e){if(!C)return Object(x.c)("Please set  classWork %");if(!N)return Object(x.c)("Please set  exam score %");L(!0);var t=a.students.find((function(t){return t.userID===e}));je(t),I(null===t||void 0===t?void 0:t.exam),B(null===t||void 0===t?void 0:t.classWork),V(null===t||void 0===t?void 0:t.position)},examPercentage:Se,classWorkPercentage:_e,handleOpenPercentage:function(){we(!0),Ge(_e),Ae(Se)}}),Object(j.jsx)(h.a,{name:null===be||void 0===be?void 0:be.name,userID:null===be||void 0===be?void 0:be.userID,exam:w,examMark:N,classworkMark:C,classID:U,loading:pe,setposition:V,position:T,setexam:I,setclassWork:B,classWork:F,open:J,onSubmit:ze,setOpen:L}),Object(j.jsx)(D,{open:ye,classID:U,setOpen:we,examPercentage:Ee,setexamPercentage:function(e){Ae(e),Ge(100-e)},classWorkPercentage:Ye,setclassWorkPercentage:function(e){Ae(100-e),Ge(e)},onSubmit:function(){b.a.put("/sba/update/".concat(null===a||void 0===a?void 0:a._id),{examPercentage:Ee,classWorkPercentage:Ye}).then((function(){Ce(Ee),Me(Ye),we(!1)}))}})]})}}}]);
//# sourceMappingURL=156.937dee3f.chunk.js.map