{"version":3,"sources":["StudentComponents/classes/Search.js","StudentComponents/classes/Results.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@material-ui/icons/Print.js"],"names":["Search","yearGroup","academicYear","setacademicYear","term","setterm","loading","handleSearch","action","className","htmlFor","name","value","onChange","e","target","defaultValue","hidden","length","map","year","_id","disabled","onClick","type","role","aria-hidden","ReportCard","useState","results","setresults","currentUser","useSelector","selectUser","user","setuser","show","setshow","setyear","years","selectYearGroup","setloading","selectedterm","setselectedterm","selectedyear","setselectedyear","school","setschool","useEffect","axios","get","then","res","data","a","userID","student","getData","getTotal","exams","work","Number","getGrade","classwork","exam","num","getInterpretation","preventDefault","docs","console","log","id","fullName","motto","middleName","surname","classID","scope","course","classWork","classWorkPercentage","examPercentage","position","colSpan","window","print","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","default","React","_default","createElement","d"],"mappings":"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","file":"static/js/144.f8a50acf.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Search({\n  yearGroup,\n  academicYear,\n  setacademicYear,\n  term,\n  setterm,\n  loading,\n  handleSearch,\n}) {\n  return (\n    <form action=\"\" className=\"content__container\">\n      <h3>Search</h3>\n      <div className=\"mb-3\">\n        <label htmlFor=\"name\" className=\"col-form-label\">\n          Academic Year\n        </label>\n        <div className=\"\">\n          <select\n            name=\"academic-calendar\"\n            className=\"form-select\"\n            value={academicYear}\n            onChange={(e) => setacademicYear(e.target.value)}\n          >\n            <option defaultValue hidden>\n              Choose...\n            </option>\n            {yearGroup.length > 0 ? (\n              yearGroup.map((e) => (\n                <option key={e._id} value={e.year}>\n                  {e.year}\n                </option>\n              ))\n            ) : (\n              <option disabled>No data</option>\n            )}\n          </select>\n        </div>\n      </div>\n      <div className=\"mb-3\">\n        <label htmlFor=\"name\" className=\"col-form-label\">\n          Term\n        </label>\n        <div className=\"\">\n          <select\n            name=\"academic-calendar\"\n            className=\"form-select\"\n            value={term}\n            onChange={(e) => setterm(e.target.value)}\n          >\n            <option defaultValue hidden>\n              Choose...\n            </option>\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\">3</option>\n          </select>\n        </div>\n      </div>\n      <div className=\"\">\n        <button\n          onClick={handleSearch}\n          disabled={loading}\n          type=\"submit\"\n          className=\"btn blue__btn\"\n        >\n          {loading && (\n            <span\n              className=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n              aria-hidden=\"true\"\n            ></span>\n          )}\n          {\"Search\"}\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default Search;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport { selectYearGroup } from \"../../store/slices/schoolSlice\";\nimport axios from \"../../store/axios\";\nimport PrintIcon from \"@material-ui/icons/Print\";\nimport Search from \"./Search\";\n\nfunction ReportCard() {\n  const [results, setresults] = useState([]);\n  const currentUser = useSelector(selectUser);\n  const [user, setuser] = useState({});\n  const [show, setshow] = useState(false);\n  const [year, setyear] = useState(\"\");\n  const years = useSelector(selectYearGroup);\n  const [term, setterm] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [selectedterm, setselectedterm] = useState(\"\");\n  const [selectedyear, setselectedyear] = useState(\"\");\n  const [school, setschool] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"/school\").then((res) => {\n      setschool(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    const getData = async () => {\n      let student = await axios.get(`/students/student/${currentUser?.userID}`);\n      setuser(student.data.student);\n    };\n    getData();\n  }, [currentUser]);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const getTotal = (exams, work) => {\n    if (!work && !exams) {\n      return \"-\";\n    }\n    return Number(exams || 0) + Number(work || 0);\n  };\n\n  const getGrade = (classwork, exam) => {\n    if (!classwork && !exam) {\n      return \"-\";\n    }\n    let num = getTotal(classwork, exam);\n    if (num >= 75 && num <= 100) {\n      return \"A1\";\n    } else if (num >= 70 && num <= 74) {\n      return \"B2\";\n    } else if (num >= 65 && num <= 69) {\n      return \"B3\";\n    } else if (num >= 60 && num <= 64) {\n      return \"C4\";\n    } else if (num >= 55 && num <= 59) {\n      return \"C5\";\n    } else if (num >= 50 && num <= 54) {\n      return \"C6\";\n    } else if (num >= 45 && num <= 49) {\n      return \"D7\";\n    } else if (num >= 40 && num <= 44) {\n      return \"E8\";\n    } else if (num >= 0 && num <= 39) {\n      return \"F9\";\n    } else {\n      return null;\n    }\n  };\n\n  const getInterpretation = (classwork, exam) => {\n    if (!classwork && !exam) {\n      return \"-\";\n    }\n    let num = getTotal(classwork, exam);\n    num = Number(num);\n    if (num > 75 && num <= 100) {\n      return \"Excellent\";\n    } else if (num >= 70 && num <= 74) {\n      return \"Vert good\";\n    } else if (num >= 65 && num <= 69) {\n      return \"Good\";\n    } else if (num >= 60 && num <= 64) {\n      return \"Credit\";\n    } else if (num >= 55 && num <= 59) {\n      return \"Credit\";\n    } else if (num >= 50 && num <= 54) {\n      return \"Credit\";\n    } else if (num >= 45 && num <= 49) {\n      return \"Pass\";\n    } else if (num >= 40 && num <= 44) {\n      return \"Pass\";\n    } else if (num >= 0 && num <= 39) {\n      return \"Failure\";\n    } else {\n      return null;\n    }\n  };\n\n  const handleSearch = async (e) => {\n    setloading(true);\n    e.preventDefault();\n    await axios\n      .get(`sba/student/${currentUser?.userID}/${year}/${term}`)\n      .then((res) => {\n        setloading(false);\n        setshow(true);\n        setselectedterm(term);\n        setselectedyear(year);\n        setresults(res.data.docs);\n        console.log(res.data.docs);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"mb-5\">\n        <Search\n          yearGroup={years}\n          academicYear={year}\n          setacademicYear={setyear}\n          term={term}\n          setterm={setterm}\n          loading={loading}\n          handleSearch={handleSearch}\n        />\n      </div>\n      {show && (\n        <>\n          <div id=\"section-to-print\" className=\"content__container my-5\">\n            <div className=\"text-center\">\n              <h3>{school?.fullName}</h3>\n              <p>\n                <strong>{school?.motto}</strong>\n              </p>\n            </div>\n            <div className=\" mb-5\">\n              <div>\n                <h5>Report Card</h5>\n                <h6>\n                  Name: {user?.name} {user?.middleName} {user?.surname} -{\" \"}\n                  {user?.userID}\n                </h6>\n                <h6>Class: {user?.classID}</h6>\n                <h6> Year: {selectedyear}</h6>\n                <h6>Term:{selectedterm}</h6>\n              </div>\n            </div>\n            <table className=\"table table-bordered\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">Courses</th>\n                  <th scope=\"col\">Classwork </th>\n                  <th scope=\"col\">Classwork %</th>\n                  <th scope=\"col\">Exam </th>\n                  <th scope=\"col\">Exam %</th>\n                  <th scope=\"col\">Total %</th>\n                  <th scope=\"col\">Grade</th>\n                  <th scope=\"col\">Interpretation</th>\n                  <th scope=\"col\">Position</th>\n                </tr>\n              </thead>\n              <tbody>\n                {results.length > 0 ? (\n                  results.map((res) => (\n                    <tr key={res?._id}>\n                      <td>{res?.course}</td>\n                      <td>{res.classWork || \"-\"}</td>\n                      <td>{res.classWorkPercentage || \"-\"}</td>\n                      <td>{res?.exam || \"-\"}</td>\n                      <td>{res?.examPercentage || \"-\"}</td>\n                      <td>\n                        {getTotal(res?.examPercentage, res.classWorkPercentage)}\n                      </td>\n                      <td>\n                        {getGrade(res?.examPercentage, res.classWorkPercentage)}\n                      </td>\n                      <td>\n                        {getInterpretation(\n                          res?.examPercentage,\n                          res.classWorkPercentage\n                        )}\n                      </td>\n                      <td>{res?.position}</td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td colSpan={10} className=\"text-center text-danger\">\n                      <h5>No data yet</h5>\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>{\" \"}\n          <div className=\"d-flex justify-content-center mb-5\">\n            <button onClick={handlePrint} className=\"btn blue__btn\">\n              <PrintIcon />\n              Print\n            </button>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default ReportCard;\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n}), 'Print');\n\nexports.default = _default;"],"sourceRoot":""}