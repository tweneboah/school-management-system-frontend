{"version":3,"sources":["components/profile/UpdateProfile.js","components/settings/Logout.js","components/settings/ChangePassword.js","AdminComponents/settings/ModalName.js","AdminComponents/settings/SettingsPage.js"],"names":["useStyles","makeStyles","theme","root","margin","spacing","input","display","profileIcon","UpdateProfile","id","profile","classes","useState","profileimg","setprofileimg","loading","setloading","dispatch","useDispatch","useEffect","accept","onChange","e","selected","target","files","size","errorAlert","fileData","FormData","append","axios","post","then","res","path","data","console","log","profileUrl","response","error","update","photoUrl","localStorage","setItem","LoginString","PhotoURL","catch","err","className","disabled","type","htmlFor","src","getImgSrc","aria-label","component","Logout","loggout","user","history","useHistory","name","lastName","onClick","clear","push","ChangePassword","oldpassword","setoldpassword","newpassword","setnewpassword","useForm","register","handleSubmit","errors","action","value","ref","required","newPassword","oldPassword","successAlert","role","aria-hidden","DialogTitle","withStyles","padding","closeButton","position","right","top","color","palette","grey","props","children","onClose","other","disableTypography","Typography","variant","IconButton","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CustomizedDialogs","open","setOpen","setname","handleEdit","handleClose","Dialog","fullWidth","maxWidth","aria-labelledby","Button","autoFocus","SettingsPage","admin","setadmin","useSelector","selectUser","editfullname","seteditfullname","motto","setmotto","email","setemail","address","setaddress","telephone","settelephone","editloading","seteditloading","get","fullName","userID","rows","put","NAME","preventDefault","logout"],"mappings":"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","file":"static/js/151.a54b73ae.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { Avatar } from \"@material-ui/core\";\nimport { errorAlert, getImgSrc } from \"../../utils\";\nimport axios from \"../../store/axios\";\nimport { useDispatch } from \"react-redux\";\nimport { update } from \"../../store/slices/userSlice\";\nimport { LoginString } from \"../../store/localStorage\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  input: {\n    display: \"none\",\n  },\n  profileIcon: {},\n}));\n\nfunction UpdateProfile({ id, profile }) {\n  const classes = useStyles();\n  const [profileimg, setprofileimg] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setprofileimg(profile);\n  }, [profile]);\n\n  const handleChangeFile = (e) => {\n    const selected = e.target.files[0];\n    if (selected?.size > 2000000) {\n      errorAlert(\"image is too large\");\n    } else if (selected) {\n      setloading(true);\n      const fileData = new FormData();\n      fileData.append(\"photo\", selected);\n      axios\n        .post(\"/upload\", fileData, {})\n        .then((res) => {\n          const path = res.data.path;\n          console.log(path);\n          axios\n            .post(`/update/profile/${id}`, { profileUrl: path })\n            .then((response) => {\n              setloading(false);\n              if (response.data.error) {\n                errorAlert(\"Profile update failed\");\n                return 0;\n              }\n              setprofileimg(path);\n              dispatch(\n                update({\n                  photoUrl: path,\n                })\n              );\n              localStorage.setItem(LoginString.PhotoURL, path);\n            });\n        })\n        .catch((err) => {\n          console.log(err);\n          setloading(false);\n          errorAlert(\"Profile update failed\");\n        });\n    } else {\n      console.log(\"no file selected\");\n      errorAlert(\"no file selected\");\n    }\n  };\n\n  return (\n    <div>\n      <input\n        accept=\"image/*\"\n        onChange={handleChangeFile}\n        className={classes.input}\n        disabled={loading}\n        id=\"icon-button-file\"\n        type=\"file\"\n      />\n      <label className=\"profileContainer\" htmlFor=\"icon-button-file\">\n        <Avatar\n          src={getImgSrc(profileimg)}\n          className=\"large__avatar\"\n          aria-label=\"upload picture\"\n          component=\"span\"\n        >\n          <PhotoCamera />\n        </Avatar>\n        <div className=\"profileIcon\">Change Profile</div>\n      </label>\n    </div>\n  );\n}\n\nexport default UpdateProfile;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Logout({ dispatch, loggout, user }) {\n  const history = useHistory();\n\n  const handleDelete = () => {\n    dispatch(loggout());\n    localStorage.clear();\n    history.push(\"/login\");\n  };\n\n  return (\n    <div className=\"content__container\">\n      <div className=\"d-flex justify-content-between\">\n        <h6>\n          You are logged-in as {user?.id}- {user?.name}{\" \"}\n          {user?.lastName ? user?.lastName : \"\"}\n        </h6>\n        <button onClick={handleDelete} className=\"btn btn-danger\">\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Logout;\n","import React, { useState } from \"react\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport axios from \"../../store/axios\";\nimport { useForm } from \"react-hook-form\";\n\nfunction ChangePassword({ id }) {\n  const [oldpassword, setoldpassword] = useState(\"\");\n  const [newpassword, setnewpassword] = useState(\"\");\n  const { register, handleSubmit, errors } = useForm();\n  const [loading, setloading] = useState(false);\n\n  const handleChangePassword = () => {\n    setloading(true);\n    axios\n      .post(`/change/password/${id}`, {\n        newPassword: newpassword,\n        oldPassword: oldpassword,\n      })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"password successfully change\");\n        setoldpassword(\"\");\n        setnewpassword(\"\");\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n        errorAlert(\"Failed to change password\");\n      });\n  };\n\n  return (\n    <form action=\"\" className=\"mb-5 content__container\">\n      <h4>Change Password</h4>\n      <div className=\"row mb-3\">\n        <label className=\"col-sm-3 col-form-label\">Old Password</label>\n        <div className=\"col-sm-9\">\n          <input\n            onChange={(e) => setoldpassword(e.target.value)}\n            ref={register({ required: true })}\n            value={oldpassword}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"oldpassword\"\n          />\n          {errors.oldpassword && (\n            <span className=\" form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"row mb-3\">\n        <label className=\"col-sm-3 col-form-label\">New Password</label>\n        <div className=\"col-sm-9\">\n          <input\n            onChange={(e) => setnewpassword(e.target.value)}\n            ref={register({ required: true })}\n            value={newpassword}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"newpassword\"\n          />\n          {errors.newpassword && (\n            <span className=\" form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"row mb-3\">\n        <div className=\"offset-3 col-sm-9\">\n          <button\n            disabled={loading}\n            type=\"submit\"\n            onClick={handleSubmit(handleChangePassword)}\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            )}\n            Submit\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default ChangePassword;\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nexport default function CustomizedDialogs({open, setOpen, setname, name, handleEdit , loading}) {\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Dialog fullWidth={true} maxWidth=\"sm\" onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n           Edit School Name\n        </DialogTitle>\n        <DialogContent >\n               <div className=\"row mb-3\">\n                    <div className=\"col-sm-9\">\n                       <input \n                        onChange={e => setname(e.target.value)} \n                        value={name} \n                        type=\"text\" \n                        className=\"form-control\" \n                        name=\"name\"/>\n                    </div>\n                </div>\n        </DialogContent>\n        <DialogActions>\n          <Button \n            disabled={loading} \n            autoFocus \n            onClick={handleEdit} \n            color=\"primary\">\n                 {loading &&   <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>}\n            Save changes\n          </Button>\n          <Button \n            autoFocus \n            onClick={handleClose} \n            color=\"secondary\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Logout from \"../../components/settings/Logout\";\nimport Profile from \"../../components/profile/UpdateProfile\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser, logout, update } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport ChangePassword from \"../../components/settings/ChangePassword\";\nimport { useForm } from \"react-hook-form\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport { LoginString } from \"../../store/localStorage\";\nimport NameModal from \"./ModalName\";\n\nfunction SettingsPage() {\n  const { register, handleSubmit, errors } = useForm();\n  const [admin, setadmin] = useState({});\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n  const [name, setname] = useState(\"\");\n  const [editfullname, seteditfullname] = useState(\"\");\n  const [motto, setmotto] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const [address, setaddress] = useState(\"\");\n  const [telephone, settelephone] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [editloading, seteditloading] = useState(false);\n\n  useEffect(() => {\n    axios.get(`/school`).then((res) => {\n      let data = res?.data;\n      setadmin(data);\n      setname(data?.name || \"Enter School Name\");\n      setmotto(data?.motto);\n      setemail(data?.email);\n      setaddress(data?.address);\n      settelephone(data?.telephone);\n      seteditfullname(data?.fullName);\n    });\n  }, []);\n\n  const handleCancel = (e) => {\n    e.preventDefault();\n    setname(admin?.name);\n    setmotto(admin?.motto);\n    setemail(admin?.email);\n    setaddress(admin?.address);\n    settelephone(admin?.telephone);\n  };\n\n  const handleEditname = (e) => {\n    e.preventDefault();\n    seteditloading(true);\n    console.log(editfullname);\n    axios\n      .put(`/school/update/${admin?.userID}`, {\n        fullName: editfullname,\n      })\n      .then((res) => {\n        seteditloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"Changes are saved\");\n        setOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        seteditloading(false);\n        errorAlert(\"Failed to save changes\");\n      });\n  };\n\n  const handleEdit = () => {\n    setloading(true);\n    axios\n      .put(`/school/update/${admin?.userID}`, {\n        name,\n        address,\n        motto,\n        email,\n        telephone,\n      })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"Changes are saved\");\n        dispatch(\n          update({\n            name: name,\n          })\n        );\n        localStorage.setItem(LoginString.NAME, name);\n      })\n      .catch((err) => {\n        console.log(err);\n        setloading(false);\n        errorAlert(\"Failed to save changes\");\n      });\n  };\n\n  return (\n    <div>\n      <div className=\"content__container d-flex flex-column align-items-center mb-5\">\n        <Profile id={user?.userID} profile={user?.photoUrl} />\n        <h2>\n          {editfullname}{\" \"}\n          <span>\n            <EditIcon onClick={(e) => setOpen(true)} />\n          </span>\n        </h2>\n        <form className=\"row\">\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Name</label>\n            <div className=\"\">\n              <input\n                onChange={(e) => setname(e.target.value)}\n                ref={register({ required: true })}\n                value={name}\n                type=\"text\"\n                className=\"form-control\"\n                name=\"name\"\n              />\n              {errors.name && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Motto</label>\n            <div className=\"\">\n              <input\n                onChange={(e) => setmotto(e.target.value)}\n                ref={register({ required: true })}\n                value={motto}\n                type=\"text\"\n                className=\"form-control\"\n                name=\"motto\"\n              />\n              {errors.motto && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Email</label>\n            <div className=\"\">\n              <input\n                onChange={(e) => setemail(e.target.value)}\n                ref={register({ required: true })}\n                value={email}\n                type=\"email\"\n                className=\"form-control\"\n                name=\"email\"\n              />\n              {errors.email && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Telephone</label>\n            <div className=\"\">\n              <input\n                onChange={(e) => settelephone(e.target.value)}\n                ref={register({ required: true })}\n                value={telephone}\n                type=\"tel\"\n                className=\"form-control\"\n                name=\"telephone\"\n              />\n              {errors.telephone && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Address</label>\n            <div className=\"\">\n              <textarea\n                rows={5}\n                onChange={(e) => setaddress(e.target.value)}\n                ref={register({ required: true })}\n                value={address}\n                className=\"form-control\"\n                name=\"address\"\n              />\n              {errors.address && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mt-5\">\n            <button\n              disabled={loading}\n              onClick={handleSubmit(handleEdit)}\n              className=\"btn blue__btn\"\n            >\n              {loading && (\n                <span\n                  className=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                ></span>\n              )}\n              Save Changes\n            </button>\n            <button onClick={handleCancel} className=\"btn btn-danger ml-3\">\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n      <NameModal\n        open={open}\n        setOpen={setOpen}\n        name={editfullname}\n        loading={editloading}\n        setname={seteditfullname}\n        handleEdit={handleEditname}\n      />\n\n      <div id=\"changepassword\">\n        <ChangePassword id={user?.id} />\n      </div>\n\n      <Logout user={user} dispatch={dispatch} loggout={logout} />\n    </div>\n  );\n}\n\nexport default SettingsPage;\n"],"sourceRoot":""}