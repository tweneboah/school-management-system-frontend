{"version":3,"sources":["components/settings/Logout.js","components/settings/ChangePassword.js","components/settings/Settings.js","StudentComponents/settings/SettingsPage.js"],"names":["Logout","dispatch","loggout","user","history","useHistory","className","id","name","lastName","onClick","localStorage","clear","push","ChangePassword","useState","oldpassword","setoldpassword","newpassword","setnewpassword","useForm","register","handleSubmit","errors","loading","setloading","action","onChange","e","target","value","ref","required","type","disabled","axios","post","newPassword","oldPassword","then","res","data","error","errorAlert","successAlert","catch","err","console","log","role","aria-hidden","SettingsPage","useSelector","selectUser","useDispatch","logout"],"mappings":"iIAAA,yBA2BeA,IAxBf,YAA8C,IAA5BC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,QAASC,EAAQ,EAARA,KAC7BC,EAAUC,cAQhB,OACE,qBAAKC,UAAU,qBAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,8DACwBH,QADxB,IACwBA,OADxB,EACwBA,EAAMI,GAD9B,YACoCJ,QADpC,IACoCA,OADpC,EACoCA,EAAMK,KAAM,KACzC,OAAJL,QAAI,IAAJA,OAAA,EAAAA,EAAMM,UAAN,OAAiBN,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMM,SAAW,MAErC,wBAAQC,QAbO,WACnBT,EAASC,KACTS,aAAaC,QACbR,EAAQS,KAAK,WAUsBP,UAAU,iBAAzC,2B,wFC8EOQ,IA5Ff,YAAiC,IAAPP,EAAM,EAANA,GAAM,EACQQ,mBAAS,IADjB,mBACvBC,EADuB,KACVC,EADU,OAEQF,mBAAS,IAFjB,mBAEvBG,EAFuB,KAEVC,EAFU,OAGaC,cAAnCC,EAHsB,EAGtBA,SAAUC,EAHY,EAGZA,aAAcC,EAHF,EAGEA,OAHF,EAIAR,oBAAS,GAJT,mBAIvBS,EAJuB,KAIdC,EAJc,KA8B9B,OACE,uBAAMC,OAAO,GAAGpB,UAAU,0BAA1B,UACE,iDACA,sBAAKA,UAAU,WAAf,UACE,uBAAOA,UAAU,0BAAjB,0BACA,sBAAKA,UAAU,WAAf,UACE,uBACEqB,SAAU,SAACC,GAAD,OAAOX,EAAeW,EAAEC,OAAOC,QACzCC,IAAKV,EAAS,CAAEW,UAAU,IAC1BF,MAAOd,EACPiB,KAAK,WACL3B,UAAU,eACVE,KAAK,gBAENe,EAAOP,aACN,sBAAMV,UAAU,+BAAhB,0CAMN,sBAAKA,UAAU,WAAf,UACE,uBAAOA,UAAU,0BAAjB,0BACA,sBAAKA,UAAU,WAAf,UACE,uBACEqB,SAAU,SAACC,GAAD,OAAOT,EAAeS,EAAEC,OAAOC,QACzCC,IAAKV,EAAS,CAAEW,UAAU,IAC1BF,MAAOZ,EACPe,KAAK,WACL3B,UAAU,eACVE,KAAK,gBAENe,EAAOL,aACN,sBAAMZ,UAAU,+BAAhB,0CAMN,qBAAKA,UAAU,WAAf,SACE,qBAAKA,UAAU,oBAAf,SACE,yBACE4B,SAAUV,EACVS,KAAK,SACLvB,QAASY,GApEU,WAC3BG,GAAW,GACXU,IACGC,KADH,2BAC4B7B,GAAM,CAC9B8B,YAAanB,EACboB,YAAatB,IAEduB,MAAK,SAACC,GAEL,GADAf,GAAW,GACPe,EAAIC,KAAKC,MAEX,OADAC,YAAWH,EAAIC,KAAKC,OACb,EAETE,YAAa,gCACb3B,EAAe,IACfE,EAAe,OAEhB0B,OAAM,SAACC,GACNrB,GAAW,GACXsB,QAAQC,IAAIF,GACZH,YAAW,mCAiDPrC,UAAU,gBAJZ,UAMGkB,GACC,sBACElB,UAAU,mCACV2C,KAAK,SACLC,cAAY,SAVlB,qB,kCC5EV,qDAmBeC,IAbf,WACE,IAAMhD,EAAOiD,YAAYC,KACnBpD,EAAWqD,cAEjB,OACE,gCACE,kDACA,cAAC,IAAD,CAAgB/C,GAAE,OAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAMI,KAC1B,cAAC,IAAD,CAAQJ,KAAMA,EAAMF,SAAUA,EAAUC,QAASqD,W,kCCdvD,kCAWeJ,UARf,WACI,OACI,8BACG,cAAC,IAAD","file":"static/js/153.c07e5d42.chunk.js","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Logout({ dispatch, loggout, user }) {\n  const history = useHistory();\n\n  const handleDelete = () => {\n    dispatch(loggout());\n    localStorage.clear();\n    history.push(\"/login\");\n  };\n\n  return (\n    <div className=\"content__container\">\n      <div className=\"d-flex justify-content-between\">\n        <h6>\n          You are logged-in as {user?.id}- {user?.name}{\" \"}\n          {user?.lastName ? user?.lastName : \"\"}\n        </h6>\n        <button onClick={handleDelete} className=\"btn btn-danger\">\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Logout;\n","import React, { useState } from \"react\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport axios from \"../../store/axios\";\nimport { useForm } from \"react-hook-form\";\n\nfunction ChangePassword({ id }) {\n  const [oldpassword, setoldpassword] = useState(\"\");\n  const [newpassword, setnewpassword] = useState(\"\");\n  const { register, handleSubmit, errors } = useForm();\n  const [loading, setloading] = useState(false);\n\n  const handleChangePassword = () => {\n    setloading(true);\n    axios\n      .post(`/change/password/${id}`, {\n        newPassword: newpassword,\n        oldPassword: oldpassword,\n      })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"password successfully change\");\n        setoldpassword(\"\");\n        setnewpassword(\"\");\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n        errorAlert(\"Failed to change password\");\n      });\n  };\n\n  return (\n    <form action=\"\" className=\"mb-5 content__container\">\n      <h4>Change Password</h4>\n      <div className=\"row mb-3\">\n        <label className=\"col-sm-3 col-form-label\">Old Password</label>\n        <div className=\"col-sm-9\">\n          <input\n            onChange={(e) => setoldpassword(e.target.value)}\n            ref={register({ required: true })}\n            value={oldpassword}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"oldpassword\"\n          />\n          {errors.oldpassword && (\n            <span className=\" form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"row mb-3\">\n        <label className=\"col-sm-3 col-form-label\">New Password</label>\n        <div className=\"col-sm-9\">\n          <input\n            onChange={(e) => setnewpassword(e.target.value)}\n            ref={register({ required: true })}\n            value={newpassword}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"newpassword\"\n          />\n          {errors.newpassword && (\n            <span className=\" form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"row mb-3\">\n        <div className=\"offset-3 col-sm-9\">\n          <button\n            disabled={loading}\n            type=\"submit\"\n            onClick={handleSubmit(handleChangePassword)}\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            )}\n            Submit\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default ChangePassword;\n","import React from \"react\";\nimport Logout from \"./Logout\";\nimport ChangePassword from \"./ChangePassword\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser, logout } from \"../../store/slices/userSlice\";\n\nfunction SettingsPage() {\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n\n  return (\n    <div>\n      <h3>Account Settings</h3>\n      <ChangePassword id={user?.id} />\n      <Logout user={user} dispatch={dispatch} loggout={logout} />\n    </div>\n  );\n}\n\nexport default SettingsPage;\n","import React from 'react'\nimport Settings from '../../components/settings/Settings'\n\nfunction SettingsPage() {\n    return (\n        <div>\n           <Settings />\n        </div>\n    )\n}\n\nexport default SettingsPage\n"],"sourceRoot":""}