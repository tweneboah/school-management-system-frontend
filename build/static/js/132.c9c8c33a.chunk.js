(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[132],{1090:function(e,t,n){"use strict";var a=n(712),c=n(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(1)),i=(0,a(n(714)).default)(o.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.default=i},1108:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a=n(716),c=n(1),o=n.n(c),i=n(560),l=n(953),r=n(954),d=n(951),s=n(952),u=n(1915),h=n(950),b=n(941),j=n(1109),m=n(1966),f=n(22),v=n(949),p=n(2),O=n(19),x=(n(36),n(37)),g=n(760),y=Object(g.a)(c.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),k=n(101),w=n(1923),C=n(188),S=c.forwardRef((function(e,t){var n=e.active,a=void 0!==n&&n,o=e.children,i=e.classes,l=e.className,r=e.direction,d=void 0===r?"asc":r,s=e.hideSortIcon,u=void 0!==s&&s,h=e.IconComponent,b=void 0===h?y:h,j=Object(O.a)(e,["active","children","classes","className","direction","hideSortIcon","IconComponent"]);return c.createElement(w.a,Object(p.a)({className:Object(x.a)(i.root,l,a&&i.active),component:"span",disableRipple:!0,ref:t},j),o,u&&!a?null:c.createElement(b,{className:Object(x.a)(i.icon,i["iconDirection".concat(Object(C.a)(d))])}))})),N=Object(k.a)((function(e){return{root:{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:e.palette.text.secondary},"&:hover":{color:e.palette.text.secondary,"& $icon":{opacity:.5}},"&$active":{color:e.palette.text.primary,"&& $icon":{opacity:1,color:e.palette.text.secondary}}},active:{},icon:{fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},iconDirectionDesc:{transform:"rotate(0deg)"},iconDirectionAsc:{transform:"rotate(180deg)"}}}),{name:"MuiTableSortLabel"})(S),I=n(14);var D=function(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,c=e.orderBy,o=e.numSelected,i=e.headCells,l=e.noActions,r=e.rowCount,s=e.onRequestSort;return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(v.a,{children:Object(I.jsxs)(h.a,{children:[Object(I.jsx)(d.a,{padding:"checkbox",children:Object(I.jsx)(j.a,{indeterminate:o>0&&o<r,checked:r>0&&o===r,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),i.map((function(e){return Object(I.jsx)(d.a,{align:"left",padding:"none",sortDirection:c===e.id&&a,children:Object(I.jsxs)(N,{active:c===e.id,direction:c===e.id?a:"asc",onClick:(n=e.id,function(e){s(e,n)}),children:[e.label,c===e.id?Object(I.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),!l&&Object(I.jsx)(d.a,{padding:"checkbox",children:"Actions"})]})})})},P=n(718),z=n(1807),E=n(1785),B=n(1968),M=n(1090),A=n.n(M),F=n(76),L=n(60);function R(e){var t=e.id,n=e.route,c=e.history,i=e.isWithdraw,l=e.handleDelete,r=e.handleWithdraw,d=o.a.useState(null),s=Object(a.a)(d,2),u=s[0],h=s[1],b=Object(F.c)(L.d);return Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},children:Object(I.jsx)(A.a,{})}),Object(I.jsxs)(E.a,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:function(){h(null)},children:[Object(I.jsx)(B.a,{onClick:function(){return c.push("/".concat(n,"/").concat(t))},children:"View"}),"admin"===(null===b||void 0===b?void 0:b.role)&&Object(I.jsx)(B.a,{onClick:function(){return c.push("/".concat(n,"/edit/").concat(t))},children:"Edit"}),"admin"===(null===b||void 0===b?void 0:b.role)&&Object(I.jsx)(B.a,{onClick:function(){r(t)},children:i?"UnWithdraw":"Withdraw"}),"admin"===(null===b||void 0===b?void 0:b.role)&&Object(I.jsx)(B.a,{onClick:function(){l(t)},children:"Delete"})]})]})}function _(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function H(e,t){return"desc"===e?function(e,n){return _(e,n,t)}:function(e,n){return-_(e,n,t)}}function W(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var T=Object(i.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function V(e){var t,n,c=e.students,i=e.headCells,v=e.route,p=e.handleWithdraw,O=e.handleDelete,x=e.noData,g=e.noActions,y=T(),k=o.a.useState("asc"),w=Object(a.a)(k,2),C=w[0],S=w[1],N=o.a.useState("name"),z=Object(a.a)(N,2),E=z[0],B=z[1],M=o.a.useState([]),A=Object(a.a)(M,2),F=A[0],L=A[1],_=o.a.useState(0),V=Object(a.a)(_,2),$=V[0],U=V[1],q=o.a.useState(5),G=Object(a.a)(q,2),J=G[0],K=G[1],Q=Object(f.g)(),X=J-Math.min(J,(null===c||void 0===c?void 0:c.length)-$*J);return console.log(c),Object(I.jsx)("div",{className:y.root,children:Object(I.jsxs)(b.a,{className:y.paper,children:[Object(I.jsx)(s.a,{children:Object(I.jsxs)(l.a,{className:y.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(I.jsx)(D,{classes:y,headCells:i,numSelected:F.length,order:C,orderBy:E,noActions:g,onSelectAllClick:function(e){if(e.target.checked){var t=c.map((function(e){return e.name}));L(t)}else L([])},onRequestSort:function(e,t){S(E===t&&"asc"===C?"desc":"asc"),B(t)},rowCount:null===c||void 0===c?void 0:c.length}),(null===c||void 0===c?void 0:c.length)>0?Object(I.jsxs)(r.a,{children:[null===(t=W(c,H(C,E)))||void 0===t||null===(n=t.slice($*J,$*J+J))||void 0===n?void 0:n.map((function(e,t){console.log("Profile",null===e||void 0===e?void 0:e.profileUrl);var n,a=(n=null===e||void 0===e?void 0:e.userID,-1!==F.indexOf(n)),c="enhanced-table-checkbox-".concat(t);return Object(I.jsxs)(h.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(I.jsx)(d.a,{padding:"checkbox",children:Object(I.jsx)(j.a,{onClick:function(t){return function(e,t){var n=F.indexOf(t),a=[];-1===n?a=a.concat(F,t):0===n?a=a.concat(F.slice(1)):n===F.length-1?a=a.concat(F.slice(0,-1)):n>0&&(a=a.concat(F.slice(0,n),F.slice(n+1))),L(a)}(0,null===e||void 0===e?void 0:e.userID)},checked:a,inputProps:{"aria-labelledby":c}})}),Object(I.jsx)(d.a,{align:"left",id:c,children:(null===e||void 0===e?void 0:e.userID)||"-"}),Object(I.jsx)(d.a,{align:"left",children:Object(I.jsx)(m.a,{src:"".concat(Object(P.g)(null===e||void 0===e?void 0:e.profileUrl)),alt:Object(P.h)(null===e||void 0===e?void 0:e.name)})}),Object(I.jsx)(d.a,{align:"left",children:null===e||void 0===e?void 0:e.name}),Object(I.jsxs)(d.a,{align:"left",children:[" ",(null===e||void 0===e?void 0:e.middleName)||"-"]}),Object(I.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.surname)||"-"}),Object(I.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e?void 0:e.position)}),"student"===(null===e||void 0===e?void 0:e.role)&&Object(I.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.classID)||"-"}),Object(I.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.gender)||"-"}),!g&&Object(I.jsx)(d.a,{align:"left",children:Object(I.jsx)(R,{id:null===e||void 0===e?void 0:e.userID,route:v,isWithdraw:null===e||void 0===e?void 0:e.withdraw,history:Q,handleWithdraw:p,handleDelete:O})})]},e.userID)})),X>0&&Object(I.jsx)(h.a,{style:{height:53*X},children:Object(I.jsx)(d.a,{colSpan:6})})]}):Object(I.jsxs)(r.a,{children:[Object(I.jsx)(h.a,{children:Object(I.jsx)(d.a,{className:"text-danger text-center",colSpan:i.length+2,children:x||"NO DATA"})}),X>0&&Object(I.jsx)(h.a,{style:{height:53*X},children:Object(I.jsx)(d.a,{colSpan:6})})]})]})}),(null===c||void 0===c?void 0:c.length)>5&&Object(I.jsx)(u.a,{rowsPerPageOptions:[5,10,25],component:"div",count:c.length,rowsPerPage:J,page:$,onChangePage:function(e,t){U(t)},onChangeRowsPerPage:function(e){K(parseInt(e.target.value,10)),U(0)}})]})})}},1109:function(e,t,n){"use strict";var a=n(2),c=n(19),o=n(1),i=(n(36),n(37)),l=n(104),r=n(785),d=n(928),s=n(101),u=n(1807),h=o.forwardRef((function(e,t){var n=e.autoFocus,s=e.checked,h=e.checkedIcon,b=e.classes,j=e.className,m=e.defaultChecked,f=e.disabled,v=e.icon,p=e.id,O=e.inputProps,x=e.inputRef,g=e.name,y=e.onBlur,k=e.onChange,w=e.onFocus,C=e.readOnly,S=e.required,N=e.tabIndex,I=e.type,D=e.value,P=Object(c.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),z=Object(r.a)({controlled:s,default:Boolean(m),name:"SwitchBase",state:"checked"}),E=Object(l.a)(z,2),B=E[0],M=E[1],A=Object(d.a)(),F=f;A&&"undefined"===typeof F&&(F=A.disabled);var L="checkbox"===I||"radio"===I;return o.createElement(u.a,Object(a.a)({component:"span",className:Object(i.a)(b.root,j,B&&b.checked,F&&b.disabled),disabled:F,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),A&&A.onFocus&&A.onFocus(e)},onBlur:function(e){y&&y(e),A&&A.onBlur&&A.onBlur(e)},ref:t},P),o.createElement("input",Object(a.a)({autoFocus:n,checked:s,defaultChecked:m,className:b.input,disabled:F,id:L&&p,name:g,onChange:function(e){var t=e.target.checked;M(t),k&&k(e,t)},readOnly:C,ref:x,required:S,tabIndex:N,type:I,value:D},O)),B?h:v)})),b=Object(s.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(h),j=n(760),m=Object(j.a)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),f=Object(j.a)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),v=n(103),p=Object(j.a)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),O=n(188),x=o.createElement(f,null),g=o.createElement(m,null),y=o.createElement(p,null),k=o.forwardRef((function(e,t){var n=e.checkedIcon,l=void 0===n?x:n,r=e.classes,d=e.color,s=void 0===d?"secondary":d,u=e.icon,h=void 0===u?g:u,j=e.indeterminate,m=void 0!==j&&j,f=e.indeterminateIcon,v=void 0===f?y:f,p=e.inputProps,k=e.size,w=void 0===k?"medium":k,C=Object(c.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),S=m?v:h,N=m?v:l;return o.createElement(b,Object(a.a)({type:"checkbox",classes:{root:Object(i.a)(r.root,r["color".concat(Object(O.a)(s))],m&&r.indeterminate),checked:r.checked,disabled:r.disabled},color:s,inputProps:Object(a.a)({"data-indeterminate":m},p),icon:o.cloneElement(S,{fontSize:void 0===S.props.fontSize&&"small"===w?w:S.props.fontSize}),checkedIcon:o.cloneElement(N,{fontSize:void 0===N.props.fontSize&&"small"===w?w:N.props.fontSize}),ref:t},C))}));t.a=Object(s.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(v.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(v.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(k)},1863:function(e,t,n){"use strict";n.r(t);var a=n(716),c=n(1),o=n(773),i=n(1108),l=n(38),r=n(718),d=n(138),s=n(944),u=n(135),h=n(14),b=[{id:"userID",numeric:!1,disablePadding:!1,label:"Teacher ID"},{id:"photoUrl",numeric:!1,disablePadding:!1,label:"Photo"},{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"middlename",disablePadding:!0,label:"Middle Name"},{id:"surname",disablePadding:!0,label:"Last Name"},{id:"position",disablePadding:!1,label:"Position"},{id:"gender",disablePadding:!1,label:"Gender"}];t.default=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],j=t[1],m=Object(c.useState)(""),f=Object(a.a)(m,2),v=f[0],p=f[1],O=Object(c.useState)([]),x=Object(a.a)(O,2),g=x[0],y=x[1],k=Object(c.useState)([]),w=Object(a.a)(k,2),C=w[0],S=w[1],N=Object(c.useState)(!1),I=Object(a.a)(N,2),D=I[0],P=I[1];Object(c.useEffect)((function(){P(!0),l.a.get("/teachers").then((function(e){P(!1),y(e.data),S(e.data)})).catch((function(e){P(!1)}))}),[]);var z=[{type:"text",label:"Search by Name",name:"name",value:n,onChange:j},{type:"text",label:"Search by UserID",name:"userID",value:v,onChange:p}];return Object(h.jsxs)(h.Fragment,{children:[D&&Object(h.jsx)(d.a,{}),Object(h.jsx)("div",{className:"content__container mb-5",children:Object(h.jsx)(o.a,{inputFields:z,handleSearch:function(e){e.preventDefault();var t=[];n&&(t=C.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.surname.toLowerCase().includes(n.toLowerCase())}))),v&&(t=C.filter((function(e){return e.userID.toLowerCase().includes(v.toLowerCase())}))),y(t)},handleReset:function(e){e.preventDefault(),y(C),j(""),p("")}})}),Object(h.jsxs)("div",{className:"content__container",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(h.jsx)("h3",{children:"Staff Members List"}),Object(h.jsxs)(u.b,{className:"btn btn-outline-info",to:"/staff/new",children:["Add New Staff"," "]})]}),Object(h.jsx)(i.a,{route:"staff",loading:D,noData:"No staff members yet",students:g,handleWithdraw:function(e){window.confirm("Are you sure you want to withdraw this staff member ".concat(e))&&l.a.put("/teachers/update/".concat(e),{withdraw:!0}).then((function(t){t.data.error&&Object(r.c)(t.data.error),y(g.filter((function(t){return t.userID!==e})))}))},handleDelete:function(e){window.confirm("Are sure you want to delete user ".concat(e))&&l.a.delete("/user/delete/".concat(e)).then((function(t){t.data.error&&Object(r.c)(t.data.error),y(g.filter((function(t){return t.userID!==e})))}))},headCells:b})]}),Object(h.jsx)("div",{className:"d-flex justify-content-end",children:Object(h.jsx)("button",{onClick:function(){Object(s.a)({data:g,headers:[{key:"userID",label:"UserID"},{key:"name",label:"Name"},{key:"middleName",label:"Middle Name"},{key:"surname",label:" SurName"},{key:"gender",label:"Gender"},{key:"classID",label:"Class"}],filename:"AllStaff"})},className:"btn orange__btn ",children:"Download PDF"})})]})}},773:function(e,t,n){"use strict";n(1);var a=n(14);t.a=function(e){var t=e.inputFields,n=e.title,c=e.handleSearch,o=e.isReset,i=e.handleReset,l=e.noActions;return Object(a.jsxs)("form",{className:"mb-5 content__container",children:[Object(a.jsx)("h3",{className:"mb-3",children:n||""}),Object(a.jsxs)("div",{className:"row g-3 mb-3",children:[t&&t.map((function(e){return Object(a.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:[Object(a.jsx)("label",{htmlFor:"",children:e.label}),"select"===e.type?Object(a.jsxs)("select",{value:null===e||void 0===e?void 0:e.value,name:null===e||void 0===e?void 0:e.name,onChange:function(t){return null===e||void 0===e?void 0:e.onChange(t.target.value)},className:"form-select form-select-sm py-2",children:[Object(a.jsx)("option",{hidden:!0,defaultValue:!0,children:"Select"}),(null===e||void 0===e?void 0:e.options.length)>0?null===e||void 0===e?void 0:e.options.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)})):Object(a.jsx)("option",{disabled:!0,children:"No data "})]}):Object(a.jsx)("input",{type:e.type,value:e.value,name:null===e||void 0===e?void 0:e.name,className:"form-control py-3",placeholder:"Search by ".concat(e.name),onChange:function(t){return null===e||void 0===e?void 0:e.onChange(t.target.value)}})]},null===e||void 0===e?void 0:e.name)})),!l&&Object(a.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4 d-flex mt-5",children:[Object(a.jsx)("div",{className:"mb-3",children:Object(a.jsx)("button",{className:"btn orange__btn ",onClick:c,children:"Search"})}),!o&&Object(a.jsx)("div",{className:" mb-3 ml-3",children:Object(a.jsx)("button",{onClick:i,className:"btn blue__btn ",children:"Reset"})})]})]})]})}},944:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1148),c=function(e){var t=e.data,n=e.headers,c=e.filename,o=e.title,i=e.subheading,l=e.date,r=new a.a({orientation:"l",unit:"pt",format:"a4"}),d=50,s={width:841.89-d,height:595.28-d};r.setFontSize(8),o&&r.text(o,200,29),i&&r.text(i,200,30),l&&r.text(l,200,32);var u=[];n.forEach((function(e,t){if(e.hasOwnProperty("xPos"))r.text(e.label,e.xPos,d),u.push(e.xPos);else{var a=d+t*(s.width/n.length);r.text(e.label,0===t?a:a+15,50),u.push(0===t?a:a+15)}})),r.line(d,53.5,s.width,53.5);var h=65;t.forEach((function(e,t){var a=[];n.forEach((function(t,n){var c=r.splitTextToSize(String(e[t.key]),u[n]-u[0!==n&&n-1]),o=c.length*r.getLineHeight();a.push(o),r.text(c,u[n],h)})),(h=h+15+Math.max.apply(Math,a.concat([30])))>s.height&&(r.addPage(),h=65)})),r.save(c)}}}]);
//# sourceMappingURL=132.c9c8c33a.chunk.js.map