{"version":3,"sources":["AdminComponents/finance/staffPayrow/PaySlip.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","data.js"],"names":["today","Date","PaySlip","useState","state","setstate","payrow","setpayrow","user","setuser","salaryDeducation","setsalaryDeducation","istax","setistax","id","useParams","console","log","useEffect","axios","get","then","res","data","total","map","e","staff","find","i","push","amount","name","bal","reduce","val","Number","a","teacher","ssnit","position","payData","pay","docs","bill","allowance","salary","bonus","totalDeductions","className","fullName","motto","monthYear","getMonth","getFullYear","middleName","surname","accountNumber","bank","colSpan","scope","currentCurrency","moment","format","onClick","window","print","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","studentStatus","incomeCat","expenditureCat","bankOptions","staffPosition"],"mappings":"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KAAM,QAASlB,GAAI,GACrB,CAAEkB,KAAM,MAAOlB,GAAI,GACnB,CAAEkB,KAAM,OAAQlB,GAAI,GACpB,CAAEkB,KAAM,OAAQlB,GAAI,GACpB,CAAEkB,KAAM,SAAUlB,GAAI,GACtB,CAAEkB,KAAM,YAAalB,GAAI,GACzB,CAAEkB,KAAM,UAAWlB,GAAI,GACvB,CAAEkB,KAAM,WAAYlB,GAAI,IACxB,CAAEkB,KAAM,WAAYlB,GAAI,KAGb6E,EAAgB,CAC3B,CACE7E,GAAI,SACJkB,KAAM,UAER,CACElB,GAAI,cACJkB,KAAM,gBAER,CACElB,GAAI,WACJkB,KAAM,aAER,CACElB,GAAI,MACJkB,KAAM,QAYG4D,EAAY,CAAC,YAAa,SAAU,WAAY,UAEhDC,EAAiB,CAC5B,4BACA,qBACA,qBACA,sBACA,uBACA,2BACA,qBACA,UACA,0BACA,kBACA,UACA,0BACA,gBACA,0BACA,8BACA,oBACA,iBACA,eACA,WACA,QACA,eACA,0BACA,mBACA,sBACA,cACA,qBACA,sBACA,gBACA,sBACA,cACA,QACA,YACA,aACA,iBACA,iBACA,cACA,UAGWC,EAAc,CACzB,oBACA,0BACA,0CACA,uBACA,WACA,gBACA,gBACA,wBACA,WACA,6BACA,gBACA,8BACA,sBACA,UACA,0BACA,qBACA,qBACA,aACA,UACA,yBACA,eAGWC,EAAgB,CAC3B,UACA,aACA,aACA,SACA,WACA,aACA,UACA,OACA,QACA,aACA,UACA,SACA,YACA","file":"static/js/56.361276e1.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from '../../../store/axios';\nimport { useParams } from 'react-router-dom';\nimport moment from 'moment';\nimport { monthYear } from '../../../data';\nimport { currentCurrency } from '../../../utils';\n\nconst today = new Date();\n\nfunction PaySlip() {\n  const [state, setstate] = useState({});\n  const [payrow, setpayrow] = useState({});\n  const [user, setuser] = useState({});\n  const [salaryDeducation, setsalaryDeducation] = useState('');\n  const [istax, setistax] = useState(false);\n  const { id } = useParams();\n  console.log('Salary deductions', salaryDeducation);\n  useEffect(() => {\n    axios.get('/school').then(res => {\n      setstate(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    axios.get('/deductions').then(res => {\n      let total = [];\n      res.data.map(e => {\n        let isExist = e.staff.find(i => i === id);\n        if (isExist) {\n          return total.push({\n            amount: e.amount,\n            name: e.name,\n          });\n        }\n      });\n      let bal = total.reduce((val, e) => {\n        console.log('bal', e);\n        return val + Number(e?.amount);\n      }, 0);\n\n      setsalaryDeducation(bal);\n    });\n  }, [id]);\n\n  useEffect(() => {\n    axios.get(`/teachers/${id}`).then(async res => {\n      setuser(res.data.teacher);\n      setistax(res.data.teacher?.ssnit ? true : false);\n      let payData = await axios.get(`/payrow/${res.data.teacher?.position}`);\n      let pay = payData?.data.docs;\n      const bill =\n        Number(pay?.allowance) + Number(pay?.salary) + Number(pay?.bonus);\n      setpayrow({ ...pay, total: bill });\n    });\n  }, [id]);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  let totalDeductions =\n    Number(payrow?.salary * 0.1) +\n    Number(payrow?.total * 0.05) +\n    Number(salaryDeducation);\n\n  return (\n    <>\n      <div className='border content__container mb-4' id='section-to-print'>\n        <div className='text-center border-bottom p-3'>\n          {/* <img height=\"100px\" src={getImgSrc(state?.profileUrl)} alt=\"\" /> */}\n          <h2>{state?.fullName}</h2>\n          <p>{state?.motto}</p>\n          <h6>\n            <strong>\n              PaySlip for {monthYear[today.getMonth()].name}{' '}\n              {today.getFullYear()}\n            </strong>\n          </h6>\n        </div>\n        <div className='row p-3'>\n          <div className='col-6'>\n            <div className='d-flex'>\n              <h6 className='col-4'>\n                {' '}\n                <strong>Name</strong>\n              </h6>\n              <h6>\n                <strong>\n                  {user?.name} {user?.middleName} {user?.surname}{' '}\n                </strong>\n              </h6>\n            </div>\n            <div className='d-flex '>\n              <h6 className='col-4'>\n                {' '}\n                <strong>Position</strong>\n              </h6>\n              <h6>\n                <strong>{user?.position}</strong>\n              </h6>\n            </div>\n          </div>\n          <div className='col-6'>\n            <div className='d-flex '>\n              <h6 className='col-4'>\n                {' '}\n                <strong>Account Number</strong>\n              </h6>\n              <h6>\n                <strong>{user?.accountNumber || '-'} </strong>\n              </h6>\n            </div>\n            <div className='d-flex '>\n              <h6 className='col-4'>\n                {' '}\n                <strong>Bank</strong>\n              </h6>\n              <h6>\n                <strong>{user?.bank || '-'} </strong>\n              </h6>\n            </div>\n          </div>\n        </div>\n        <table className='table table-bordered'>\n          <thead>\n            <tr>\n              <th colSpan='2' scope='col'>\n                Income ({currentCurrency()})\n              </th>\n              <th colSpan='2' scope='col'>\n                Deductions ({currentCurrency()})\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>Basic Salary</td>\n              <td>{payrow?.salary}</td>\n              <td>Income Tax</td>\n              <td>{payrow?.salary * 0.1}</td>\n            </tr>\n            <tr>\n              <td>Allowance</td>\n              <td>{payrow?.allowance}</td>\n              <td>Employee SSNIT</td>\n\n              <td>{istax ? payrow?.total * 0.05 : '-'}</td>\n            </tr>\n            <tr>\n              <td>Bonus</td>\n              <td>{payrow.bonus}</td>\n              <td>Salary Deductions</td>\n              <td>{salaryDeducation}</td>\n            </tr>\n            <tr>\n              <td>Gross Income</td>\n              <td>{payrow?.total}</td>\n              <td>Total Deductions</td>\n              <td>{totalDeductions}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td></td>\n              <td>Net Salary</td>\n              <td>\n                {currentCurrency()} {payrow?.total - totalDeductions}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div>\n          <div>\n            <h6>\n              Date :{' '}\n              <strong>{moment(today).format('dddd Do MMMM YYYY')}</strong>\n            </h6>\n          </div>\n          <div className='d-flex justify-content-between'>\n            <div>\n              <h6>Signature of Employer: ..........................</h6>\n            </div>\n            <div>\n              <h6>Signature of Employee: ..........................</h6>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className='d-flex justify-content-center mb-3'>\n        <button onClick={handlePrint} className='btn blue__btn'>\n          Print\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default PaySlip;\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export const monthYear = [\n  { name: \"January\", id: 0 },\n  { name: \"February\", id: 1 },\n  { name: \"March\", id: 2 },\n  { name: \"April\", id: 3 },\n  { name: \"May\", id: 4 },\n  { name: \"June\", id: 5 },\n  { name: \"July\", id: 6 },\n  { name: \"August\", id: 7 },\n  { name: \"September\", id: 8 },\n  { name: \"October\", id: 9 },\n  { name: \"November\", id: 10 },\n  { name: \"December\", id: 11 },\n];\n\nexport const studentStatus = [\n  {\n    id: \"border\",\n    name: \"Border\",\n  },\n  {\n    id: \"freshBorder\",\n    name: \"Fresh Border\",\n  },\n  {\n    id: \"freshDay\",\n    name: \"Fresh Day\",\n  },\n  {\n    id: \"day\",\n    name: \"Day\",\n  },\n];\n\nexport const schoolDepart = [\n  { name: \"arts\", id: \"Arts and History\" },\n  { name: \"science\", id: \"Science and technolodge\" },\n  { name: \"languages\", id: \"Languages\" },\n  { name: \"commercials\", id: \"Commercials\" },\n  { name: \"sports\", id: \"Sports \" },\n];\n\nexport const incomeCat = [\"donations\", \"prices\", \"projects\", \"others\"];\n\nexport const expenditureCat = [\n  \"Advertising and Marketing\",\n  \"Automobile Expense\",\n  \"Consultant Expense\",\n  \"Credit Card Charges\",\n  \"Depreciation Expense\",\n  \"IT and Internet Expenses\",\n  \"Janitorial Expense\",\n  \"Lodging\",\n  \"Meals and Entertainment\",\n  \"Office Supplies\",\n  \"Postage\",\n  \"Printing and Stationery\",\n  \"Rent Expense \",\n  \"Repairs and Maintenance\",\n  \"Salaries and Expenses Wages\",\n  \"Telephone Expense\",\n  \"Travel Expense\",\n  \"Fixed Assets\",\n  \"Expenses\",\n  \"SNNIT\",\n  \"Bank Charges\",\n  \"Cleaning and Sanitation\",\n  \"Fuel/Lubrication\",\n  \"Vehicle Maintenance\",\n  \"Accountancy\",\n  \"Learning Materials\",\n  \"Proprietor Drawings\",\n  \"Donation/Gift\",\n  \"Permit/Levies/Rates\",\n  \"Electricity\",\n  \"Water\",\n  \"Text Book\",\n  \"Note books\",\n  \"School Uniform\",\n  \"Exams Printing\",\n  \"Maintenance\",\n  \"Others\",\n];\n\nexport const bankOptions = [\n  \"Access Bank Ghana\",\n  \"African Investment Bank\",\n  \"Agricultural Developement Bank of Ghana\",\n  \"Ahantaman Rural Bank\",\n  \"CAL Bank\",\n  \"Ecobank Ghana\",\n  \"Fidelity Bank\",\n  \"Intercontinental Bank\",\n  \"HFC Bank\",\n  \"Consolidated Bank of Ghana\",\n  \"Barclays Bank\",\n  \"Merchant Bank Ghana Limited\",\n  \"Guaranty Trust Bank\",\n  \"Stanbic\",\n  \"Standard Chartered Bank\",\n  \"National City Bank\",\n  \"Northern City Bank\",\n  \"Trust Bank\",\n  \"UT Bank\",\n  \"United Bank for Africa\",\n  \"Zenith Bank\",\n];\n\nexport const staffPosition = [\n  \"Teacher\",\n  \"Headmaster\",\n  \"Accountant\",\n  \"Teller\",\n  \"Security\",\n  \"Proprietor\",\n  \"Cleaner\",\n  \"Cook\",\n  \"Admin\",\n  \"Technician\",\n  \"Janitor\",\n  \"Matron\",\n  \"Secretary\",\n  \"Driver\",\n];\n"],"sourceRoot":""}