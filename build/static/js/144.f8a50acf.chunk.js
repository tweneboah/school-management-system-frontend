(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[144],{1918:function(e,t,c){"use strict";c.r(t);var n=c(737),a=c.n(n),r=c(738),s=c(719),l=c(1),i=c(79),o=c(60),d=c(32),j=c(38),u=c(792),b=c.n(u),h=c(14);var O=function(e){var t=e.yearGroup,c=e.academicYear,n=e.setacademicYear,a=e.term,r=e.setterm,s=e.loading,l=e.handleSearch;return Object(h.jsxs)("form",{action:"",className:"content__container",children:[Object(h.jsx)("h3",{children:"Search"}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Academic Year"}),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("select",{name:"academic-calendar",className:"form-select",value:c,onChange:function(e){return n(e.target.value)},children:[Object(h.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),t.length>0?t.map((function(e){return Object(h.jsx)("option",{value:e.year,children:e.year},e._id)})):Object(h.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Term"}),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("select",{name:"academic-calendar",className:"form-select",value:a,onChange:function(e){return r(e.target.value)},children:[Object(h.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(h.jsx)("option",{value:"1",children:"1"}),Object(h.jsx)("option",{value:"2",children:"2"}),Object(h.jsx)("option",{value:"3",children:"3"})]})})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("button",{onClick:l,disabled:s,type:"submit",className:"btn blue__btn",children:[s&&Object(h.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Search"]})})]})};t.default=function(){var e=Object(l.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],u=Object(i.c)(o.d),v=Object(l.useState)({}),x=Object(s.a)(v,2),m=x[0],f=x[1],p=Object(l.useState)(!1),N=Object(s.a)(p,2),g=N[0],C=N[1],P=Object(l.useState)(""),y=Object(s.a)(P,2),S=y[0],k=y[1],w=Object(i.c)(d.m),_=Object(l.useState)(""),E=Object(s.a)(_,2),D=E[0],F=E[1],Y=Object(l.useState)(!1),I=Object(s.a)(Y,2),W=I[0],z=I[1],G=Object(l.useState)(""),V=Object(s.a)(G,2),H=V[0],T=V[1],A=Object(l.useState)(""),B=Object(s.a)(A,2),J=B[0],M=B[1],R=Object(l.useState)([]),q=Object(s.a)(R,2),K=q[0],L=q[1];Object(l.useEffect)((function(){j.a.get("/school").then((function(e){L(e.data)}))}),[]),Object(l.useEffect)((function(){(function(){var e=Object(r.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/students/student/".concat(null===u||void 0===u?void 0:u.userID));case 2:t=e.sent,f(t.data.student);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]);var Q=function(e,t){return t||e?Number(e||0)+Number(t||0):"-"},U=function(e,t){if(!e&&!t)return"-";var c=Q(e,t);return c>=75&&c<=100?"A1":c>=70&&c<=74?"B2":c>=65&&c<=69?"B3":c>=60&&c<=64?"C4":c>=55&&c<=59?"C5":c>=50&&c<=54?"C6":c>=45&&c<=49?"D7":c>=40&&c<=44?"E8":c>=0&&c<=39?"F9":null},X=function(e,t){if(!e&&!t)return"-";var c=Q(e,t);return(c=Number(c))>75&&c<=100?"Excellent":c>=70&&c<=74?"Vert good":c>=65&&c<=69?"Good":c>=60&&c<=64||c>=55&&c<=59||c>=50&&c<=54?"Credit":c>=45&&c<=49||c>=40&&c<=44?"Pass":c>=0&&c<=39?"Failure":null},Z=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),t.preventDefault(),e.next=4,j.a.get("sba/student/".concat(null===u||void 0===u?void 0:u.userID,"/").concat(S,"/").concat(D)).then((function(e){z(!1),C(!0),T(D),M(S),n(e.data.docs),console.log(e.data.docs)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"mb-5",children:Object(h.jsx)(O,{yearGroup:w,academicYear:S,setacademicYear:k,term:D,setterm:F,loading:W,handleSearch:Z})}),g&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{id:"section-to-print",className:"content__container my-5",children:[Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("h3",{children:null===K||void 0===K?void 0:K.fullName}),Object(h.jsx)("p",{children:Object(h.jsx)("strong",{children:null===K||void 0===K?void 0:K.motto})})]}),Object(h.jsx)("div",{className:" mb-5",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h5",{children:"Report Card"}),Object(h.jsxs)("h6",{children:["Name: ",null===m||void 0===m?void 0:m.name," ",null===m||void 0===m?void 0:m.middleName," ",null===m||void 0===m?void 0:m.surname," -"," ",null===m||void 0===m?void 0:m.userID]}),Object(h.jsxs)("h6",{children:["Class: ",null===m||void 0===m?void 0:m.classID]}),Object(h.jsxs)("h6",{children:[" Year: ",J]}),Object(h.jsxs)("h6",{children:["Term:",H]})]})}),Object(h.jsxs)("table",{className:"table table-bordered",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Courses"}),Object(h.jsx)("th",{scope:"col",children:"Classwork "}),Object(h.jsx)("th",{scope:"col",children:"Classwork %"}),Object(h.jsx)("th",{scope:"col",children:"Exam "}),Object(h.jsx)("th",{scope:"col",children:"Exam %"}),Object(h.jsx)("th",{scope:"col",children:"Total %"}),Object(h.jsx)("th",{scope:"col",children:"Grade"}),Object(h.jsx)("th",{scope:"col",children:"Interpretation"}),Object(h.jsx)("th",{scope:"col",children:"Position"})]})}),Object(h.jsx)("tbody",{children:c.length>0?c.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:null===e||void 0===e?void 0:e.course}),Object(h.jsx)("td",{children:e.classWork||"-"}),Object(h.jsx)("td",{children:e.classWorkPercentage||"-"}),Object(h.jsx)("td",{children:(null===e||void 0===e?void 0:e.exam)||"-"}),Object(h.jsx)("td",{children:(null===e||void 0===e?void 0:e.examPercentage)||"-"}),Object(h.jsx)("td",{children:Q(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(h.jsx)("td",{children:U(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(h.jsx)("td",{children:X(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(h.jsx)("td",{children:null===e||void 0===e?void 0:e.position})]},null===e||void 0===e?void 0:e._id)})):Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:10,className:"text-center text-danger",children:Object(h.jsx)("h5",{children:"No data yet"})})})})]})]})," ",Object(h.jsx)("div",{className:"d-flex justify-content-center mb-5",children:Object(h.jsxs)("button",{onClick:function(){window.print()},className:"btn blue__btn",children:[Object(h.jsx)(b.a,{}),"Print"]})})]})]})}},737:function(e,t,c){e.exports=c(424)},738:function(e,t,c){"use strict";function n(e,t,c,n,a,r,s){try{var l=e[r](s),i=l.value}catch(o){return void c(o)}l.done?t(i):Promise.resolve(i).then(n,a)}function a(e){return function(){var t=this,c=arguments;return new Promise((function(a,r){var s=e.apply(t,c);function l(e){n(s,a,r,l,i,"next",e)}function i(e){n(s,a,r,l,i,"throw",e)}l(void 0)}))}}c.d(t,"a",(function(){return a}))},792:function(e,t,c){"use strict";var n=c(715),a=c(717);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(c(1)),s=(0,n(c(716)).default)(r.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.default=s}}]);
//# sourceMappingURL=144.f8a50acf.chunk.js.map