(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[139],{1168:function(e,t,a){"use strict";a(1);var n=a(1807),l=a(959),i=a.n(l),s=a(1966),c=a(718),o=a(14);t.a=function(e){var t=e.profileimg,a=e.setprofileUrl,l=e.profileUrl;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"Profile Photo"}),Object(o.jsx)("input",{accept:"image/*",className:"",id:"icon-button-file",type:"file",onChange:a}),Object(o.jsx)("label",{htmlFor:"icon-button-file",children:Object(o.jsx)(n.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(o.jsx)(i.a,{})})}),t&&Object(o.jsx)(s.a,{style:{width:"100px",height:"100px"},src:l?t:Object(c.g)(t),alt:"Username"})]})}},1410:function(e,t,a){"use strict";var n=a(716),l=a(1),i=a(76),s=a(38),c=a(763),o=a(32),r=a(135),d=a(14);t.a=function(e){var t=Object(i.c)(o.b),a=Object(i.c)(o.e),u=Object(l.useState)([]),b=Object(n.a)(u,2),m=b[0],j=b[1];Object(l.useEffect)((function(){s.a.get("/payrow").then((function(e){console.log(e.data),j(e.data)}))}),[]);var v=e.role,h=e.setRole,O=e.department,p=e.setDepartment,f=e.campus,x=e.setCampus,g=e.employmentDate,y=e.setemploymentDate,N=e.qualification,S=e.setqualification,k=e.years,B=e.setyears,C=e.bank,w=e.setbank,D=e.accountNumber,A=e.setaccountNumber,E=e.register,K=e.errors,M=e.salary,T=e.setsalary,F=e.allowance,_=e.setallowance,P=e.ssnit,R=e.setssnit,U=e.taxNumber,I=e.settaxNumber;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Employment Details"}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6  mb-3",children:[Object(d.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(d.jsx)("label",{className:"form-label",children:"Staff Role"}),Object(d.jsx)(r.b,{to:"/finance/payrow",children:"Add New Roles"})]}),Object(d.jsxs)("select",{ref:E({required:!0}),value:v,onChange:function(e){return h(e.target.value)},name:"role",className:"form-select","aria-label":"Default select example",children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),m.length>0?m.map((function(e){return Object(d.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)})):Object(d.jsx)("option",{children:"No position set yet"})]}),m.length<=0&&Object(d.jsx)(r.b,{to:"/finance/payrow",children:"Add Positions"}),K.role&&Object(d.jsx)("span",{className:" form-error text-danger mb-2",children:"Name is required"})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Departments"}),Object(d.jsxs)("select",{value:O,onChange:function(e){return p(e.target.value)},name:"department",className:"form-select","aria-label":"Default select example",children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),a.length>0?a.map((function(e){return Object(d.jsx)("option",{value:e.code,children:e.name},e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No departments yet"})]})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Campus"}),Object(d.jsxs)("select",{name:"campus",value:f,onChange:function(e){return x(e.target.value)},className:"form-select","aria-label":"Default select example",children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),t.length>0?t.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No campuses yet"})]})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6  mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Employment Date"}),Object(d.jsx)("input",{name:"employmentdate",value:g,onChange:function(e){return y(e.target.value)},type:"date",className:"form-control"})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6  mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Bank"}),Object(d.jsxs)("select",{name:"campus",value:C,onChange:function(e){return w(e.target.value)},className:"form-select","aria-label":"Default select example",children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),c.a.length>0?c.a.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)})):Object(d.jsx)("option",{disabled:!0,children:"No data yet"})]})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6  mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:" Account Number"}),Object(d.jsx)("input",{name:"accountNumber",value:D,onChange:function(e){return A(e.target.value)},type:"text",className:"form-control"})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6",children:[Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Is SSNIT Contributor"}),Object(d.jsx)("div",{className:"form-check form-switch",children:Object(d.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:function(){return R(!P)},id:"flexSwitchCheckChecked",checked:P})})]}),P&&Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Tax Identification Number"}),Object(d.jsx)("input",{name:"lastschool",value:U,onChange:function(e){return I(e.target.value)},type:"text",className:"form-control"})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6 mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Qualification"}),Object(d.jsx)("input",{name:"lastschool",value:N,onChange:function(e){return S(e.target.value)},type:"text",className:"form-control"})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6  mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Basic Salary"}),Object(d.jsx)("input",{name:"years",value:M,onChange:function(e){return T(e.target.value)},type:"number",className:"form-control"})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6  mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Allowance"}),Object(d.jsx)("input",{name:"years",value:F,onChange:function(e){return _(e.target.value)},type:"number",className:"form-control"})]}),Object(d.jsxs)("div",{className:"col-xs-12 col-sm-6  mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Years with School"}),Object(d.jsx)("input",{name:"years",value:k,onChange:function(e){return B(e.target.value)},type:"number",className:"form-control"})]})]})]})}},1865:function(e,t,a){"use strict";a.r(t);var n=a(733),l=a.n(n),i=a(734),s=a(716),c=a(1),o=a(1115),r=a(1410),d=a(1116),u=a(1168),b=a(1287),m=a(745),j=a(22),v=a(38),h=a(721),O=a.n(h),p=a(718),f=a(76),x=a(32),g=a(14);t.default=function(){var e=Object(j.i)().id,t=Object(c.useState)({}),a=Object(s.a)(t,2),n=a[0],h=a[1],y=Object(c.useState)(""),N=Object(s.a)(y,2),S=N[0],k=N[1],B=Object(c.useState)(""),C=Object(s.a)(B,2),w=C[0],D=C[1],A=Object(c.useState)(""),E=Object(s.a)(A,2),K=E[0],M=E[1],T=Object(c.useState)(""),F=Object(s.a)(T,2),_=F[0],P=F[1],R=Object(c.useState)(""),U=Object(s.a)(R,2),I=U[0],L=U[1],q=Object(c.useState)(""),G=Object(s.a)(q,2),J=G[0],V=G[1],H=Object(c.useState)(""),Y=Object(s.a)(H,2),z=Y[0],W=Y[1],Q=Object(c.useState)(""),Z=Object(s.a)(Q,2),X=Z[0],$=Z[1],ee=Object(c.useState)(""),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],le=Object(c.useState)(""),ie=Object(s.a)(le,2),se=ie[0],ce=ie[1],oe=Object(c.useState)(""),re=Object(s.a)(oe,2),de=re[0],ue=re[1],be=Object(c.useState)(""),me=Object(s.a)(be,2),je=me[0],ve=me[1],he=Object(c.useState)(""),Oe=Object(s.a)(he,2),pe=Oe[0],fe=Oe[1],xe=Object(c.useState)(""),ge=Object(s.a)(xe,2),ye=ge[0],Ne=ge[1],Se=Object(c.useState)(""),ke=Object(s.a)(Se,2),Be=ke[0],Ce=ke[1],we=Object(c.useState)(""),De=Object(s.a)(we,2),Ae=De[0],Ee=De[1],Ke=Object(f.b)(),Me=Object(f.c)(x.k),Te=Object(m.a)(),Fe=Te.register,_e=Te.handleSubmit,Pe=Te.errors,Re=Object(c.useState)(""),Ue=Object(s.a)(Re,2),Ie=Ue[0],Le=Ue[1],qe=Object(c.useState)(""),Ge=Object(s.a)(qe,2),Je=Ge[0],Ve=Ge[1],He=Object(c.useState)(""),Ye=Object(s.a)(He,2),ze=Ye[0],We=Ye[1],Qe=Object(c.useState)(null),Ze=Object(s.a)(Qe,2),Xe=Ze[0],$e=Ze[1],et=Object(c.useState)(""),tt=Object(s.a)(et,2),at=tt[0],nt=tt[1],lt=Object(c.useState)(""),it=Object(s.a)(lt,2),st=it[0],ct=it[1],ot=Object(c.useState)(""),rt=Object(s.a)(ot,2),dt=rt[0],ut=rt[1],bt=Object(c.useState)(""),mt=Object(s.a)(bt,2),jt=mt[0],vt=mt[1],ht=Object(c.useState)(!1),Ot=Object(s.a)(ht,2),pt=Ot[0],ft=Ot[1],xt=Object(c.useState)(""),gt=Object(s.a)(xt,2),yt=gt[0],Nt=gt[1],St=Object(c.useState)(""),kt=Object(s.a)(St,2),Bt=kt[0],Ct=kt[1],wt=Object(c.useState)(""),Dt=Object(s.a)(wt,2),At=Dt[0],Et=Dt[1],Kt=Object(c.useState)(""),Mt=Object(s.a)(Kt,2),Tt=Mt[0],Ft=Mt[1],_t=Object(c.useState)(""),Pt=Object(s.a)(_t,2),Rt=Pt[0],Ut=Pt[1],It=Object(c.useState)(""),Lt=Object(s.a)(It,2),qt=Lt[0],Gt=Lt[1],Jt=Object(c.useState)(""),Vt=Object(s.a)(Jt,2),Ht=Vt[0],Yt=Vt[1],zt=Object(c.useState)(""),Wt=Object(s.a)(zt,2),Qt=Wt[0],Zt=Wt[1],Xt=Object(c.useState)(""),$t=Object(s.a)(Xt,2),ea=$t[0],ta=$t[1],aa=Object(c.useState)(""),na=Object(s.a)(aa,2),la=na[0],ia=na[1],sa=Object(c.useState)(""),ca=Object(s.a)(sa,2),oa=ca[0],ra=ca[1],da=Object(c.useState)(""),ua=Object(s.a)(da,2),ba=ua[0],ma=ua[1],ja=Object(c.useState)(""),va=Object(s.a)(ja,2),ha=va[0],Oa=va[1],pa=Object(c.useState)(""),fa=Object(s.a)(pa,2),xa=fa[0],ga=fa[1];Object(c.useEffect)((function(){v.a.get("/teachers/".concat(e)).then((function(e){var t,a,n,l,i,s,c,o=e.data.teacher;h(o),k(null===o||void 0===o?void 0:o.name),D(null===o||void 0===o?void 0:o.surname),P(null===o||void 0===o?void 0:o.gender),M(null===o||void 0===o?void 0:o.middleName),L((null===o||void 0===o?void 0:o.dateofBirth)?O()(null===o||void 0===o?void 0:o.dateOfBirth).format("YYYY-MM-D"):""),Ee(null===o||void 0===o?void 0:o.profileUrl),V(null===o||void 0===o?void 0:o.email),W(null===o||void 0===o?void 0:o.nationality),$(null===o||void 0===o?void 0:o.placeOfBirth),ne(null===o||void 0===o?void 0:o.religion),ce(null===o||void 0===o?void 0:o.title),ue(null===o||void 0===o?void 0:o.health),ve(null===o||void 0===o?void 0:o.allege),fe(null===o||void 0===o?void 0:o.disease),ft(null===o||void 0===o?void 0:o.ssnit),Nt(null===o||void 0===o?void 0:o.taxNumber),Ct(null===o||void 0===o?void 0:o.salary),Et(null===o||void 0===o?void 0:o.allowance),Le(null===o||void 0===o?void 0:o.position),Ve(null===o||void 0===o?void 0:o.department),We(null===o||void 0===o?void 0:o.campus),$e(null===o||void 0===o?void 0:o.employmentDate),ut(null===o||void 0===o?void 0:o.qualification),vt(null===o||void 0===o?void 0:o.years),ct(null===o||void 0===o?void 0:o.bank),nt(null===o||void 0===o?void 0:o.accountNumber),Ft(null===o||void 0===o?void 0:o.telephone),Ut(null===o||void 0===o?void 0:o.physicalAddress),Gt(null===o||void 0===o?void 0:o.mobilenumber),Yt(null===o||void 0===o?void 0:o.postalAddress),Zt(null===o||void 0===o||null===(t=o.nextofKin)||void 0===t?void 0:t.mobile),ra(null===(a=o.nextofKin)||void 0===a?void 0:a.email),ia(null===(n=o.nextofKin)||void 0===n?void 0:n.lastname),ta(null===(l=o.nextofKin)||void 0===l?void 0:l.name),ga(null===(i=o.nextofKin)||void 0===i?void 0:i.address),Oa(null===(s=o.nextofKin)||void 0===s?void 0:s.occupation),ma(null===(c=o.nextofKin)||void 0===c?void 0:c.relationship)}))}),[e]);var ya=function(){var t=Object(i.a)(l.a.mark((function t(){var a,n,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ne(!0),a=new FormData,n="",!Be){t.next=9;break}return a.append("photo",Be),t.next=7,v.a.post("/upload",a,{});case 7:s=t.sent,n=s.data.path;case 9:v.a.put("/teachers/update/".concat(e),{profileUrl:n,name:S,middleName:K,surname:w,gender:_,dateOfBirth:I,title:se,email:J,nationality:z,religion:ae,placeOfBirth:X,health:de,disease:pe,campusID:ze,department:Je,allege:je,allowance:At,salary:Bt,ssnit:pt,taxNumber:yt,bank:st,accountNumber:at,years:jt,employmentDate:Xe,position:Ie,mobilenumber:Tt,telephone:qt,qualifications:dt,postalAddress:Ht,physicalAddress:Rt,nextofKin:{name:ea,relationship:ba,occupation:ha,email:oa,mobile:Qt,address:xa,lastname:la}}).then(function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a.data),Ne(!1),a.data.error&&Object(p.c)(a.data.error),h(a.data.teacher),Object(p.m)("Successfully Edited"),Ke(Object(x.w)(Me.map((function(t){return t.userID===e?a.data.doc:t})))),t.next=8,v.a.post("/activitylog/create",{activity:"staff member  ".concat(S," ").concat(w," was edited"),user:"admin"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e),Object(p.c)("Something went wrong"),Ne(!1)}));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Edit Staff Member"}),Object(g.jsx)("div",{children:Object(g.jsxs)("form",{action:"",className:"content__container",children:[Object(g.jsx)(u.a,{profileUrl:Be,profileimg:Ae,setprofileUrl:function(e){var t=e.target.files[0];if((null===t||void 0===t?void 0:t.size)>2e6)Object(p.c)("image is too large");else if(t){Ce(t);var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){Ee(a.result)}}else console.log("no file selected")}}),Object(g.jsx)(o.a,{register:Fe,title:se,setTitle:ce,isTeacher:!0,errors:Pe,setHeathCon:ue,name:S,setname:k,secondName:K,setsecondName:M,lastname:w,setlastname:D,gender:_,setgender:P,dateofBirth:I,setdateofBirth:L,email:J,setemail:V,nationality:z,setnationality:W,placeofBirth:X,setplaceofBirth:$,religion:ae,setreligion:ne}),Object(g.jsx)("br",{className:"my-4"}),Object(g.jsx)(r.a,{register:Fe,errors:Pe,role:Ie,bank:st,setbank:ct,accountNumber:at,setaccountNumber:nt,ssnit:pt,setssnit:ft,salary:Bt,setsalary:Ct,allowance:At,setallowance:Et,taxNumber:yt,settaxNumber:Nt,setRole:Le,department:Je,setDepartment:Ve,campus:ze,setCampus:We,employmentDate:Xe,setemploymentDate:$e,qualification:dt,setqualification:ut,years:jt,setyears:vt}),Object(g.jsx)("br",{className:"my-4"}),Object(g.jsx)(d.a,{register:Fe,errors:Pe,mobilenumber:Tt,setmobilenumber:Ft,residence:Rt,setresidence:Ut,settelephone:Gt,telephone:qt,setpostalAddress:Yt,postalAddress:Ht}),Object(g.jsx)("br",{className:"my-4"}),Object(g.jsx)(b.a,{lastname:la,setlastname:ia,name:ea,setname:ta,errors:Pe,register:Fe,telephone:Qt,settelephone:Zt,email:oa,setemail:ra,setaddress:ga,address:xa,occupation:ha,setoccupation:Oa,relationship:ba,setrelationship:ma}),Object(g.jsx)("br",{className:"my-4"}),Object(g.jsxs)("div",{className:"row ",children:[Object(g.jsx)("button",{type:"submit",onClick:_e(ya),className:" col btn orange__btn mr-5",children:ye?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),Object(g.jsx)("span",{className:"visually-hidden",children:"Loading..."})]}):"Save Changes"}),Object(g.jsx)("button",{onClick:function(e){e.preventDefault(),function(e){var t,a,n,l,i,s,c;k(null===e||void 0===e?void 0:e.name),D(null===e||void 0===e?void 0:e.surname),P(null===e||void 0===e?void 0:e.gender),M(null===e||void 0===e?void 0:e.middleName),L(null===e||void 0===e?void 0:e.dateofBirth),V(null===e||void 0===e?void 0:e.email),W(null===e||void 0===e?void 0:e.nationality),$(null===e||void 0===e?void 0:e.placeofBirth),ne(null===e||void 0===e?void 0:e.religion),ce(null===e||void 0===e?void 0:e.title),Le(null===e||void 0===e?void 0:e.position),Ve(null===e||void 0===e?void 0:e.department),We(null===e||void 0===e?void 0:e.campus),$e(null===e||void 0===e?void 0:e.employmentDate),ut(null===e||void 0===e?void 0:e.qualification),vt(null===e||void 0===e?void 0:e.years),nt(null===e||void 0===e?void 0:e.accountNumber),ct(null===e||void 0===e?void 0:e.bank),Ft(null===e||void 0===e?void 0:e.telephone),Ut(null===e||void 0===e?void 0:e.physicalAddress),Gt(null===e||void 0===e?void 0:e.mobile),Yt(null===e||void 0===e?void 0:e.postalAddress),Zt(null===e||void 0===e||null===(t=e.nextofKin)||void 0===t?void 0:t.mobile),ra(null===(a=e.nextofKin)||void 0===a?void 0:a.email),ia(null===(n=e.nextofKin)||void 0===n?void 0:n.name),ta(null===(l=e.nextofKin)||void 0===l?void 0:l.name),ga(null===(i=e.nextofKin)||void 0===i?void 0:i.address),Oa(null===(s=e.nextofKin)||void 0===s?void 0:s.occupation),ma(null===(c=e.nextofKin)||void 0===c?void 0:c.relationship)}(n)},className:" col btn blue__btn",children:"Reset"})]})]})})]})}},763:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"f",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return o}));var n=[{name:"January",id:0},{name:"February",id:1},{name:"March",id:2},{name:"April",id:3},{name:"May",id:4},{name:"June",id:5},{name:"July",id:6},{name:"August",id:7},{name:"September",id:8},{name:"October",id:9},{name:"November",id:10},{name:"December",id:11}],l=[{id:"border",name:"Border"},{id:"freshBorder",name:"Fresh Border"},{id:"freshDay",name:"Fresh Day"},{id:"day",name:"Day"}],i=["donations","prices","projects","others"],s=["Advertising and Marketing","Automobile Expense","Consultant Expense","Credit Card Charges","Depreciation Expense","IT and Internet Expenses","Janitorial Expense","Lodging","Meals and Entertainment","Office Supplies","Postage","Printing and Stationery","Rent Expense ","Repairs and Maintenance","Salaries and Expenses Wages","Telephone Expense","Travel Expense","Fixed Assets","Expenses","SNNIT","Bank Charges","Cleaning and Sanitation","Fuel/Lubrication","Vehicle Maintenance","Accountancy","Learning Materials","Proprietor Drawings","Donation/Gift","Permit/Levies/Rates","Electricity","Water","Text Book","Note books","School Uniform","Exams Printing","Maintenance","Others"],c=["Access Bank Ghana","African Investment Bank","Agricultural Developement Bank of Ghana","Ahantaman Rural Bank","CAL Bank","Ecobank Ghana","Fidelity Bank","Intercontinental Bank","HFC Bank","Consolidated Bank of Ghana","Barclays Bank","Merchant Bank Ghana Limited","Guaranty Trust Bank","Stanbic","Standard Chartered Bank","National City Bank","Northern City Bank","Trust Bank","UT Bank","United Bank for Africa","Zenith Bank"],o=["Teacher","Headmaster","Accountant","Teller","Security","Proprietor","Cleaner","Cook","Admin","Technician","Janitor","Matron","Secretary","Driver"]},959:function(e,t,a){"use strict";var n=a(712),l=a(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(1)),s=(0,n(a(714)).default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),i.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");t.default=s}}]);
//# sourceMappingURL=139.52954118.chunk.js.map