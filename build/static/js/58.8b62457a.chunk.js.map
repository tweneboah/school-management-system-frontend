{"version":3,"sources":["AdminComponents/finance/billPayment/PaymentReceipt.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"names":["PaymentReceipt","useState","state","setstate","transaction","settransaction","user","setuser","id","useParams","history","useHistory","useEffect","axios","get","then","res","console","log","data","a","fees","userID","userDetails","student","className","fullName","motto","moment","date","format","name","middleName","surname","classID","academicYear","term","currentCurrency","amount","onClick","window","print","delete","error","errorAlert","goBack","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"mappings":"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","file":"static/js/58.8b62457a.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"../../../store/axios\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { errorAlert, currentCurrency } from \"../../../utils\";\n\nfunction PaymentReceipt() {\n  const [state, setstate] = useState({});\n  const [transaction, settransaction] = useState({});\n  const [user, setuser] = useState({});\n  const { id } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    axios.get(\"/school\").then((res) => {\n      console.log(res.data);\n      setstate(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`/transactions/${id}`).then(async (res) => {\n      settransaction(res.data);\n      const userDetails = await axios.get(\n        `/students/student/${res.data.fees.userID}`\n      );\n      setuser(userDetails.data.student);\n    });\n  }, [id]);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const handleDelete = () => {\n    axios.delete(`/transactions/delete/${id}`).then((res) => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      history.goBack();\n      // history.push(\"/finance/transactions\");\n    });\n  };\n\n  return (\n    <>\n      <div className=\"border content__container mb-5\" id=\"section-to-print\">\n        <div className=\"text-center border-bottom p-3\">\n          <h2>{state?.fullName}</h2>\n          <p>{state?.motto}</p>\n        </div>\n        <div className=\"row p-3\">\n          <div className=\"col-6\">\n            <div className=\"d-flex\">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Date</strong>\n              </h6>\n              <h6>\n                <strong>\n                  {moment(transaction?.date).format(\"D MMMM YYYY\")}\n                </strong>\n              </h6>\n            </div>\n            <div className=\"d-flex\">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Name</strong>\n              </h6>\n              <h6>\n                <strong>\n                  {user?.name} {user?.middleName} {user?.surname}{\" \"}\n                </strong>\n              </h6>\n            </div>\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Class</strong>\n              </h6>\n              <h6>\n                <strong>{user?.classID}</strong>\n              </h6>\n            </div>\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>UserID</strong>\n              </h6>\n              <h6>\n                <strong>{transaction.fees?.userID} </strong>\n              </h6>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Academic Year</strong>\n              </h6>\n              <h6>\n                <strong>{transaction?.fees?.academicYear || \"-\"} </strong>\n              </h6>\n            </div>\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Term</strong>\n              </h6>\n              <h6>\n                <strong>{transaction?.fees?.term || \"-\"} </strong>\n              </h6>\n            </div>\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Amount Paid</strong>\n              </h6>\n              <h6>\n                <strong>\n                  {currentCurrency()} {transaction?.amount || \"-\"}{\" \"}\n                </strong>\n              </h6>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"d-flex justify-content-center\">\n        <button onClick={handlePrint} className=\"btn blue__btn\">\n          Print Receipt\n        </button>\n        <button onClick={handleDelete} className=\" ml-5 btn btn-danger\">\n          Cancel Payment\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default PaymentReceipt;\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"sourceRoot":""}