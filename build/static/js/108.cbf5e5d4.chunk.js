(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[108],{1093:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(770),o=a(77),c=(a(1),a(101)),r=a(560),i=a(953),s=a(954),l=a(951),d=a(952),u=a(949),b=a(950),p=a(941),f=a(14),h=Object(c.a)((function(e){return{head:{backgroundColor:"#051f3e",color:e.palette.common.white},body:{fontSize:14}}}))(l.a),j=Object(c.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(b.a),m=Object(r.a)({table:{minWidth:700}});function v(e){var t=e.isStaff,a=e.handleResetAttendance,c=e.attendanceData,r=e.setattendanceData,l=e.loading,v=e.handleRegister,g=(e.isClass,e.isEdit),O=m();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d.a,{component:p.a,children:Object(f.jsxs)(i.a,{className:O.table,"aria-label":"customized table",children:[Object(f.jsx)(u.a,{children:Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(h,{align:"left",children:[" ",t?"Staff ID":"Student ID"]}),Object(f.jsx)(h,{align:"left",children:"Name"}),Object(f.jsx)(h,{align:"left",children:"Last Name"}),Object(f.jsx)(h,{align:"left",children:"Status"})]})}),Object(f.jsx)(s.a,{children:(null===c||void 0===c?void 0:c.length)>0?c.map((function(e){return Object(f.jsxs)(j,{children:[Object(f.jsx)(h,{children:null===e||void 0===e?void 0:e.userID}),Object(f.jsx)(h,{children:null===e||void 0===e?void 0:e.name}),Object(f.jsx)(h,{children:null===e||void 0===e?void 0:e.surname}),Object(f.jsx)(h,{children:Object(f.jsx)("div",{className:"form-check",children:Object(f.jsx)("input",{onChange:function(){return function(e){var t=c.findIndex((function(t){return t.userID===e})),a=Object(o.a)(Object(o.a)({},c[t]),{},{status:!c[t].status}),i=[].concat(Object(n.a)(c.slice(0,t)),[a],Object(n.a)(c.slice(t+1)));r(i)}(null===e||void 0===e?void 0:e.userID)},className:"form-check-input",type:"checkbox",value:null===e||void 0===e?void 0:e.status,id:"flexCheckChecked",checked:null===e||void 0===e?void 0:e.status})})})]},null===e||void 0===e?void 0:e.userID)})):Object(f.jsxs)("div",{className:"p-3",children:[" ",t?"No Staff data":"No students in this class"]})})]})}),Object(f.jsx)("div",{className:"my-3 d-flex justify-content-end",children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("button",{onClick:v,disabled:l||!(null===c||void 0===c?void 0:c.length)>0,className:"btn blue__btn mr-2",children:[l&&Object(f.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status"}),g?"Submit":"Save Changes"]}),g?Object(f.jsx)("button",{onClick:a,className:"btn orange__btn",children:"Cancel Changes"}):Object(f.jsx)("button",{className:"btn orange__btn",onClick:function(){console.log("reset");var e=null===c||void 0===c?void 0:c.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{status:!1})}));console.log(e),r(e)},children:"Reset"})]})})]})}},1884:function(e,t,a){"use strict";a.r(t);var n=a(716),o=a(1),c=a(1093),r=a(38),i=a(718),s=a(22),l=a(14);t.default=function(){var e=Object(o.useState)(!1),t=Object(n.a)(e,2),a=t[0],d=t[1],u=Object(s.i)(),b=u.classID,p=u.id,f=Object(o.useState)([]),h=Object(n.a)(f,2),j=h[0],m=h[1];return Object(o.useEffect)((function(){p&&r.a.get("/attendance/attendance/".concat(p)).then((function(e){console.log(e),m(e.data.users)}))}),[p]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h3",{className:"mb-5",children:["Edit  ",b," Attendance"]}),b&&Object(l.jsx)(c.a,{attendanceData:j,isEdit:!0,handleResetAttendance:function(){r.a.get("/attendance/students/".concat(p)).then((function(e){console.log(e),m(e.data.users)}))},handleRegister:function(){d(!0),r.a.put("/attendance/update/".concat(p),{users:j}).then((function(e){if(d(!1),e.data.error)return Object(i.c)(e.data.error),0})).catch((function(e){console.log(e),d(!1),Object(i.c)("Sorry something when wrong")}))},loading:a,setattendanceData:m})]})}},726:function(e,t,a){"use strict";var n=a(1),o=n.createContext();t.a=o},770:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1112);var o=a(1080);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},771:function(e,t,a){"use strict";var n=a(1),o=n.createContext();t.a=o},941:function(e,t,a){"use strict";var n=a(19),o=a(2),c=a(1),r=(a(36),a(37)),i=a(101),s=c.forwardRef((function(e,t){var a=e.classes,i=e.className,s=e.component,l=void 0===s?"div":s,d=e.square,u=void 0!==d&&d,b=e.elevation,p=void 0===b?1:b,f=e.variant,h=void 0===f?"elevation":f,j=Object(n.a)(e,["classes","className","component","square","elevation","variant"]);return c.createElement(l,Object(o.a)({className:Object(r.a)(a.root,i,"outlined"===h?a.outlined:a["elevation".concat(p)],!u&&a.rounded),ref:t},j))}));t.a=Object(i.a)((function(e){var t={};return e.shadows.forEach((function(e,a){t["elevation".concat(a)]={boxShadow:e}})),Object(o.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(s)},949:function(e,t,a){"use strict";var n=a(2),o=a(19),c=a(1),r=(a(36),a(37)),i=a(101),s=a(726),l={variant:"head"},d="thead",u=c.forwardRef((function(e,t){var a=e.classes,i=e.className,u=e.component,b=void 0===u?d:u,p=Object(o.a)(e,["classes","className","component"]);return c.createElement(s.a.Provider,{value:l},c.createElement(b,Object(n.a)({className:Object(r.a)(a.root,i),ref:t,role:b===d?null:"rowgroup"},p)))}));t.a=Object(i.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(u)},950:function(e,t,a){"use strict";var n=a(2),o=a(19),c=a(1),r=(a(36),a(37)),i=a(101),s=a(726),l=a(103),d=c.forwardRef((function(e,t){var a=e.classes,i=e.className,l=e.component,d=void 0===l?"tr":l,u=e.hover,b=void 0!==u&&u,p=e.selected,f=void 0!==p&&p,h=Object(o.a)(e,["classes","className","component","hover","selected"]),j=c.useContext(s.a);return c.createElement(d,Object(n.a)({ref:t,className:Object(r.a)(a.root,i,j&&{head:a.head,footer:a.footer}[j.variant],b&&a.hover,f&&a.selected),role:"tr"===d?null:"row"},h))}));t.a=Object(i.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(d)},951:function(e,t,a){"use strict";var n=a(19),o=a(2),c=a(1),r=(a(36),a(37)),i=a(101),s=a(188),l=a(103),d=a(771),u=a(726),b=c.forwardRef((function(e,t){var a,i,l=e.align,b=void 0===l?"inherit":l,p=e.classes,f=e.className,h=e.component,j=e.padding,m=e.scope,v=e.size,g=e.sortDirection,O=e.variant,x=Object(n.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),y=c.useContext(d.a),N=c.useContext(u.a),k=N&&"head"===N.variant;h?(i=h,a=k?"columnheader":"cell"):i=k?"th":"td";var w=m;!w&&k&&(w="col");var C=j||(y&&y.padding?y.padding:"default"),R=v||(y&&y.size?y.size:"medium"),S=O||N&&N.variant,E=null;return g&&(E="asc"===g?"ascending":"descending"),c.createElement(i,Object(o.a)({ref:t,className:Object(r.a)(p.root,p[S],f,"inherit"!==b&&p["align".concat(Object(s.a)(b))],"default"!==C&&p["padding".concat(Object(s.a)(C))],"medium"!==R&&p["size".concat(Object(s.a)(R))],"head"===S&&y&&y.stickyHeader&&p.stickyHeader),"aria-sort":E,role:a,scope:w},x))}));t.a=Object(i.a)((function(e){return{root:Object(o.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(l.e)(Object(l.c)(e.palette.divider,1),.88):Object(l.a)(Object(l.c)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(b)},952:function(e,t,a){"use strict";var n=a(2),o=a(19),c=a(1),r=(a(36),a(37)),i=a(101),s=c.forwardRef((function(e,t){var a=e.classes,i=e.className,s=e.component,l=void 0===s?"div":s,d=Object(o.a)(e,["classes","className","component"]);return c.createElement(l,Object(n.a)({ref:t,className:Object(r.a)(a.root,i)},d))}));t.a=Object(i.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(s)},953:function(e,t,a){"use strict";var n=a(19),o=a(2),c=a(1),r=(a(36),a(37)),i=a(101),s=a(771),l="table",d=c.forwardRef((function(e,t){var a=e.classes,i=e.className,d=e.component,u=void 0===d?l:d,b=e.padding,p=void 0===b?"default":b,f=e.size,h=void 0===f?"medium":f,j=e.stickyHeader,m=void 0!==j&&j,v=Object(n.a)(e,["classes","className","component","padding","size","stickyHeader"]),g=c.useMemo((function(){return{padding:p,size:h,stickyHeader:m}}),[p,h,m]);return c.createElement(s.a.Provider,{value:g},c.createElement(u,Object(o.a)({role:u===l?null:"table",ref:t,className:Object(r.a)(a.root,i,m&&a.stickyHeader)},v)))}));t.a=Object(i.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(o.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(d)},954:function(e,t,a){"use strict";var n=a(2),o=a(19),c=a(1),r=(a(36),a(37)),i=a(101),s=a(726),l={variant:"body"},d="tbody",u=c.forwardRef((function(e,t){var a=e.classes,i=e.className,u=e.component,b=void 0===u?d:u,p=Object(o.a)(e,["classes","className","component"]);return c.createElement(s.a.Provider,{value:l},c.createElement(b,Object(n.a)({className:Object(r.a)(a.root,i),ref:t,role:b===d?null:"rowgroup"},p)))}));t.a=Object(i.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(u)}}]);
//# sourceMappingURL=108.cbf5e5d4.chunk.js.map