(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[122],{1920:function(e,t,c){"use strict";c.r(t);var n=c(737),a=c.n(n),i=c(738),s=c(719),l=c(1),r=c(752),o=c(38),d=c(79),j=c(60),b=c(721),u=c(14);var h=function(e){var t=e.fees,c=e.balance,n=e.totalPaid,a=e.totalBill;return Object(u.jsx)("div",{className:"content__container blue_bg ",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:t?Object(u.jsxs)("table",{className:"table table-sm table-borderless text-light",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"orange_color",scope:"col",children:"FEES"}),Object(u.jsxs)("th",{className:"orange_color",scope:"col",children:["Amount (",Object(b.b)(),")"]})]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:"Tution Fee"}),Object(u.jsx)("td",{children:null===t||void 0===t?void 0:t.tution})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:"Facility Fee"}),Object(u.jsx)("td",{children:null===t||void 0===t?void 0:t.facility})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:"Maintenance Fee"}),Object(u.jsx)("th",{children:null===t||void 0===t?void 0:t.maintenance})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:"Exam Fee"}),Object(u.jsx)("th",{children:null===t||void 0===t?void 0:t.exam})]})]})]}):Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("p",{children:"No fees details yet "})})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("table",{className:"table table-sm table-borderless text-light",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"orange_color",scope:"col",children:"FEES BALANCES"}),Object(u.jsxs)("th",{className:"orange_color",scope:"col",children:["Amount (",Object(b.b)(),")"]})]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:"TOTAL FEES"}),Object(u.jsx)("th",{scope:"row",children:a})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:"FEES PAID"}),Object(u.jsx)("th",{scope:"row",children:n})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-light",scope:"row",children:"FEES DUE"}),Object(u.jsx)("th",{className:"text-light",scope:"row",children:c})]})]})]})})]})})},O=[{id:"date",name:"Date"},{id:"paymentMethod",name:"Payment Method"},{id:"bank",name:"Bank"},{id:"description",name:"Description"},{id:"amount",name:"Amount ".concat(Object(b.b)())}];t.default=function(){var e=Object(l.useState)(!1),t=Object(s.a)(e,2),c=t[0],n=t[1],b=Object(l.useState)([]),x=Object(s.a)(b,2),v=x[0],m=x[1],f=Object(l.useState)({}),p=Object(s.a)(f,2),g=p[0],w=p[1],N=Object(d.c)(j.d),E=Object(l.useState)(0),M=Object(s.a)(E,2),P=M[0],S=M[1],y=Object(l.useState)(0),_=Object(s.a)(y,2),D=_[0],k=_[1],A=Object(l.useState)(0),C=Object(s.a)(A,2),F=C[0],z=C[1];return Object(l.useEffect)((function(){(function(){var e=Object(i.a)(a.a.mark((function e(){var t,c,i,s,l,r,d,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,o.a.get("/transactions/student/".concat(null===N||void 0===N?void 0:N.userID));case 3:return s=e.sent,m(s.data),e.next=7,o.a.get("/students/student/".concat(null===N||void 0===N?void 0:N.userID));case 7:return l=e.sent,console.log(l),e.next=11,o.a.get("/fees/type/".concat(null===(t=l.data.student)||void 0===t?void 0:t.classID,"/").concat(null===(c=l.data.student)||void 0===c?void 0:c.status));case 11:r=e.sent,w(r.data),console.log(r.data),d=Object.values(r.data).reduce((function(e,t){return Number(e)+Number(t)}),0),j=null===(i=s.data)||void 0===i?void 0:i.reduce((function(e,t){return Number(e)+Number(null===t||void 0===t?void 0:t.amount)}),0),S(d),k(j),z(d-j),n(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{fees:g,totalBill:P,totalPaid:D,balance:F}),Object(u.jsx)("h3",{className:"mb-3 mt-5",children:"Fees Transactions"}),Object(u.jsx)(r.a,{data:v,noActions:!0,tableHeader:O,loading:c})]})}},728:function(e,t,c){"use strict";var n=c(715),a=c(717);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(c(1)),s=(0,n(c(716)).default)(i.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=s},736:function(e,t,c){"use strict";c(1);var n=c(563),a=c(189),i=c(1780),s=c(733),l=c.n(s),r=c(735),o=c.n(r),d=c(734),j=c.n(d),b=c(732),u=c.n(b),h=c(14),O=Object(n.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));t.a=function(e){var t=O(),c=Object(a.a)(),n=e.count,s=e.page,r=e.rowsPerPage,d=e.onChangePage;return Object(h.jsxs)("div",{className:t.root,children:[Object(h.jsx)(i.a,{onClick:function(e){d(e,0)},disabled:0===s,"aria-label":"first page",children:"rtl"===c.direction?Object(h.jsx)(u.a,{}):Object(h.jsx)(l.a,{})}),Object(h.jsx)(i.a,{onClick:function(e){d(e,s-1)},disabled:0===s,"aria-label":"previous page",children:"rtl"===c.direction?Object(h.jsx)(j.a,{}):Object(h.jsx)(o.a,{})}),Object(h.jsx)(i.a,{onClick:function(e){d(e,s+1)},disabled:s>=Math.ceil(n/r)-1,"aria-label":"next page",children:"rtl"===c.direction?Object(h.jsx)(o.a,{}):Object(h.jsx)(j.a,{})}),Object(h.jsx)(i.a,{onClick:function(e){d(e,Math.max(0,Math.ceil(n/r)-1))},disabled:s>=Math.ceil(n/r)-1,"aria-label":"last page",children:"rtl"===c.direction?Object(h.jsx)(l.a,{}):Object(h.jsx)(u.a,{})})]})}},737:function(e,t,c){e.exports=c(424)},738:function(e,t,c){"use strict";function n(e,t,c,n,a,i,s){try{var l=e[i](s),r=l.value}catch(o){return void c(o)}l.done?t(r):Promise.resolve(r).then(n,a)}function a(e){return function(){var t=this,c=arguments;return new Promise((function(a,i){var s=e.apply(t,c);function l(e){n(s,a,i,l,r,"next",e)}function r(e){n(s,a,i,l,r,"throw",e)}l(void 0)}))}}c.d(t,"a",(function(){return a}))},739:function(e,t,c){"use strict";var n=c(715),a=c(717);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(c(1)),s=(0,n(c(716)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.default=s},746:function(e,t,c){"use strict";var n=c(715),a=c(717);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(c(1)),s=(0,n(c(716)).default)(i.createElement("path",{d:"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"}),"Toc");t.default=s},752:function(e,t,c){"use strict";c.d(t,"a",(function(){return _}));var n=c(719),a=c(1),i=c.n(a),s=c(563),l=c(1064),r=c(1065),o=c(1060),d=c(1062),j=c(1063),b=c(795),u=c(1887),h=c(1061),O=c(944),x=c(1780),v=c(728),m=c.n(v),f=c(739),p=c.n(f),g=c(736),w=c(725),N=c.n(w),E=c(918),M=c(746),P=c.n(M),S=c(14),y=Object(s.a)({table:{width:"100%"}});function _(e){var t,c=e.data,a=e.tableHeader,s=e.handleEdit,v=e.handleDelete,f=e.loading,w=e.isCanteen,M=e.isEdit,_=e.isItems,D=e.noActions,k=e.noData,A=y(),C=i.a.useState(0),F=Object(n.a)(C,2),z=F[0],I=F[1],H=i.a.useState(5),T=Object(n.a)(H,2),V=T[0],L=T[1],B=V-Math.min(V,(null===c||void 0===c?void 0:c.length)-z*V);return Object(S.jsx)(j.a,{component:O.a,children:Object(S.jsxs)(l.a,{className:A.table,"aria-label":"custom pagination table",children:[Object(S.jsx)(o.a,{children:Object(S.jsxs)(h.a,{children:[a&&(null===a||void 0===a?void 0:a.map((function(e){return Object(S.jsx)(d.a,{children:e.name},e.id)}))),!D&&Object(S.jsx)(d.a,{children:"Actions"})]})}),f?Object(S.jsx)(r.a,{className:"text-center my-5 w-100",children:Object(S.jsx)(h.a,{children:Object(S.jsx)(d.a,{colSpan:a.lenght,children:Object(S.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})})}):Object(S.jsxs)(r.a,{children:[(null===c||void 0===c?void 0:c.length)<=0?Object(S.jsx)(h.a,{children:Object(S.jsx)(d.a,{colSpan:a.length+1,className:"text-center text-danger",children:k||"No data"})}):Object(S.jsx)(S.Fragment,{children:null===(t=V>0?null===c||void 0===c?void 0:c.slice(z*V,z*V+V):c)||void 0===t?void 0:t.map((function(e){return Object(S.jsxs)(h.a,{children:[a&&(null===a||void 0===a?void 0:a.map((function(t){var c,n;return Object(S.jsx)(d.a,{align:"left",children:(n=e[null===t||void 0===t?void 0:t.id],new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(n)?null===(c=N()(e[null===t||void 0===t?void 0:t.id]))||void 0===c?void 0:c.format("D MMMM YYYY"):e[null===t||void 0===t?void 0:t.id]||"-")},null===t||void 0===t?void 0:t.id)}))),!D&&Object(S.jsx)(d.a,{align:"left",children:Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[Object(S.jsx)(E.a,{title:_?"Manage Inventory":"delete",children:Object(S.jsx)(x.a,{onClick:function(){return v(w?e.memberID:e._id)},children:_?Object(S.jsx)(P.a,{}):Object(S.jsx)(p.a,{})})}),!M&&Object(S.jsx)(E.a,{title:"edit",children:Object(S.jsx)(x.a,{onClick:function(){return s(w?e.memberID:e._id)},children:Object(S.jsx)(m.a,{})})})]})})]},e._id)}))}),B>0&&Object(S.jsx)(h.a,{style:{height:53},children:Object(S.jsx)(d.a,{colSpan:6})})]}),Object(S.jsx)(b.a,{children:Object(S.jsx)(h.a,{children:(null===c||void 0===c?void 0:c.length)>5&&Object(S.jsx)(u.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===c||void 0===c?void 0:c.length,rowsPerPage:V,page:z,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){I(t)},onChangeRowsPerPage:function(e){L(parseInt(e.target.value,10)),I(0)},ActionsComponent:g.a})})})]})})}}}]);
//# sourceMappingURL=122.348cafe7.chunk.js.map