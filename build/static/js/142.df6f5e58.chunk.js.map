{"version":3,"sources":["AdminComponents/academics/progressReports/ReportCard.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@material-ui/icons/Print.js"],"names":["ReportCard","useParams","id","year","term","useState","results","setresults","user","setuser","school","setschool","useEffect","axios","get","then","res","data","a","student","docs","console","log","getData","getTotal","exams","work","Number","getGrade","classwork","exam","num","getInterpretation","className","onClick","window","print","fullName","motto","name","middleName","surname","classID","scope","length","map","course","classWork","classWorkPercentage","examPercentage","position","_id","colSpan","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","default","React","_default","createElement","d"],"mappings":"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","file":"static/js/142.df6f5e58.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport PrintIcon from \"@material-ui/icons/Print\";\n\nfunction ReportCard() {\n  const { id, year, term } = useParams();\n  const [results, setresults] = useState([]);\n  const [user, setuser] = useState({});\n  const [school, setschool] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"/school\").then((res) => {\n      setschool(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    const getData = async () => {\n      let student = await axios.get(`/students/student/${id}`);\n      setuser(student.data.student);\n      await axios.get(`sba/student/${id}/${year}/${term}`).then((res) => {\n        setresults(res.data.docs);\n        console.log(res.data.docs);\n      });\n    };\n    getData();\n  }, [id, year, term]);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const getTotal = (exams, work) => {\n    if (!work && !exams) {\n      return \"-\";\n    }\n    return Number(exams || 0) + Number(work || 0);\n  };\n\n  const getGrade = (classwork, exam) => {\n    if (!classwork && !exam) {\n      return \"-\";\n    }\n    let num = getTotal(classwork, exam);\n    if (num >= 75 && num <= 100) {\n      return \"A1\";\n    } else if (num >= 70 && num <= 74) {\n      return \"B2\";\n    } else if (num >= 65 && num <= 69) {\n      return \"B3\";\n    } else if (num >= 60 && num <= 64) {\n      return \"C4\";\n    } else if (num >= 55 && num <= 59) {\n      return \"C5\";\n    } else if (num >= 50 && num <= 54) {\n      return \"C6\";\n    } else if (num >= 45 && num <= 49) {\n      return \"D7\";\n    } else if (num >= 40 && num <= 44) {\n      return \"E8\";\n    } else if (num >= 0 && num <= 39) {\n      return \"F9\";\n    } else {\n      return null;\n    }\n  };\n\n  const getInterpretation = (classwork, exam) => {\n    if (!classwork && !exam) {\n      return \"-\";\n    }\n    let num = getTotal(classwork, exam);\n    num = Number(num);\n    if (num > 75 && num <= 100) {\n      return \"Excellent\";\n    } else if (num >= 70 && num <= 74) {\n      return \"Vert good\";\n    } else if (num >= 65 && num <= 69) {\n      return \"Good\";\n    } else if (num >= 60 && num <= 64) {\n      return \"Credit\";\n    } else if (num >= 55 && num <= 59) {\n      return \"Credit\";\n    } else if (num >= 50 && num <= 54) {\n      return \"Credit\";\n    } else if (num >= 45 && num <= 49) {\n      return \"Pass\";\n    } else if (num >= 40 && num <= 44) {\n      return \"Pass\";\n    } else if (num >= 0 && num <= 39) {\n      return \"Failure\";\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-end mb-2\">\n        <button onClick={handlePrint} className=\"btn blue__btn\">\n          <PrintIcon />\n          Print\n        </button>\n      </div>\n      <div id=\"section-to-print\">\n        <div className=\"text-center\">\n          <h3>{school?.fullName}</h3>\n          <p>\n            <strong>{school?.motto}</strong>\n          </p>\n        </div>\n        <div className=\" mb-5\">\n          <div>\n            <h5>Report Card</h5>\n            <h6>\n              Name: {user?.name} {user?.middleName} {user?.surname} - {id}\n            </h6>\n            <h6>Class: {user?.classID}</h6>\n            <h6> Year: {year}</h6>\n            <h6>Term:{term}</h6>\n          </div>\n        </div>\n        <table className=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Courses</th>\n              <th scope=\"col\">Classwork</th>\n              <th scope=\"col\">Classwork Percentage</th>\n              <th scope=\"col\">Exam</th>\n              <th scope=\"col\">Exam Percentage</th>\n              <th scope=\"col\">Total %</th>\n              <th scope=\"col\">Grade</th>\n              <th scope=\"col\">Interpretation</th>\n              <th scope=\"col\">Position</th>\n            </tr>\n          </thead>\n          <tbody>\n            {results.length > 0 ? (\n              results.map((res) => (\n                <tr key={res?._id}>\n                  <td>{res?.course}</td>\n                  <td>{res.classWork || \"-\"}</td>\n                  <td>{res.classWorkPercentage || \"-\"}</td>\n                  <td>{res?.exam || \"-\"}</td>\n                  <td>{res?.examPercentage || \"-\"}</td>\n                  <td>\n                    {getTotal(res?.examPercentage, res.classWorkPercentage)}\n                  </td>\n                  <td>\n                    {getGrade(res?.examPercentage, res.classWorkPercentage)}\n                  </td>\n                  <td>\n                    {getInterpretation(\n                      res?.examPercentage,\n                      res.classWorkPercentage\n                    )}\n                  </td>\n                  <td>{res?.position || 0} </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan={10} className=\"text-center text-danger\">\n                  <h5>No data yet</h5>\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n\nexport default ReportCard;\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n}), 'Print');\n\nexports.default = _default;"],"sourceRoot":""}