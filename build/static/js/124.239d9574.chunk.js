(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[124],{1849:function(e,t,a){"use strict";a.r(t);var n=a(77),c=a(716),l=a(1),i=a(749),s=a(782),o=a(38),r=a(22),d=(a(718),a(76)),u=a(32),j=a(14),b=[{id:"classCode",name:"ID"},{id:"name",name:"Class"},{id:"campusID",name:"Campus"},{id:"group",name:"Group"},{id:"division",name:"Division"},{id:"prefect",name:"Prefect"},{id:"teacherID",name:"Class Teacher"},{id:"sba",name:"S.B.A Config"},{id:"sbaStaff",name:"SBA Staff"}];t.default=function(){var e=Object(l.useState)(""),t=Object(c.a)(e,2),a=t[0],v=t[1],h=Object(l.useState)(""),m=Object(c.a)(h,2),O=m[0],f=m[1],x=Object(l.useState)(""),p=Object(c.a)(x,2),g=p[0],C=p[1],S=Object(l.useState)([]),w=Object(c.a)(S,2),N=w[0],D=w[1],M=Object(l.useState)([]),P=Object(c.a)(M,2),_=P[0],I=P[1],y=Object(d.c)(u.k),k=Object(l.useState)(!1),z=Object(c.a)(k,2),L=z[0],A=z[1],E=Object(d.c)(u.b);Object(r.g)(),Object(d.b)(),Object(l.useEffect)((function(){A(!0),o.a.get("/classes/past").then((function(e){A(!1);var t=e.data.map((function(e){var t,a,c;return Object(n.a)(Object(n.a)({},e),{},{num:0,sba:e.sba?"set":"not set",teacherID:((null===(t=y.find((function(t){return t.userID===e.teacherID})))||void 0===t?void 0:t.name)||"-")+" "+((null===(a=y.find((function(t){return t.userID===e.teacherID})))||void 0===a?void 0:a.surname)||""),campusID:null===(c=E.find((function(t){return t._id===e.campusID})))||void 0===c?void 0:c.name})}));D(t),I(t)}))}),[y,E]);var H=[{type:"text",label:"Search Name",value:a,name:"name",onChange:v},{type:"text",label:"Search Campus",value:O,name:"campus",onChange:f},{type:"text",label:"Search Teacher",value:g,name:"teacher",onChange:C}];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Past Classes"}),Object(j.jsx)(s.a,{title:"Search classes ",inputFields:H,handleSearch:function(e){e.preventDefault();var t=[];a&&(t=_.filter((function(e){return(null===e||void 0===e?void 0:e.name.toLowerCase().includes(null===a||void 0===a?void 0:a.toLowerCase()))||(null===e||void 0===e?void 0:e.classCode.toLowerCase().includes(null===a||void 0===a?void 0:a.toLowerCase()))}))),O&&(t=t.filter((function(e){return null===e||void 0===e?void 0:e.campusID.toLowerCase().includes(null===O||void 0===O?void 0:O.toLowerCase())}))),g&&(t=t.filter((function(e){return null===e||void 0===e?void 0:e.teacherID.toLowerCase().includes(null===g||void 0===g?void 0:g.toLowerCase())}))),D(t)},handleReset:function(e){e.preventDefault(),v(""),f(""),C(""),D(_)}}),Object(j.jsxs)("div",{className:"content__container",children:[Object(j.jsx)("div",{className:"d-flex justify-content-between mb-2",children:Object(j.jsx)("h3",{children:"Past Classes"})}),Object(j.jsx)(i.a,{loading:L,data:N,tableHeader:b,noActions:!0})]})]})}},725:function(e,t,a){"use strict";var n=a(712),c=a(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(a(1)),i=(0,n(a(714)).default)(l.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=i},733:function(e,t,a){"use strict";a(1);var n=a(560),c=a(189),l=a(1808),i=a(730),s=a.n(i),o=a(732),r=a.n(o),d=a(731),u=a.n(d),j=a(729),b=a.n(j),v=a(14),h=Object(n.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));t.a=function(e){var t=h(),a=Object(c.a)(),n=e.count,i=e.page,o=e.rowsPerPage,d=e.onChangePage;return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(l.a,{onClick:function(e){d(e,0)},disabled:0===i,"aria-label":"first page",children:"rtl"===a.direction?Object(v.jsx)(b.a,{}):Object(v.jsx)(s.a,{})}),Object(v.jsx)(l.a,{onClick:function(e){d(e,i-1)},disabled:0===i,"aria-label":"previous page",children:"rtl"===a.direction?Object(v.jsx)(u.a,{}):Object(v.jsx)(r.a,{})}),Object(v.jsx)(l.a,{onClick:function(e){d(e,i+1)},disabled:i>=Math.ceil(n/o)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(v.jsx)(r.a,{}):Object(v.jsx)(u.a,{})}),Object(v.jsx)(l.a,{onClick:function(e){d(e,Math.max(0,Math.ceil(n/o)-1))},disabled:i>=Math.ceil(n/o)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(v.jsx)(s.a,{}):Object(v.jsx)(b.a,{})})]})}},734:function(e,t,a){"use strict";var n=a(712),c=a(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(a(1)),i=(0,n(a(714)).default)(l.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.default=i},739:function(e,t,a){"use strict";var n=a(712),c=a(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(a(1)),i=(0,n(a(714)).default)(l.createElement("path",{d:"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"}),"Toc");t.default=i},749:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(716),c=a(1),l=a.n(c),i=a(560),s=a(1064),o=a(1065),r=a(1060),d=a(1062),u=a(1063),j=a(792),b=a(1915),v=a(1061),h=a(942),m=a(1808),O=a(725),f=a.n(O),x=a(734),p=a.n(x),g=a(733),C=a(722),S=a.n(C),w=a(915),N=a(739),D=a.n(N),M=a(14),P=Object(i.a)({table:{width:"100%"}});function _(e){var t,a=e.data,c=e.tableHeader,i=e.handleEdit,O=e.handleDelete,x=e.loading,C=e.isCanteen,N=e.isEdit,_=e.isItems,I=e.noActions,y=e.noData,k=P(),z=l.a.useState(0),L=Object(n.a)(z,2),A=L[0],E=L[1],H=l.a.useState(5),V=Object(n.a)(H,2),R=V[0],F=V[1],T=R-Math.min(R,(null===a||void 0===a?void 0:a.length)-A*R);return Object(M.jsx)(u.a,{component:h.a,children:Object(M.jsxs)(s.a,{className:k.table,"aria-label":"custom pagination table",children:[Object(M.jsx)(r.a,{children:Object(M.jsxs)(v.a,{children:[c&&(null===c||void 0===c?void 0:c.map((function(e){return Object(M.jsx)(d.a,{children:e.name},e.id)}))),!I&&Object(M.jsx)(d.a,{children:"Actions"})]})}),x?Object(M.jsx)(o.a,{className:"text-center my-5 w-100",children:Object(M.jsx)(v.a,{children:Object(M.jsx)(d.a,{colSpan:c.lenght,children:Object(M.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})})}):Object(M.jsxs)(o.a,{children:[(null===a||void 0===a?void 0:a.length)<=0?Object(M.jsx)(v.a,{children:Object(M.jsx)(d.a,{colSpan:c.length+1,className:"text-center text-danger",children:y||"No data"})}):Object(M.jsx)(M.Fragment,{children:null===(t=R>0?null===a||void 0===a?void 0:a.slice(A*R,A*R+R):a)||void 0===t?void 0:t.map((function(e){return Object(M.jsxs)(v.a,{children:[c&&(null===c||void 0===c?void 0:c.map((function(t){var a,n;return Object(M.jsx)(d.a,{align:"left",children:(n=e[null===t||void 0===t?void 0:t.id],new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(n)?null===(a=S()(e[null===t||void 0===t?void 0:t.id]))||void 0===a?void 0:a.format("D MMMM YYYY"):e[null===t||void 0===t?void 0:t.id]||"-")},null===t||void 0===t?void 0:t.id)}))),!I&&Object(M.jsx)(d.a,{align:"left",children:Object(M.jsxs)("div",{className:"d-flex align-items-center",children:[Object(M.jsx)(w.a,{title:_?"Manage Inventory":"delete",children:Object(M.jsx)(m.a,{onClick:function(){return O(C?e.memberID:e._id)},children:_?Object(M.jsx)(D.a,{}):Object(M.jsx)(p.a,{})})}),!N&&Object(M.jsx)(w.a,{title:"edit",children:Object(M.jsx)(m.a,{onClick:function(){return i(C?e.memberID:e._id)},children:Object(M.jsx)(f.a,{})})})]})})]},e._id)}))}),T>0&&Object(M.jsx)(v.a,{style:{height:53},children:Object(M.jsx)(d.a,{colSpan:6})})]}),Object(M.jsx)(j.a,{children:Object(M.jsx)(v.a,{children:(null===a||void 0===a?void 0:a.length)>5&&Object(M.jsx)(b.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===a||void 0===a?void 0:a.length,rowsPerPage:R,page:A,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){E(t)},onChangeRowsPerPage:function(e){F(parseInt(e.target.value,10)),E(0)},ActionsComponent:g.a})})})]})})}},782:function(e,t,a){"use strict";a(1);var n=a(14);t.a=function(e){var t=e.inputFields,a=e.title,c=e.handleSearch,l=e.isReset,i=e.handleReset,s=e.noActions;return Object(n.jsxs)("form",{className:"mb-5 content__container",children:[Object(n.jsx)("h3",{className:"mb-3",children:a||""}),Object(n.jsxs)("div",{className:"row g-3 mb-3",children:[t&&t.map((function(e){return Object(n.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:[Object(n.jsx)("label",{htmlFor:"",children:e.label}),"select"===e.type?Object(n.jsxs)("select",{value:null===e||void 0===e?void 0:e.value,name:null===e||void 0===e?void 0:e.name,onChange:function(t){return null===e||void 0===e?void 0:e.onChange(t.target.value)},className:"form-select form-select-sm py-2",children:[Object(n.jsx)("option",{hidden:!0,defaultValue:!0,children:"Select"}),(null===e||void 0===e?void 0:e.options.length)>0?null===e||void 0===e?void 0:e.options.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.name},e.id)})):Object(n.jsx)("option",{disabled:!0,children:"No data "})]}):Object(n.jsx)("input",{type:e.type,value:e.value,name:null===e||void 0===e?void 0:e.name,className:"form-control py-3",placeholder:"Search by ".concat(e.name),onChange:function(t){return null===e||void 0===e?void 0:e.onChange(t.target.value)}})]},null===e||void 0===e?void 0:e.name)})),!s&&Object(n.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4 d-flex mt-5",children:[Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("button",{className:"btn orange__btn ",onClick:c,children:"Search"})}),!l&&Object(n.jsx)("div",{className:" mb-3 ml-3",children:Object(n.jsx)("button",{onClick:i,className:"btn blue__btn ",children:"Reset"})})]})]})]})}}}]);
//# sourceMappingURL=124.239d9574.chunk.js.map