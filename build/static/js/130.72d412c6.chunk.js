(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[130],{1103:function(e,t,s){"use strict";var a=s(712),c=s(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(s(1)),r=(0,a(s(714)).default)(n.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos");t.default=r},1219:function(e,t,s){"use strict";s(1);var a=s(1103),c=s.n(a),n=s(135),r=s(14);t.a=function(e){var t=e.link,s=e.name;return Object(r.jsx)("div",{className:"d-flex justify-content-end mb-5",children:Object(r.jsxs)(n.b,{to:t,className:"link",children:[s,Object(r.jsx)(c.a,{className:"icon"})]})})}},1407:function(e,t,s){"use strict";var a=s(770),c=s(716),n=s(1),r=s(745),l=s(38),i=s(76),d=s(32),o=s(958),u=s.n(o),j=s(1408),b=s.n(j),h=s(1807),m=s(14);t.a=function(e){var t=Object(n.useState)([]),s=Object(c.a)(t,2),o=s[0],j=s[1],f=Object(i.c)(d.e),O=Object(i.c)(d.c),v=e.type,p=e.teacher,x=e.setteacher,N=e.settype,g=e.name,y=e.setname,C=e.code,_=e.setcode,S=e.onSubmit,w=e.loading,A=e.isEdit,k=e.setclassesArr,M=e.classesArr;console.log(M),Object(n.useEffect)((function(){l.a.get("/teachers/teachers").then((function(e){j(e.data)}))}),[]);var z=Object(r.a)(),D=z.register,I=z.handleSubmit,q=z.errors;return Object(m.jsxs)("form",{action:"",onSubmit:I(S),children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"form-label",children:"Course Name"}),Object(m.jsx)("input",{type:"text",value:g,ref:D({required:!0}),onChange:function(e){return y(e.target.value)},className:"form-control",name:"name"}),q.name&&Object(m.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),!A&&Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"form-label",children:"Course Code"}),Object(m.jsx)("input",{type:"text",value:C,ref:D({required:!0}),onChange:function(e){return _(e.target.value)},className:"form-control",name:"code"}),q.code&&Object(m.jsx)("span",{className:"form-error text-danger mb-2",children:"This field is required"})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"form-label",children:"Departments"}),Object(m.jsxs)("select",{name:"type",value:v,onChange:function(e){return N(e.target.value)},id:"inputState",className:"form-select",children:[Object(m.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),f.length>0?f.map((function(e){return Object(m.jsx)("option",{value:e.code,children:e.name},e._id)})):Object(m.jsx)("option",{disabled:!0,children:"No departments yet"})]})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("div",{className:"d-flex justify-content-between mb-3",children:Object(m.jsx)("label",{className:"form-label",children:"Classes"})}),Object(m.jsx)("div",{className:"mb-3",children:M&&M.map((function(e){return Object(m.jsxs)("div",{className:" row",children:[Object(m.jsx)("div",{className:"col-sm-5 mb-3",children:Object(m.jsxs)("select",{name:"type",value:e.class,onChange:function(t){return s=t.target.value,a=e._id,void k(M.map((function(e){return e._id===a?{_id:a,class:s,teacher:e.teacher}:e})));var s,a},id:"inputState",className:"form-select",children:[Object(m.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),O.length>0?O.map((function(e){return Object(m.jsx)("option",{value:e.classCode,children:e.name},e._id)})):Object(m.jsx)("option",{disabled:!0,children:"No classes yet yet"})]})}),Object(m.jsx)("div",{className:"col-sm-5",children:Object(m.jsxs)("select",{name:"type",value:e.teacher,onChange:function(t){return s=t.target.value,a=e._id,void k(M.map((function(e){return e._id===a?{_id:a,class:e.class,teacher:s}:e})));var s,a},id:"inputState",className:"form-select",children:[Object(m.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),o.length>0?o.map((function(e){return Object(m.jsxs)("option",{value:e.userID,children:[e.name," ",""," ",e.surname]},e._id)})):Object(m.jsx)("option",{disabled:!0,children:"No teachers registered yet"})]})}),Object(m.jsx)("div",{className:"col-sm-2",children:Object(m.jsx)(h.a,{onClick:function(){return function(e){var t=M.filter((function(t){return t._id!==e}));console.log(t),k(t)}(e._id)},children:Object(m.jsx)(u.a,{})})})]},e._id)}))}),Object(m.jsx)("div",{className:"d-flex justify-content-start",children:Object(m.jsxs)("button",{type:"button",onClick:function(){var e=Math.random().toString(16).slice(2);k([].concat(Object(a.a)(M),[{class:"",teacher:"",_id:e}]))},className:"btn ",children:[Object(m.jsx)(b.a,{}),"Add Class"," "]})})]}),Object(m.jsxs)("div",{className:"mb-5",children:[Object(m.jsx)("label",{className:"form-label",children:"Head Teacher"}),Object(m.jsxs)("select",{name:"type",value:p,onChange:function(e){return x(e.target.value)},id:"inputState",className:"form-select",children:[Object(m.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),o.length>0?o.map((function(e){return Object(m.jsxs)("option",{value:null===e||void 0===e?void 0:e.userID,children:[e.name," ",e.surname]},null===e||void 0===e?void 0:e.userID)})):Object(m.jsx)("option",{disabled:!0,children:"No data"})]})]}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsxs)("button",{disabled:w,type:"submit",className:"btn blue__btn",children:[w&&Object(m.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),A?"Save Changes":"Add"]})})]})}},1408:function(e,t,s){"use strict";var a=s(712),c=s(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(s(1)),r=(0,a(s(714)).default)(n.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");t.default=r},1852:function(e,t,s){"use strict";s.r(t);var a=s(770),c=s(716),n=s(1),r=s(1407),l=s(1219),i=s(38),d=s(718),o=s(76),u=s(32),j=s(14);t.default=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),s=t[0],b=t[1],h=Object(n.useState)(""),m=Object(c.a)(h,2),f=m[0],O=m[1],v=Object(n.useState)(""),p=Object(c.a)(v,2),x=p[0],N=p[1],g=Object(n.useState)(""),y=Object(c.a)(g,2),C=y[0],_=y[1],S=Object(n.useState)(""),w=Object(c.a)(S,2),A=w[0],k=w[1],M=Object(n.useState)([{_id:"",teacher:"",class:""}]),z=Object(c.a)(M,2),D=z[0],I=z[1],q=Object(n.useState)(""),E=Object(c.a)(q,2),L=E[0],V=E[1],H=Object(o.b)(),P=Object(o.c)(u.d);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{link:"/academics/courses",name:"Go back to Courses List"}),Object(j.jsxs)("div",{className:"content__container",children:[Object(j.jsx)("h3",{children:"Add New Course"}),Object(j.jsx)(r.a,{onSubmit:function(){N(!0);var e=function(e){var t=[];return e.map((function(e){t.find((function(t){return t.class===e.class||t.teacher===e.teacher}))||t.push(e)})),t}(D.filter((function(e){return""!==e.class||""!==e.teacher})));i.a.post("/courses/create",{name:s,code:f,type:C,teacher:A,classID:L,classes:e}).then((function(e){if(e.data.error)return N(!1),Object(d.c)(e.data.error),0;H(Object(u.q)([e.data.doc].concat(Object(a.a)(P)))),N(!1),Object(d.m)("successfull added"),b(""),O(""),k(""),_(""),I([])})).catch((function(){N(!1),Object(d.c)("sorry something when wrong")}))},name:s,handleSetclasses:function(e){V(e);var t=D.push(e);I(t)},setname:b,code:f,teacher:A,setteacher:k,type:C,setclassesArr:I,classesArr:D,classID:L,settype:_,loadin:x,setcode:O})]})]})}},958:function(e,t,s){"use strict";var a=s(712),c=s(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(s(1)),r=(0,a(s(714)).default)(n.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");t.default=r}}]);
//# sourceMappingURL=130.72d412c6.chunk.js.map