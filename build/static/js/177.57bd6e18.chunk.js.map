{"version":3,"sources":["AdminComponents/attendance/StaffAttendance/StaffAttendanceHistory.js"],"names":["Attendance","useState","month","setmonth","attendanceData","setattendanceData","storeData","setstoreData","useEffect","axios","get","then","res","data","inputFields","type","label","value","name","onChange","handleSearch","e","preventDefault","newClasses","console","log","Date","toISOString","substring","filter","i","date","includes","handleReset","title","className","to","isStaff"],"mappings":"wMAsEeA,UAhEf,WACE,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4CF,mBAAS,IAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAAkCJ,mBAAS,IAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KAEAC,qBAAU,WACRC,IAAMC,IAAI,qBAAqBC,MAAK,SAACC,GACnCP,EAAkBO,EAAIC,MACtBN,EAAaK,EAAIC,WAElB,IAEH,IAqBMC,EAAc,CAClB,CACEC,KAAM,OACNC,MAAO,kBACPC,MAAOf,EACPgB,KAAM,QACNC,SAAUhB,IAId,OACE,gCACE,cAAC,IAAD,CACEiB,aAlCe,SAACC,GACpBA,EAAEC,iBACF,IAAIC,EAAa,GACbrB,IAEFsB,QAAQC,IAAI,IAAIC,KAAKxB,GAAOyB,cAAcC,UAAU,EAAG,KACvDL,EAAaA,EAAWM,QAAO,SAACC,GAAD,oBAC7BA,QAD6B,IAC7BA,GAD6B,UAC7BA,EAAGC,YAD0B,aAC7B,EACIH,UAAU,EAAG,IACdI,SAAS,IAAIN,KAAKxB,GAAOyB,cAAcC,UAAU,EAAG,SAG3DvB,EAAkBkB,IAuBdU,YApBc,SAACZ,GACnBA,EAAEC,iBACFnB,EAAS,IACTE,EAAkBC,IAkBd4B,MAAM,qBACNpB,YAAaA,IAEf,sBAAKqB,UAAU,qBAAf,UACE,sBAAKA,UAAU,sCAAf,UACE,mDACA,cAAC,IAAD,CAAMC,GAAG,6BAA6BD,UAAU,gBAAhD,oCAIF,cAAC,IAAD,CAAOE,SAAS,EAAMjC,eAAgBA","file":"static/js/177.57bd6e18.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Search from \"../../shared/Search\";\nimport Table from \"../../shared/AttendanceTable\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\n\nfunction Attendance() {\n  const [month, setmonth] = useState(\"\");\n  const [attendanceData, setattendanceData] = useState([]);\n  const [storeData, setstoreData] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"/attendance/staff\").then((res) => {\n      setattendanceData(res.data);\n      setstoreData(res.data);\n    });\n  }, []);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    let newClasses = [];\n    if (month) {\n      //let today = new Date()\n      console.log(new Date(month).toISOString().substring(0, 10));\n      newClasses = newClasses.filter((i) =>\n        i?.date\n          ?.substring(0, 10)\n          .includes(new Date(month).toISOString().substring(0, 10))\n      );\n    }\n    setattendanceData(newClasses);\n  };\n\n  const handleReset = (e) => {\n    e.preventDefault();\n    setmonth(\"\");\n    setattendanceData(storeData);\n  };\n\n  const inputFields = [\n    {\n      type: \"date\",\n      label: \"Search by Month\",\n      value: month,\n      name: \"month\",\n      onChange: setmonth,\n    },\n  ];\n\n  return (\n    <div>\n      <Search\n        handleSearch={handleSearch}\n        handleReset={handleReset}\n        title=\"Staff's Attendance\"\n        inputFields={inputFields}\n      />\n      <div className=\"content__container\">\n        <div className=\"d-flex justify-content-between mb-3\">\n          <h3>Attendance Record</h3>\n          <Link to=\"/attendance/staff/register\" className=\"btn blue__btn\">\n            Register Attendance\n          </Link>\n        </div>\n        <Table isStaff={true} attendanceData={attendanceData} />\n      </div>\n    </div>\n  );\n}\n\nexport default Attendance;\n"],"sourceRoot":""}