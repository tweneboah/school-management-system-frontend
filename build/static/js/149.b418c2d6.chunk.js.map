{"version":3,"sources":["../node_modules/@material-ui/icons/ArrowForwardIos.js","AdminComponents/shared/GoBack.js","AdminComponents/academics/calender/CalendarForm.js","AdminComponents/academics/calender/EditCalenderEvent.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","GoBack","link","name","className","to","CalendarForm","props","useForm","register","handleSubmit","errors","title","settitle","setdescription","description","starttime","setstarttime","startdate","setstartdate","allday","setallday","endtime","isEdit","onSubmit","loading","setendtime","type","settype","onChange","e","target","ref","required","event","rows","defaultValue","hidden","htmlFor","checked","disabled","EditEvent","useState","startday","setstartday","setloading","id","useParams","useEffect","axios","get","then","res","data","error","errorAlert","docs","allDay","separateDateandTime","start","day","time","console","log","moment","format","enddate","end","combineDateAndTime","put","resource","successAlert","catch","err"],"mappings":"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","file":"static/js/149.b418c2d6.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"\n}), 'ArrowForwardIos');\n\nexports.default = _default;","import React from \"react\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport { Link } from \"react-router-dom\";\n\nfunction GoBack({ link, name }) {\n  return (\n    <div className=\"d-flex justify-content-end mb-5\">\n      <Link to={link} className=\"link\">\n        {name}\n        <ArrowForwardIosIcon className=\"icon\" />\n      </Link>\n    </div>\n  );\n}\n\nexport default GoBack;\n","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nfunction CalendarForm(props) {\n  const { register, handleSubmit, errors } = useForm();\n\n  let {\n    title,\n    settitle,\n    setdescription,\n    description,\n    starttime,\n    setstarttime,\n    startdate,\n    setstartdate,\n    allday,\n    setallday,\n    endtime,\n    isEdit,\n    onSubmit,\n    loading,\n    setendtime,\n    type,\n    settype,\n  } = props;\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Event Title</label>\n        <input\n          value={title}\n          onChange={(e) => settitle(e.target.value)}\n          ref={register({ required: true })}\n          type=\"text\"\n          className=\"form-control\"\n          name=\"event\"\n        />\n        {errors.event && (\n          <span className=\" form-error text-danger mb-2\">\n            This field is required\n          </span>\n        )}\n      </div>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Event Description</label>\n        <textarea\n          value={description}\n          onChange={(e) => setdescription(e.target.value)}\n          type=\"text\"\n          rows={4}\n          className=\"form-control\"\n          name=\"description\"\n        />\n      </div>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Event Type</label>\n        <select\n          value={type}\n          onChange={(e) => settype(e.target.value)}\n          name=\"type\"\n          className=\"form-select\"\n        >\n          <option defaultValue hidden>\n            Choose...\n          </option>\n          <option>Holiday</option>\n          <option>Easter Break</option>\n          <option>Mid Term</option>\n          <option>Break</option>\n          <option>Trip</option>\n          <option>Sports</option>\n          <option>Competitons</option>\n          <option>Visiting Day</option>\n          <option>Mid Term Assessment</option>\n          <option>Independence Holiday</option>\n          <option>Revision Week</option>\n          <option>Other</option>\n        </select>\n      </div>\n      <div className=\"mb-3 \">\n        <label className=\"form-label\">Date</label>\n        <input\n          value={startdate}\n          ref={register({ required: true })}\n          onChange={(e) => setstartdate(e.target.value)}\n          type=\"date\"\n          className=\"form-control\"\n          name=\"startdate\"\n        />\n        {errors.starttime && (\n          <span className=\" form-error text-danger mb-2\">\n            This field is required\n          </span>\n        )}\n      </div>\n      <div className=\"mb-3\">\n        <div className=\"form-check form-switch \">\n          <label htmlFor=\"allday\" className=\"form-check-label mr-5\">\n            All Day\n          </label>\n          <input\n            value={allday}\n            checked={allday}\n            onChange={(e) => setallday(e.target.checked)}\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            name=\"allday\"\n          />\n        </div>\n      </div>\n      {!allday && (\n        <div className=\"row\">\n          <div className=\"mb-3 col-sm-6\">\n            <label className=\"form-label\">Start Time</label>\n            <input\n              value={starttime}\n              ref={register({ required: true })}\n              onChange={(e) => setstarttime(e.target.value)}\n              type=\"time\"\n              className=\"form-control\"\n              name=\"starttime\"\n            />\n            {errors.starttime && (\n              <span className=\" form-error text-danger mb-2\">\n                This field is required\n              </span>\n            )}\n          </div>\n          <div className=\"mb-3 col-sm-6\">\n            <label className=\"form-label\">End Time</label>\n            <input\n              value={endtime}\n              ref={register({ required: true })}\n              onChange={(e) => setendtime(e.target.value)}\n              type=\"time\"\n              className=\"form-control\"\n              name=\"endtime\"\n            />\n            {errors.endtime && (\n              <span className=\" form-error text-danger mb-2\">\n                This field is required\n              </span>\n            )}\n          </div>\n        </div>\n      )}\n      <div className=\"mb-3\">\n        <button disabled={loading} className=\"btn blue__btn\">\n          {loading && (\n            <span className=\"spinner-border spinner-border-sm\"></span>\n          )}\n          {isEdit ? \"Save Changes\" : \"Add\"}\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default CalendarForm;\n","import React, { useState, useEffect } from \"react\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport GoBack from \"../../shared/GoBack\";\nimport { combineDateAndTime, separateDateandTime } from \"../../../utils\";\nimport EditForm from \"./CalendarForm\";\nimport axios from \"../../../store/axios\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\n\nfunction EditEvent() {\n  const [title, settitle] = useState(\"\");\n  const [description, setdescription] = useState(\"\");\n  const [startday, setstartday] = useState(\"2021/2/2\");\n  const [starttime, setstarttime] = useState(\"00:00:00\");\n  const [allday, setallday] = useState(true);\n  const [endtime, setendtime] = useState(\"00:00:00\");\n  const [loading, setloading] = useState(false);\n  const [type, settype] = useState(\"\");\n  const { id } = useParams();\n\n  useEffect(() => {\n    axios.get(`/calendar/${id}`).then((res) => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      const { docs } = res.data;\n\n      settitle(docs.title);\n      setdescription(docs.description);\n      setallday(docs.allDay);\n      const { day, time } = separateDateandTime(docs.start);\n      console.log(day);\n      setstartday(moment(day).format(\"YYYY-MM-DD\"));\n      setstarttime(time);\n      const enddate = separateDateandTime(docs.end);\n      setendtime(enddate?.time);\n    });\n  }, [id]);\n\n  console.log(typeof startday);\n\n  const handleEditEvent = () => {\n    const start = combineDateAndTime(startday, starttime);\n    const end = combineDateAndTime(startday, endtime);\n    axios\n      .put(`/calendar/update/${id}`, {\n        title,\n        resource: type,\n        allDay: allday,\n        day: startday,\n        start,\n        end,\n        type,\n        description,\n      })\n      .then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          setloading(false);\n          return 0;\n        }\n        successAlert(\"successfully updated\");\n        setloading(false);\n      })\n      .catch((err) => {\n        errorAlert(\"sorry something when wrong\");\n        setloading(false);\n      });\n  };\n\n  return (\n    <>\n      <GoBack name=\"Go back to Events List\" link=\"/academics/calender\" />\n      <div className=\"content__container\">\n        <h3>Edit Event</h3>\n        <EditForm\n          title={title}\n          settitle={settitle}\n          setdescription={setdescription}\n          description={description}\n          starttime={starttime}\n          setstarttime={setstarttime}\n          startdate={startday}\n          setstartdate={setstartday}\n          allday={allday}\n          setallday={setallday}\n          endtime={endtime}\n          isEdit={true}\n          onSubmit={handleEditEvent}\n          loading={loading}\n          setendtime={setendtime}\n          type={type}\n          settype={settype}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default EditEvent;\n"],"sourceRoot":""}