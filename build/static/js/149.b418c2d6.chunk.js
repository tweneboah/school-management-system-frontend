(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[149],{1102:function(e,t,a){"use strict";var s=a(715),c=a(717);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(a(1)),n=(0,s(a(716)).default)(r.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos");t.default=n},1207:function(e,t,a){"use strict";a(1);var s=a(1102),c=a.n(s),r=a(136),n=a(14);t.a=function(e){var t=e.link,a=e.name;return Object(n.jsx)("div",{className:"d-flex justify-content-end mb-5",children:Object(n.jsxs)(r.b,{to:t,className:"link",children:[a,Object(n.jsx)(c.a,{className:"icon"})]})})}},1380:function(e,t,a){"use strict";a(1);var s=a(747),c=a(14);t.a=function(e){var t=Object(s.a)(),a=t.register,r=t.handleSubmit,n=t.errors,i=e.title,l=e.settitle,o=e.setdescription,d=e.description,j=e.starttime,b=e.setstarttime,m=e.startdate,u=e.setstartdate,O=e.allday,h=e.setallday,f=e.endtime,p=e.isEdit,x=e.onSubmit,v=e.loading,N=e.setendtime,y=e.type,g=e.settype;return Object(c.jsxs)("form",{onSubmit:r(x),children:[Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Event Title"}),Object(c.jsx)("input",{value:i,onChange:function(e){return l(e.target.value)},ref:a({required:!0}),type:"text",className:"form-control",name:"event"}),n.event&&Object(c.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Event Description"}),Object(c.jsx)("textarea",{value:d,onChange:function(e){return o(e.target.value)},type:"text",rows:4,className:"form-control",name:"description"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Event Type"}),Object(c.jsxs)("select",{value:y,onChange:function(e){return g(e.target.value)},name:"type",className:"form-select",children:[Object(c.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(c.jsx)("option",{children:"Holiday"}),Object(c.jsx)("option",{children:"Easter Break"}),Object(c.jsx)("option",{children:"Mid Term"}),Object(c.jsx)("option",{children:"Break"}),Object(c.jsx)("option",{children:"Trip"}),Object(c.jsx)("option",{children:"Sports"}),Object(c.jsx)("option",{children:"Competitons"}),Object(c.jsx)("option",{children:"Visiting Day"}),Object(c.jsx)("option",{children:"Mid Term Assessment"}),Object(c.jsx)("option",{children:"Independence Holiday"}),Object(c.jsx)("option",{children:"Revision Week"}),Object(c.jsx)("option",{children:"Other"})]})]}),Object(c.jsxs)("div",{className:"mb-3 ",children:[Object(c.jsx)("label",{className:"form-label",children:"Date"}),Object(c.jsx)("input",{value:m,ref:a({required:!0}),onChange:function(e){return u(e.target.value)},type:"date",className:"form-control",name:"startdate"}),n.starttime&&Object(c.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),Object(c.jsx)("div",{className:"mb-3",children:Object(c.jsxs)("div",{className:"form-check form-switch ",children:[Object(c.jsx)("label",{htmlFor:"allday",className:"form-check-label mr-5",children:"All Day"}),Object(c.jsx)("input",{value:O,checked:O,onChange:function(e){return h(e.target.checked)},className:"form-check-input",type:"checkbox",name:"allday"})]})}),!O&&Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"mb-3 col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Start Time"}),Object(c.jsx)("input",{value:j,ref:a({required:!0}),onChange:function(e){return b(e.target.value)},type:"time",className:"form-control",name:"starttime"}),n.starttime&&Object(c.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),Object(c.jsxs)("div",{className:"mb-3 col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"End Time"}),Object(c.jsx)("input",{value:f,ref:a({required:!0}),onChange:function(e){return N(e.target.value)},type:"time",className:"form-control",name:"endtime"}),n.endtime&&Object(c.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]})]}),Object(c.jsx)("div",{className:"mb-3",children:Object(c.jsxs)("button",{disabled:v,className:"btn blue__btn",children:[v&&Object(c.jsx)("span",{className:"spinner-border spinner-border-sm"}),p?"Save Changes":"Add"]})})]})}},1819:function(e,t,a){"use strict";a.r(t);var s=a(719),c=a(1),r=a(721),n=a(1207),i=a(1380),l=a(38),o=a(22),d=a(725),j=a.n(d),b=a(14);t.default=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],d=t[1],m=Object(c.useState)(""),u=Object(s.a)(m,2),O=u[0],h=u[1],f=Object(c.useState)("2021/2/2"),p=Object(s.a)(f,2),x=p[0],v=p[1],N=Object(c.useState)("00:00:00"),y=Object(s.a)(N,2),g=y[0],k=y[1],S=Object(c.useState)(!0),E=Object(s.a)(S,2),T=E[0],C=E[1],w=Object(c.useState)("00:00:00"),q=Object(s.a)(w,2),D=q[0],M=q[1],_=Object(c.useState)(!1),A=Object(s.a)(_,2),L=A[0],Y=A[1],F=Object(c.useState)(""),B=Object(s.a)(F,2),H=B[0],I=B[1],J=Object(o.i)().id;return Object(c.useEffect)((function(){l.a.get("/calendar/".concat(J)).then((function(e){if(e.data.error)return Object(r.c)(e.data.error),0;var t=e.data.docs;d(t.title),h(t.description),C(t.allDay);var a=Object(r.l)(t.start),s=a.day,c=a.time;console.log(s),v(j()(s).format("YYYY-MM-DD")),k(c);var n=Object(r.l)(t.end);M(null===n||void 0===n?void 0:n.time)}))}),[J]),console.log(typeof x),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(n.a,{name:"Go back to Events List",link:"/academics/calender"}),Object(b.jsxs)("div",{className:"content__container",children:[Object(b.jsx)("h3",{children:"Edit Event"}),Object(b.jsx)(i.a,{title:a,settitle:d,setdescription:h,description:O,starttime:g,setstarttime:k,startdate:x,setstartdate:v,allday:T,setallday:C,endtime:D,isEdit:!0,onSubmit:function(){var e=Object(r.a)(x,g),t=Object(r.a)(x,D);l.a.put("/calendar/update/".concat(J),{title:a,resource:H,allDay:T,day:x,start:e,end:t,type:H,description:O}).then((function(e){if(e.data.error)return Object(r.c)(e.data.error),Y(!1),0;Object(r.m)("successfully updated"),Y(!1)})).catch((function(e){Object(r.c)("sorry something when wrong"),Y(!1)}))},loading:L,setendtime:M,type:H,settype:I})]})]})}}}]);
//# sourceMappingURL=149.b418c2d6.chunk.js.map