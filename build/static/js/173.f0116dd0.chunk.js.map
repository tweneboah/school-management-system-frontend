{"version":3,"sources":["assets/icons/schoolLogo.svg","pages/login/Login.js","utils.js"],"names":["Login","history","useState","userId","setuserId","password","setpassword","loading","setloading","useForm","register","handleSubmit","errors","style","backgroundColor","className","md","name","value","ref","required","onChange","e","target","type","placeholder","autoComplete","xs","to","disabled","onClick","axios","post","userID","then","res","data","success","user","handleLogin","push","console","log","errorAlert","error","catch","err","color","role","aria-hidden","width","height","marginBottom","src","logo","alt","successAlert","text","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","getYearsList","length","min","Date","getFullYear","max","arr","index","yearArray","currentCurrency","getYearsPast","getEmailPattern","getID","Math","random","toString","substr","getTrimString","str","getCapitalize","string","charAt","toUpperCase","substring","getIntial","slice","getImgSrc","timeStamp","time","moment","format","subtract","combineDateAndTime","date","year","month","getMonth","day","getDate","separateDateandTime","d","getHours","getMinutes"],"mappings":"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","file":"static/js/173.f0116dd0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/schoolLogo.1dc28612.svg\";","import React, { useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow,\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport logo from '../../assets/icons/schoolLogo.svg';\nimport axios from './../../store/axios';\nimport { useForm } from 'react-hook-form';\nimport { errorAlert } from '../../utils';\nimport { Link } from 'react-router-dom';\nimport { handleLogin } from '../../store/apiCall';\n\nconst Login = ({ history }) => {\n  const [userId, setuserId] = useState('');\n  const [password, setpassword] = useState('');\n  const [loading, setloading] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n\n  const handleSignin = () => {\n    setloading(true);\n    axios\n      .post('/signin', { userID: userId, password })\n      .then(res => {\n        const { data } = res;\n        setloading(false);\n        if (data.success === true) {\n          const user = data?.user;\n          handleLogin(user);\n          history.push('/');\n        } else {\n          console.log(data);\n          errorAlert(data.error);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        setloading(false);\n        errorAlert('Connection  error try again later');\n      });\n  };\n\n  return (\n    <div\n      style={{ backgroundColor: '#023047' }}\n      className='c-app c-default-layout flex-row align-items-center'>\n      <CContainer>\n        <CRow className='justify-content-center'>\n          <CCol md='8'>\n            <CCardGroup>\n              <CCard className='p-4'>\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className='text-muted'>Sign In to your account</p>\n                    <CInputGroup className='mb-3'>\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name='cil-user' />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <input\n                        value={userId}\n                        className='form-control  col-6'\n                        name='userId'\n                        ref={register({ required: true })}\n                        onChange={e => setuserId(e.target.value)}\n                        type='text'\n                        required\n                        placeholder='ID'\n                        autoComplete='username'\n                      />\n                      <br />\n                    </CInputGroup>\n                    {errors.userId && (\n                      <span className=' form-error text-danger mb-2'>\n                        This field is required\n                      </span>\n                    )}\n                    <CInputGroup className='mb-4'>\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name='cil-lock-locked' />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <input\n                        type='password'\n                        className='form-control  col-6'\n                        placeholder='Password'\n                        name='password'\n                        ref={register({ required: true })}\n                        value={password}\n                        required\n                        onChange={e => setpassword(e.target.value)}\n                        autoComplete='current-password'\n                      />\n                      <br />\n                    </CInputGroup>\n                    {errors.password && (\n                      <span className='form-error text-danger mb-2'>\n                        This field is required\n                      </span>\n                    )}\n                    <CRow>\n                      <CCol xs='6' className='mb-3'>\n                        <Link to='/password/forget'>Forget password</Link>\n                      </CCol>\n                    </CRow>\n                    <CRow>\n                      <CCol xs='6'>\n                        <p></p>\n                        <CButton\n                          disabled={loading}\n                          onClick={handleSubmit(handleSignin)}\n                          type='submit'\n                          color='primary'\n                          className='px-4'>\n                          {loading ? (\n                            <>\n                              <span\n                                className='spinner-border spinner-border-sm'\n                                role='status'\n                                aria-hidden='true'></span>\n                              <span className='visually-hidden'>\n                                Loading...\n                              </span>\n                            </>\n                          ) : (\n                            <>Login</>\n                          )}\n                        </CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n              <CCard\n                className='text-white  py-5 d-md-down-none'\n                style={{ width: '44%', backgroundColor: '#023047' }}>\n                <CCardBody className='text-center'>\n                  <div>\n                    <h2>Welcome to iNovotek School Management System</h2>\n                    <img\n                      style={{ height: '200px', marginBottom: '10px' }}\n                      src={logo}\n                      alt='logo'\n                    />\n                    <p>\n                      This application has all the important features that will\n                      move your school to the next level\n                    </p>\n                  </div>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  );\n};\n\nexport default Login;\n","//import {API_BASE_URL} from './api'\nimport moment from \"moment\";\nimport { toast } from \"react-toastify\";\n\nexport const successAlert = (text) => {\n  return toast.success(text, {\n    position: \"top-right\",\n    autoClose: false,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n};\n\nexport const errorAlert = (text) => {\n  return toast.error(text, {\n    position: \"top-right\",\n    autoClose: false,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n};\n\nexport const getYearsList = (length) => {\n  const min = new Date().getFullYear();\n  const max = min + length;\n\n  const yearArray = () => {\n    let arr = [];\n    for (let index = min; index < max; index++) {\n      arr.push(index);\n    }\n    return arr;\n  };\n\n  return yearArray();\n};\n\nexport const currentCurrency = () => {\n  return \"GH¢\";\n};\n\nexport const getYearsPast = (length) => {\n  const max = new Date().getFullYear();\n  const min = max - length;\n\n  const yearArray = () => {\n    let arr = [];\n    for (let index = max; index > min; index--) {\n      arr.push(index);\n    }\n    return arr;\n  };\n\n  return yearArray();\n};\n\nexport const getEmailPattern = () =>\n  /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nexport const getID = function () {\n  return Math.random().toString(36).substr(2, 9);\n};\n\nexport const getTrimString = (str, length) => {\n  if (str.length > length) {\n    console.log(str, length);\n    return str.substr(0, length) + \"...\";\n  }\n  return str;\n};\n\nexport const getCapitalize = (string) => {\n  if (string) {\n    return string.charAt(0).toUpperCase() + string.substring(1);\n  } else return null;\n};\n\nexport const getLowerCase = (string) => {\n  if (string) {\n    return string.toLowerCase();\n  } else return null;\n};\n\nexport const getIntial = (name) => {\n  if (name) {\n    return name.slice(0, 1).toUpperCase();\n  }\n  return null;\n};\n\nexport const getImgSrc = (src) => {\n  return `http://localhost:5000/${src}`;\n};\n\nexport const timeStamp = (time) => {\n  if (moment().format(\"dddd\") === moment(time).format(\"dddd\")) {\n    return `Today ${moment(time)?.format(\"h:mm a\")}`;\n  } else if (\n    moment().subtract(1, \"days\").format(\"dddd\") === moment(time)?.format(\"dddd\")\n  ) {\n    return `Yesterday ${moment(time)?.format(\"h:mm a\")}`;\n  } else {\n    return moment(time)?.format(\"dddd,  h:mm a\");\n  }\n};\n\nexport const combineDateAndTime = function (date, time) {\n  console.log(time, \"tieme\");\n  // let d = new Date();\n  // time =   d.setTime(time);\n\n  date = new Date(date);\n  console.log(date, \"date\");\n\n  var year = date.getFullYear();\n  var month = date.getMonth() + 1; // Jan is 0, dec is 11\n  var day = date.getDate();\n  var dateString = \"\" + year + \"-\" + month + \"-\" + day;\n  var combined = new Date(dateString + \" \" + time);\n\n  return combined;\n};\n\nexport const separateDateandTime = (date) => {\n  const d = new Date(date);\n\n  var year = d.getFullYear();\n  var month = d.getMonth() + 1; // Jan is 0, dec is 11\n  var da = d.getDate();\n  var hours = d.getHours();\n  var minutes = d.getMinutes();\n  var day = \"\" + year + \"-\" + month + \"-\" + da;\n  var time = \"\" + hours + \": \" + minutes;\n\n  return { day, time };\n};\n\nexport const sortArray = (arr) => {\n  arr.sort(function (x, y) {\n    return x.updatedAt - y.updatedAt;\n  });\n};\n"],"sourceRoot":""}