(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[25],{1812:function(e,t,a){"use strict";a.r(t);var n=a(80),c=a(719),l=a(1),i=a(752),d=a(136),r=a(38),s=a(22),o=a(721),j=a(60),u=a(79),b=a(14),v=[{id:"resource",name:"Type"},{id:"title",name:"Event"},{id:"day",name:"Date"},{id:"start",name:"Starts"},{id:"end",name:"Ends"}];t.default=function(){var e=Object(l.useState)([]),t=Object(c.a)(e,2),a=t[0],h=t[1],O=Object(s.g)(),x=Object(l.useState)([]),f=Object(c.a)(x,2),m=f[0],p=f[1],g=Object(u.c)(j.d),_=Object(l.useState)(""),w=Object(c.a)(_,2),M=w[0],N=w[1];return Object(l.useEffect)((function(){r.a.get("/calendar").then((function(e){var t=e.data.map((function(e){var t,a;return Object(n.a)(Object(n.a)({},e),{},{start:(null===e||void 0===e?void 0:e.allDay)?"All day":null===e||void 0===e||null===(t=e.start)||void 0===t?void 0:t.replace(/^[^:]*([0-2]\d:[0-5]\d).*$/,"$1"),end:(null===e||void 0===e?void 0:e.allDay)?"-":null===e||void 0===e||null===(a=e.end)||void 0===a?void 0:a.replace(/^[^:]*([0-2]\d:[0-5]\d).*$/,"$1")})}));h(t),p(t)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"row mb-5",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),M){var t=m.filter((function(e){return e.title.toLowerCase().includes(M.toLowerCase())}));h(t)}else h(m)},className:"d-flex align-items-stretch",children:[Object(b.jsx)("input",{value:M,onChange:function(e){return N(e.target.value)},type:"text",className:"form-control",placeholder:"Search by name"}),Object(b.jsx)("button",{className:"btn blue__btn",children:"Search"})]})}),Object(b.jsxs)("div",{className:"col",children:["admin"===(null===g||void 0===g?void 0:g.role)&&Object(b.jsx)(d.b,{to:"/academics/calender/add",className:"btn btn__lg blue__btn",children:"Add New Event"}),Object(b.jsx)(d.b,{to:"/academics/calender/view",className:"btn btn__lg blue__btn ml-2",children:"View Calendar"})]})]}),Object(b.jsx)(i.a,{data:a,handleDelete:function(e){r.a.delete("/calendar/delete/".concat(e)).then((function(t){if(t.data.error)return Object(o.c)(t.data.error),0;h(a.filter((function(t){return t._id!==e})))}))},handleEdit:function(e){O.push("/academics/calender/edit/".concat(e))},noActions:"admin"!==(null===g||void 0===g?void 0:g.role),tableHeader:v})]})}},728:function(e,t,a){"use strict";var n=a(715),c=a(717);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(a(1)),i=(0,n(a(716)).default)(l.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=i},736:function(e,t,a){"use strict";a(1);var n=a(563),c=a(189),l=a(1780),i=a(733),d=a.n(i),r=a(735),s=a.n(r),o=a(734),j=a.n(o),u=a(732),b=a.n(u),v=a(14),h=Object(n.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));t.a=function(e){var t=h(),a=Object(c.a)(),n=e.count,i=e.page,r=e.rowsPerPage,o=e.onChangePage;return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(l.a,{onClick:function(e){o(e,0)},disabled:0===i,"aria-label":"first page",children:"rtl"===a.direction?Object(v.jsx)(b.a,{}):Object(v.jsx)(d.a,{})}),Object(v.jsx)(l.a,{onClick:function(e){o(e,i-1)},disabled:0===i,"aria-label":"previous page",children:"rtl"===a.direction?Object(v.jsx)(j.a,{}):Object(v.jsx)(s.a,{})}),Object(v.jsx)(l.a,{onClick:function(e){o(e,i+1)},disabled:i>=Math.ceil(n/r)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(v.jsx)(s.a,{}):Object(v.jsx)(j.a,{})}),Object(v.jsx)(l.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/r)-1))},disabled:i>=Math.ceil(n/r)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(v.jsx)(d.a,{}):Object(v.jsx)(b.a,{})})]})}},739:function(e,t,a){"use strict";var n=a(715),c=a(717);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(a(1)),i=(0,n(a(716)).default)(l.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.default=i},746:function(e,t,a){"use strict";var n=a(715),c=a(717);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(a(1)),i=(0,n(a(716)).default)(l.createElement("path",{d:"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"}),"Toc");t.default=i},752:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(719),c=a(1),l=a.n(c),i=a(563),d=a(1064),r=a(1065),s=a(1060),o=a(1062),j=a(1063),u=a(795),b=a(1887),v=a(1061),h=a(944),O=a(1780),x=a(728),f=a.n(x),m=a(739),p=a.n(m),g=a(736),_=a(725),w=a.n(_),M=a(918),N=a(746),C=a.n(N),P=a(14),S=Object(i.a)({table:{width:"100%"}});function y(e){var t,a=e.data,c=e.tableHeader,i=e.handleEdit,x=e.handleDelete,m=e.loading,_=e.isCanteen,N=e.isEdit,y=e.isItems,E=e.noActions,z=e.noData,D=S(),k=l.a.useState(0),H=Object(n.a)(k,2),A=H[0],V=H[1],I=l.a.useState(5),L=Object(n.a)(I,2),$=L[0],Y=L[1],T=$-Math.min($,(null===a||void 0===a?void 0:a.length)-A*$);return Object(P.jsx)(j.a,{component:h.a,children:Object(P.jsxs)(d.a,{className:D.table,"aria-label":"custom pagination table",children:[Object(P.jsx)(s.a,{children:Object(P.jsxs)(v.a,{children:[c&&(null===c||void 0===c?void 0:c.map((function(e){return Object(P.jsx)(o.a,{children:e.name},e.id)}))),!E&&Object(P.jsx)(o.a,{children:"Actions"})]})}),m?Object(P.jsx)(r.a,{className:"text-center my-5 w-100",children:Object(P.jsx)(v.a,{children:Object(P.jsx)(o.a,{colSpan:c.lenght,children:Object(P.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})})}):Object(P.jsxs)(r.a,{children:[(null===a||void 0===a?void 0:a.length)<=0?Object(P.jsx)(v.a,{children:Object(P.jsx)(o.a,{colSpan:c.length+1,className:"text-center text-danger",children:z||"No data"})}):Object(P.jsx)(P.Fragment,{children:null===(t=$>0?null===a||void 0===a?void 0:a.slice(A*$,A*$+$):a)||void 0===t?void 0:t.map((function(e){return Object(P.jsxs)(v.a,{children:[c&&(null===c||void 0===c?void 0:c.map((function(t){var a,n;return Object(P.jsx)(o.a,{align:"left",children:(n=e[null===t||void 0===t?void 0:t.id],new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(n)?null===(a=w()(e[null===t||void 0===t?void 0:t.id]))||void 0===a?void 0:a.format("D MMMM YYYY"):e[null===t||void 0===t?void 0:t.id]||"-")},null===t||void 0===t?void 0:t.id)}))),!E&&Object(P.jsx)(o.a,{align:"left",children:Object(P.jsxs)("div",{className:"d-flex align-items-center",children:[Object(P.jsx)(M.a,{title:y?"Manage Inventory":"delete",children:Object(P.jsx)(O.a,{onClick:function(){return x(_?e.memberID:e._id)},children:y?Object(P.jsx)(C.a,{}):Object(P.jsx)(p.a,{})})}),!N&&Object(P.jsx)(M.a,{title:"edit",children:Object(P.jsx)(O.a,{onClick:function(){return i(_?e.memberID:e._id)},children:Object(P.jsx)(f.a,{})})})]})})]},e._id)}))}),T>0&&Object(P.jsx)(v.a,{style:{height:53},children:Object(P.jsx)(o.a,{colSpan:6})})]}),Object(P.jsx)(u.a,{children:Object(P.jsx)(v.a,{children:(null===a||void 0===a?void 0:a.length)>5&&Object(P.jsx)(b.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===a||void 0===a?void 0:a.length,rowsPerPage:$,page:A,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){V(t)},onChangeRowsPerPage:function(e){Y(parseInt(e.target.value,10)),V(0)},ActionsComponent:g.a})})})]})})}}}]);
//# sourceMappingURL=25.787a0f46.chunk.js.map