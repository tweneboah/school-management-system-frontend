(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[45],{1220:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(716),l=n(1),i=n.n(l),c=n(560),o=n(953),r=n(954),s=n(949),d=n(951),u=n(952),v=n(786),j=n(1915),b=n(950),f=n(941),h=n(1807),m=n(731),p=n(1221),O=n.n(p),x=n(744),g=n.n(x),y=n(721),N=n.n(y),w=n(14),M=Object(c.a)({table:{width:"100%"}});function P(e){var t,n=e.data,l=e.tableHeader,c=e.handleEdit,p=e.handleDelete,x=e.loading,y=e.noData,P=(e.isEdit,M()),_=i.a.useState(0),S=Object(a.a)(_,2),C=S[0],D=S[1],k=i.a.useState(5),L=Object(a.a)(k,2),E=L[0],I=L[1],z=E-Math.min(E,(null===n||void 0===n?void 0:n.length)-C*E);return Object(w.jsx)(u.a,{component:f.a,children:Object(w.jsxs)(o.a,{className:P.table,"aria-label":"custom pagination table",children:[Object(w.jsx)(s.a,{children:Object(w.jsxs)(b.a,{children:[l&&(null===l||void 0===l?void 0:l.map((function(e){return Object(w.jsx)(d.a,{children:e.name},e.id)}))),Object(w.jsx)(d.a,{children:"Actions"})]})}),x?Object(w.jsx)(r.a,{className:"text-center my-5 w-100",children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)(d.a,{children:Object(w.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(w.jsx)(d.a,{children:Object(w.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(w.jsx)(d.a,{children:Object(w.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(w.jsx)(d.a,{children:Object(w.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})]})}):Object(w.jsxs)(r.a,{children:[(null===n||void 0===n?void 0:n.length)<=0?Object(w.jsxs)(b.a,{className:"text-center my-5",children:[Object(w.jsx)(d.a,{className:"text-center text-danger",colSpan:l.length+1,children:y||"No Data"})," "]}):Object(w.jsx)(w.Fragment,{children:null===(t=E>0?null===n||void 0===n?void 0:n.slice(C*E,C*E+E):n)||void 0===t?void 0:t.map((function(e){return Object(w.jsxs)(b.a,{children:[l&&(null===l||void 0===l?void 0:l.map((function(t){var n,a;return Object(w.jsx)(d.a,{align:"left",children:(a=e[null===t||void 0===t?void 0:t.id],new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(a)?null===(n=N()(e[null===t||void 0===t?void 0:t.id]))||void 0===n?void 0:n.format("D MMMM YYYY"):e[null===t||void 0===t?void 0:t.id]||"-")},null===t||void 0===t?void 0:t.id)}))),Object(w.jsx)(d.a,{align:"left",children:Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(h.a,{onClick:function(){return c(e._id)},children:Object(w.jsx)(O.a,{})}),Object(w.jsx)(h.a,{onClick:function(){return p(e._id)},children:Object(w.jsx)(g.a,{})})]})})]},e._id)}))}),z>0&&Object(w.jsx)(b.a,{style:{height:53*z},children:Object(w.jsx)(d.a,{colSpan:6})})]}),Object(w.jsx)(v.a,{children:Object(w.jsx)(b.a,{children:(null===n||void 0===n?void 0:n.length)>5&&Object(w.jsx)(j.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===n||void 0===n?void 0:n.length,rowsPerPage:E,page:C,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){D(t)},onChangeRowsPerPage:function(e){I(parseInt(e.target.value,10)),D(0)},ActionsComponent:m.a})})})]})})}},1221:function(e,t,n){"use strict";var a=n(712),l=n(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(1)),c=(0,a(n(714)).default)(i.createElement("path",{d:"M11 17h2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1h-3v-1h4V8h-2V7h-2v1h-1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3v1H9v2h2v1zm9-13H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4V6h16v12z"}),"LocalAtm");t.default=c},1874:function(e,t,n){"use strict";n.r(t);var a=n(733),l=n.n(a),i=n(734),c=n(77),o=n(716),r=n(1),s=n(1220),d=n(773),u=n(76),v=n(32),j=n(38),b=n(135),f=n(718),h=n(22),m=n(14),p=[{id:"date",name:"Date"},{id:"userID",name:"Staff ID"},{id:"name",name:"Name"},{id:"bank",name:"Bank"},{id:"accountNumber",name:"Account Number"},{id:"amount",name:"Total Salary (".concat(Object(f.b)(),")")}];t.default=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],O=Object(r.useState)([]),x=Object(o.a)(O,2),g=x[0],y=x[1],N=Object(r.useState)(""),w=Object(o.a)(N,2),M=w[0],P=w[1],_=Object(u.c)(v.k),S=Object(h.g)();Object(r.useEffect)((function(){j.a.get("/transactions/staff/pay").then((function(e){var t;console.log(e.data);var n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((function(e){var t,n;return Object(c.a)(Object(c.a)({},e),{},{name:(null===(t=_.find((function(t){return(null===t||void 0===t?void 0:t.userID)===(null===e||void 0===e?void 0:e.userID)})))||void 0===t?void 0:t.name)+" "+(null===(n=_.find((function(t){return(null===t||void 0===t?void 0:t.userID)===(null===e||void 0===e?void 0:e.userID)})))||void 0===n?void 0:n.surname)})}));a(n),y(n)}))}),[_]);var C=[{label:"Search by Staff Member",type:"select",value:M,onChange:P,options:_&&_.map((function(e){return{id:null===e||void 0===e?void 0:e.userID,name:(null===e||void 0===e?void 0:e.name)+" "+(null===e||void 0===e?void 0:e.surname)+" -"+(null===e||void 0===e?void 0:e.userID)}}))}];return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"float-right mb-5",children:Object(m.jsx)(b.b,{className:"btn blue__btn",to:"/finance/staff/payrow/pay",children:"Staff Salary Payment"})}),Object(m.jsx)("h3",{className:" mb-5",children:"Staff Salary Transactions"}),Object(m.jsx)(d.a,{title:"Filter Staff",handleSearch:function(e){e.preventDefault();var t=[];M&&(t=g.filter((function(e){var t;return null===e||void 0===e||null===(t=e.userID)||void 0===t?void 0:t.toLowerCase().includes(null===M||void 0===M?void 0:M.toLowerCase())}))),a(t)},handleReset:function(e){e.preventDefault(),a(g),P("")},inputFields:C}),Object(m.jsx)(s.a,{data:n,handleEdit:function(e){j.a.get("/transactions/".concat(e)).then(function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.push("/finance/staff/payrow/payslip/".concat(null===(n=t.data)||void 0===n||null===(a=n.pay)||void 0===a?void 0:a.userID));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleDelete:function(e){j.a.delete("/transactions/delete/".concat(e)).then((function(t){var l,i;(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.error)&&Object(f.c)(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.error);a(null===n||void 0===n?void 0:n.filter((function(t){return(null===t||void 0===t?void 0:t._id)!==e})))}))},noData:"No salary payments yet",tableHeader:p})]})}},727:function(e,t,n){"use strict";var a=n(712),l=n(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(1)),c=(0,a(n(714)).default)(i.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");t.default=c},728:function(e,t,n){"use strict";var a=n(712),l=n(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(1)),c=(0,a(n(714)).default)(i.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");t.default=c},729:function(e,t,n){"use strict";var a=n(712),l=n(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(1)),c=(0,a(n(714)).default)(i.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");t.default=c},730:function(e,t,n){"use strict";var a=n(712),l=n(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(1)),c=(0,a(n(714)).default)(i.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");t.default=c},731:function(e,t,n){"use strict";n(1);var a=n(560),l=n(189),i=n(1807),c=n(728),o=n.n(c),r=n(730),s=n.n(r),d=n(729),u=n.n(d),v=n(727),j=n.n(v),b=n(14),f=Object(a.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));t.a=function(e){var t=f(),n=Object(l.a)(),a=e.count,c=e.page,r=e.rowsPerPage,d=e.onChangePage;return Object(b.jsxs)("div",{className:t.root,children:[Object(b.jsx)(i.a,{onClick:function(e){d(e,0)},disabled:0===c,"aria-label":"first page",children:"rtl"===n.direction?Object(b.jsx)(j.a,{}):Object(b.jsx)(o.a,{})}),Object(b.jsx)(i.a,{onClick:function(e){d(e,c-1)},disabled:0===c,"aria-label":"previous page",children:"rtl"===n.direction?Object(b.jsx)(u.a,{}):Object(b.jsx)(s.a,{})}),Object(b.jsx)(i.a,{onClick:function(e){d(e,c+1)},disabled:c>=Math.ceil(a/r)-1,"aria-label":"next page",children:"rtl"===n.direction?Object(b.jsx)(s.a,{}):Object(b.jsx)(u.a,{})}),Object(b.jsx)(i.a,{onClick:function(e){d(e,Math.max(0,Math.ceil(a/r)-1))},disabled:c>=Math.ceil(a/r)-1,"aria-label":"last page",children:"rtl"===n.direction?Object(b.jsx)(o.a,{}):Object(b.jsx)(j.a,{})})]})}},733:function(e,t,n){e.exports=n(419)},734:function(e,t,n){"use strict";function a(e,t,n,a,l,i,c){try{var o=e[i](c),r=o.value}catch(s){return void n(s)}o.done?t(r):Promise.resolve(r).then(a,l)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(l,i){var c=e.apply(t,n);function o(e){a(c,l,i,o,r,"next",e)}function r(e){a(c,l,i,o,r,"throw",e)}o(void 0)}))}}n.d(t,"a",(function(){return l}))},744:function(e,t,n){"use strict";var a=n(712),l=n(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(1)),c=(0,a(n(714)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=c},773:function(e,t,n){"use strict";n(1);var a=n(14);t.a=function(e){var t=e.inputFields,n=e.title,l=e.handleSearch,i=e.isReset,c=e.handleReset,o=e.noActions;return Object(a.jsxs)("form",{className:"mb-5 content__container",children:[Object(a.jsx)("h3",{className:"mb-3",children:n||""}),Object(a.jsxs)("div",{className:"row g-3 mb-3",children:[t&&t.map((function(e){return Object(a.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:[Object(a.jsx)("label",{htmlFor:"",children:e.label}),"select"===e.type?Object(a.jsxs)("select",{value:null===e||void 0===e?void 0:e.value,name:null===e||void 0===e?void 0:e.name,onChange:function(t){return null===e||void 0===e?void 0:e.onChange(t.target.value)},className:"form-select form-select-sm py-2",children:[Object(a.jsx)("option",{hidden:!0,defaultValue:!0,children:"Select"}),(null===e||void 0===e?void 0:e.options.length)>0?null===e||void 0===e?void 0:e.options.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)})):Object(a.jsx)("option",{disabled:!0,children:"No data "})]}):Object(a.jsx)("input",{type:e.type,value:e.value,name:null===e||void 0===e?void 0:e.name,className:"form-control py-3",placeholder:"Search by ".concat(e.name),onChange:function(t){return null===e||void 0===e?void 0:e.onChange(t.target.value)}})]},null===e||void 0===e?void 0:e.name)})),!o&&Object(a.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4 d-flex mt-5",children:[Object(a.jsx)("div",{className:"mb-3",children:Object(a.jsx)("button",{className:"btn orange__btn ",onClick:l,children:"Search"})}),!i&&Object(a.jsx)("div",{className:" mb-3 ml-3",children:Object(a.jsx)("button",{onClick:c,className:"btn blue__btn ",children:"Reset"})})]})]})]})}},786:function(e,t,n){"use strict";var a=n(2),l=n(19),i=n(1),c=(n(36),n(37)),o=n(101),r=n(726),s={variant:"footer"},d="tfoot",u=i.forwardRef((function(e,t){var n=e.classes,o=e.className,u=e.component,v=void 0===u?d:u,j=Object(l.a)(e,["classes","className","component"]);return i.createElement(r.a.Provider,{value:s},i.createElement(v,Object(a.a)({className:Object(c.a)(n.root,o),ref:t,role:v===d?null:"rowgroup"},j)))}));t.a=Object(o.a)({root:{display:"table-footer-group"}},{name:"MuiTableFooter"})(u)}}]);
//# sourceMappingURL=45.a697a613.chunk.js.map