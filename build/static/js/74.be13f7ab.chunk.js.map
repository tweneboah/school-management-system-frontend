{"version":3,"sources":["components/class/AttendancePastRecords.js"],"names":["Attendance","useState","date","setDate","attendanceData","setattendanceData","storedata","setstoredata","id","useParams","handleSearch","e","console","log","searchData","filter","i","Date","createdAt","toISOString","slice","useEffect","axios","get","then","res","data","classData","classID","inputFields","type","label","value","name","onChange","className","to","title","isReset","noActions","isStaff"],"mappings":"+MA2EeA,UApEf,WAAuB,IAAD,EACIC,mBAAS,IADb,mBACbC,EADa,KACPC,EADO,OAEwBF,mBAAS,IAFjC,mBAEbG,EAFa,KAEGC,EAFH,OAGcJ,mBAAS,IAHvB,mBAGbK,EAHa,KAGFC,EAHE,KAIZC,EAAOC,cAAPD,GAEFE,EAAe,SAACC,GACpBR,EAAQQ,GACRC,QAAQC,IAAIF,GACZC,QAAQC,IAAIP,GACZ,IAAIQ,EAAaR,EAAUS,QACzB,SAACC,GAAD,OAAO,IAAIC,KAAKD,EAAEE,WAAWC,cAAcC,MAAM,EAAG,MAAQT,KAE9DC,QAAQC,IAAIC,GACZT,EAAkBS,IAGpBO,qBAAU,WACRC,IAAMC,IAAI,wBAAwBC,MAAK,SAACC,GACtCb,QAAQC,IAAIY,EAAIC,MAChB,IAAIC,EAAYF,EAAIC,KAAKX,QAAO,SAACJ,GAAD,OAAOA,EAAEiB,UAAYpB,KACrDI,QAAQC,IAAIc,GACZpB,EAAaoB,GACbtB,EAAkBsB,QAEnB,CAACnB,IAEJ,IAAMqB,EAAc,CAClB,CACEC,KAAM,OACNC,MAAO,iBACPC,MAAO9B,EACP+B,KAAM,OACNC,SAAUxB,IAId,OACE,gCACE,sBAAKyB,UAAU,4CAAf,UACE,8BACE,cAAC,IAAD,CAAMC,GAAG,qBAAqBD,UAAU,oBAAxC,6BAIF,8BACE,cAAC,IAAD,CACEC,GAAE,+CAA0C5B,GAC5C2B,UAAU,oBAFZ,8CAQJ,qBAAKA,UAAU,QAAf,SACE,cAAC,IAAD,CACEzB,aAAcA,EACd2B,MAAK,mCAA8B7B,GACnC8B,SAAS,EACTC,WAAW,EACXV,YAAaA,MAGjB,cAAC,IAAD,CAAOW,SAAS,EAAMpC,eAAgBA","file":"static/js/74.be13f7ab.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Search from \"../../AdminComponents/shared/Search\";\nimport Table from \"../../AdminComponents/shared/AttendanceTable\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../../store/axios\";\nimport { useParams } from \"react-router-dom\";\n\nfunction Attendance() {\n  const [date, setDate] = useState(\"\");\n  const [attendanceData, setattendanceData] = useState([]);\n  const [storedata, setstoredata] = useState([]);\n  const { id } = useParams();\n\n  const handleSearch = (e) => {\n    setDate(e);\n    console.log(e);\n    console.log(storedata);\n    let searchData = storedata.filter(\n      (i) => new Date(i.createdAt).toISOString().slice(0, 10) === e\n    );\n    console.log(searchData);\n    setattendanceData(searchData);\n  };\n\n  useEffect(() => {\n    axios.get(\"/attendance/students\").then((res) => {\n      console.log(res.data);\n      let classData = res.data.filter((e) => e.classID === id);\n      console.log(classData);\n      setstoredata(classData);\n      setattendanceData(classData);\n    });\n  }, [id]);\n\n  const inputFields = [\n    {\n      type: \"date\",\n      label: \"Search by Date\",\n      value: date,\n      name: \"date\",\n      onChange: handleSearch,\n    },\n  ];\n\n  return (\n    <div>\n      <div className=\"d-flex justify-content-around float-right\">\n        <div>\n          <Link to=\"/academics/classes\" className=\"btn blue__btn m-2\">\n            Class Details\n          </Link>\n        </div>\n        <div>\n          <Link\n            to={`/academics/classes/attendance/record/${id}`}\n            className=\"btn blue__btn m-2\"\n          >\n            Register Today's Attendance\n          </Link>\n        </div>\n      </div>\n      <div className=\" mb-4\">\n        <Search\n          handleSearch={handleSearch}\n          title={`Student's Attendance for ${id}`}\n          isReset={true}\n          noActions={true}\n          inputFields={inputFields}\n        />\n      </div>\n      <Table isStaff={true} attendanceData={attendanceData} />\n    </div>\n  );\n}\n\nexport default Attendance;\n"],"sourceRoot":""}