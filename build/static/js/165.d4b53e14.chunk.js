(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[165],{1196:function(e,t,s){"use strict";var c=s(716),a=s(1),n=s(748),l=s(38),o=s(14);t.a=function(e){var t=Object(n.a)(),s=t.register,r=t.handleSubmit,i=t.errors,d=Object(a.useState)([]),j=Object(c.a)(d,2),b=j[0],u=j[1],h=Object(a.useState)([]),f=Object(c.a)(h,2),m=f[0],O=f[1];Object(a.useEffect)((function(){l.a.get("/classes").then((function(e){console.log(e.data),u(e.data)}))}),[]),Object(a.useEffect)((function(){l.a.get("/courses").then((function(e){console.log(e.data),O(e.data)}))}),[]);var p=e.classID,v=e.setclass,x=e.subject,g=e.setsubject,N=e.topic,C=e.settopic,S=e.loading,w=e.handleAdd,y=e.handleReset,D=e.isEdit,I=e.role,_=e.setfile,E=e.notes,k=e.setnotes;return Object(o.jsxs)("form",{className:"row g-3",action:"",children:["admin"===I&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("label",{className:"form-label",children:"Select Class"}),Object(o.jsxs)("select",{value:p,onChange:function(e){return v(e.target.value)},name:"class",className:"form-select",children:[Object(o.jsx)("option",{selected:!0,hidden:!0,children:"Choose..."}),b.length>0?b.map((function(e){return Object(o.jsx)("option",{value:e.classCode,children:e.name},e.classCode)})):Object(o.jsx)("option",{disabled:!0,children:"No classes available yet"})]})]}),Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("label",{className:"form-label",children:"Select Subject"}),Object(o.jsxs)("select",{value:x,onChange:function(e){return g(e.target.value)},name:"class",className:"form-select",children:[Object(o.jsx)("option",{selected:!0,hidden:!0,children:"Choose..."}),m.length>0?m.map((function(e){return Object(o.jsx)("option",{value:e.code,children:e.name},e.code)})):Object(o.jsx)("option",{disabled:!0,children:"No courses available yet"})]})]})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("label",{className:"form-label",children:"Topic"}),Object(o.jsx)("input",{value:N,ref:s({required:!0}),onChange:function(e){return C(e.target.value)},type:"text",className:"form-control",name:"topic"}),i.topic&&Object(o.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("label",{className:"form-label",children:"Notes"}),Object(o.jsx)("textarea",{value:E,onChange:function(e){return k(e.target.value)},rows:5,className:"form-control",id:"topic"})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("label",{className:"form-label",children:"Upload file"}),Object(o.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.doc,.docx,.pdf, .zip",ref:s({required:!0}),onChange:function(e){return _(e)},className:"form-control",name:"file"}),i.file&&Object(o.jsx)("span",{className:" form-error text-danger mb-2",children:"Please select file"})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsxs)("button",{onClick:r(w),className:"btn blue__btn mr-3",children:[S&&Object(o.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),D?"Save Changes":"Add"]}),Object(o.jsx)("button",{onClick:r(y),className:"btn orange__btn",children:"Reset"})]})]})}},1856:function(e,t,s){"use strict";s.r(t);var c=s(716),a=s(1),n=s(1196),l=s(38),o=s(22),r=s(718),i=s(14);t.default=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),s=t[0],d=t[1],j=Object(a.useState)(""),b=Object(c.a)(j,2),u=b[0],h=b[1],f=Object(a.useState)(""),m=Object(c.a)(f,2),O=m[0],p=m[1],v=Object(a.useState)(""),x=Object(c.a)(v,2),g=x[0],N=x[1],C=Object(a.useState)(""),S=Object(c.a)(C,2),w=S[0],y=S[1],D=Object(a.useState)(!1),I=Object(c.a)(D,2),_=I[0],E=I[1],k=Object(o.i)().id,A=function(){d(""),h(""),p(""),N(""),y("")};return Object(a.useEffect)((function(){l.a.get("/notes/".concat(k)).then((function(e){var t=e.data.doc;d(null===t||void 0===t?void 0:t.classID),h(null===t||void 0===t?void 0:t.courseID),p(null===t||void 0===t?void 0:t.topic),y(null===t||void 0===t?void 0:t.file),N(null===t||void 0===t?void 0:t.notes)}))}),[k]),Object(i.jsxs)("div",{className:"content__container mb-5",children:[Object(i.jsx)("h3",{children:"Add New Notes"}),Object(i.jsx)(n.a,{classID:s,setclass:d,subject:u,setsubject:h,topic:O,settopic:p,file:w,handleAdd:function(){E(!0);var e=new FormData;e.append("photo",w),l.a.post("/upload",e,{}).then((function(e){var t=e.data.path;console.log(t),l.a.put("/notes/update/".concat(k),{topic:O,classID:s,courseID:u,notes:g,file:t}).then((function(t){if(console.log(t.data),t.data.error)return Object(r.c)(e.data.error),E(!1),0;Object(r.m)("notes successfully added"),E(!1),A()}))})).catch((function(e){E(!1),Object(r.c)("sorry something went error, try again later")}))},handleReset:A,loading:_,isEdit:!0,setfile:y,notes:g,setnotes:N})]})}}}]);
//# sourceMappingURL=165.d4b53e14.chunk.js.map