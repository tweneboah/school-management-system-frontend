{"version":3,"sources":["TeachersComponents/message/MessageAdmin.js","components/messages/SendToForm.js"],"names":["MessageAdmin","useState","message","setmessage","recipient","setrecipient","recipientOptions","id","name","user","useSelector","selectUser","loading","setloading","onSend","e","preventDefault","axios","post","userID","sender","then","res","data","error","errorAlert","successAlert","recipientsOptions","sendto","searchOptions","map","option","value","SendToForm","action","className","htmlFor","onChange","target","defaultChecked","hidden","disabled","type","readOnly","rows","required","placeholder","onClick","role","aria-hidden"],"mappings":"6MA+DeA,UAxDf,WAAyB,IAAD,EACQC,mBAAS,IADjB,mBACfC,EADe,KACNC,EADM,OAEYF,mBAAS,IAFrB,mBAEfG,EAFe,KAEJC,EAFI,KAGhBC,EAAmB,CAAC,CAAEC,GAAI,QAASC,KAAM,UACzCC,EAAOC,YAAYC,KAJH,EAKQV,mBAAS,IALjB,mBAKfW,EALe,KAKNC,EALM,KAsCtB,OACE,8BACE,cAAC,IAAD,CACEX,QAASA,EACTC,WAAYA,EACZW,OApCS,SAACC,GACdA,EAAEC,iBACEd,GAAWE,IACbS,GAAW,GACXI,IACGC,KADH,cACuB,CACnBhB,UACAiB,OAAQf,EACRgB,OAAM,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAMU,SAEfE,MAAK,SAACC,GAEL,GADAT,GAAW,GACPS,EAAIC,KAAKC,MAEX,OADAC,YAAWH,EAAIC,KAAKC,OACb,EAETE,YAAa,gBACbvB,EAAW,SAoBbwB,kBAAmBrB,EACnBF,UAAWA,EACXwB,OAAO,eACPhB,QAASA,EACTiB,cAnBgB,WACpB,OAAOvB,EAAiBwB,KAAI,SAACC,GAAD,OAC1B,yBAAwBC,MAAOD,EAAOxB,GAAtC,UACG,IACAwB,EAAOvB,KAAM,MAFHuB,EAAOxB,QAkBlBF,aAAcA,EACde,OAAM,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAMF,S,iCCzDtB,iBAoFe0B,IAlFf,YAWI,IAVF/B,EAUC,EAVDA,QACAC,EASC,EATDA,WACAW,EAQC,EARDA,OACAV,EAOC,EAPDA,UACAC,EAMC,EANDA,aACAe,EAKC,EALDA,OACAQ,EAIC,EAJDA,OACAC,EAGC,EAHDA,cACAjB,EAEC,EAFDA,QACAY,EACC,EADDA,MAEA,OACE,uBAAMU,OAAO,GAAGC,UAAU,mCAA1B,UACE,qBAAKA,UAAU,SAAf,SACE,kDAAqBP,OAEvB,sBAAKO,UAAU,gBAAf,UACE,uBAAOA,UAAU,WAAWC,QAAQ,GAApC,wBAGA,qBAAKD,UAAU,YAAf,SACE,yBACEH,MAAO5B,EACPiC,SAAU,SAACtB,GAAD,OAAOV,EAAaU,EAAEuB,OAAON,QACvCzB,GAAG,aACH4B,UAAU,cAJZ,UAME,wBAAQI,gBAAc,EAACC,QAAM,EAA7B,uBAGCX,EACCA,IAEA,wBAAQY,UAAQ,EAAhB,gCAMR,sBAAKN,UAAU,gBAAf,UACE,uBAAOA,UAAU,WAAWC,QAAQ,GAApC,qBAGA,qBAAKD,UAAU,YAAf,SACE,uBAAOA,UAAU,eAAeH,MAAOZ,EAAQsB,KAAK,OAAOC,UAAQ,SAGvE,sBAAKR,UAAU,WAAf,UACE,qBAAKA,UAAU,SAAf,SACE,0BACEH,MAAO9B,EACPmC,SAAU,SAACtB,GAAD,OAAOZ,EAAWY,EAAEuB,OAAON,QACrCG,UAAU,eACV3B,KAAK,GACLoC,KAAK,KACLC,UAAQ,EACRC,YAAY,gBAGftB,GAAS,qBAAKW,UAAU,+BAAf,SAA+CX,IACzD,qBAAKW,UAAU,SAAf,SACE,yBACEM,SAAU7B,EACVmC,QAASjC,EACTqB,UAAU,sBAHZ,UAKGvB,GACC,sBACEuB,UAAU,mCACVa,KAAK,SACLC,cAAY,SATlB","file":"static/js/32.3abb322d.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport SendForm from \"../../components/messages/SendToForm\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport { errorAlert, successAlert } from \"../../utils\";\n\nfunction MessageAdmin() {\n  const [message, setmessage] = useState(\"\");\n  const [recipient, setrecipient] = useState(\"\");\n  const recipientOptions = [{ id: \"admin\", name: \"admin\" }];\n  const user = useSelector(selectUser);\n  const [loading, setloading] = useState(\"\");\n\n  const onSend = (e) => {\n    e.preventDefault();\n    if (message && recipient) {\n      setloading(true);\n      axios\n        .post(`/chats/user`, {\n          message,\n          userID: recipient,\n          sender: user?.userID,\n        })\n        .then((res) => {\n          setloading(false);\n          if (res.data.error) {\n            errorAlert(res.data.error);\n            return 0;\n          }\n          successAlert(\"message send\");\n          setmessage(\"\");\n        });\n    }\n  };\n\n  const searchOptions = () => {\n    return recipientOptions.map((option) => (\n      <option key={option.id} value={option.id}>\n        {\" \"}\n        {option.name}{\" \"}\n      </option>\n    ));\n  };\n\n  return (\n    <div>\n      <SendForm\n        message={message}\n        setmessage={setmessage}\n        onSend={onSend}\n        recipientsOptions={recipientOptions}\n        recipient={recipient}\n        sendto=\"School Admin\"\n        loading={loading}\n        searchOptions={searchOptions}\n        setrecipient={setrecipient}\n        sender={user?.id}\n      />\n    </div>\n  );\n}\n\nexport default MessageAdmin;\n","import React from \"react\";\n\nfunction SendToForm({\n  message,\n  setmessage,\n  onSend,\n  recipient,\n  setrecipient,\n  sender,\n  sendto,\n  searchOptions,\n  loading,\n  error,\n}) {\n  return (\n    <form action=\"\" className=\" content__container form__sender\">\n      <div className=\"header\">\n        <h3>Send Message to {sendto}</h3>\n      </div>\n      <div className=\"row mb-2 px-3\">\n        <label className=\"col-sm-2\" htmlFor=\"\">\n          Recipient:\n        </label>\n        <div className=\"col-sm-10\">\n          <select\n            value={recipient}\n            onChange={(e) => setrecipient(e.target.value)}\n            id=\"inputState\"\n            className=\"form-select\"\n          >\n            <option defaultChecked hidden>\n              Choose...\n            </option>\n            {searchOptions ? (\n              searchOptions()\n            ) : (\n              <option disabled>No options</option>\n            )}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"row mb-2 px-3\">\n        <label className=\"col-sm-2\" htmlFor=\"\">\n          Sender:\n        </label>\n        <div className=\"col-sm-10\">\n          <input className=\"form-control\" value={sender} type=\"text\" readOnly />\n        </div>\n      </div>\n      <div className=\"mb-2 row\">\n        <div className=\"col-12\">\n          <textarea\n            value={message}\n            onChange={(e) => setmessage(e.target.value)}\n            className=\"form-control\"\n            name=\"\"\n            rows=\"10\"\n            required\n            placeholder=\"Type here\"\n          ></textarea>\n        </div>\n        {error && <div className=\"text-danger text-center mb-2\">{error}</div>}\n        <div className=\"col-12\">\n          <button\n            disabled={loading}\n            onClick={onSend}\n            className=\"btn blue__btn w-100\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            )}\n            Send\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default SendToForm;\n"],"sourceRoot":""}