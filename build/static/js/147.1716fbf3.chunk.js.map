{"version":3,"sources":["../node_modules/@material-ui/icons/InsertDriveFile.js","AdminComponents/Profile/financialReports/ItemizedPayment.js","../node_modules/@material-ui/icons/Print.js","components/tables/pdf.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","thismonth","moment","month","thisyear","year","firstday","format","NonBillPayment","useState","tuition","facility","maintenance","exam","transportion","arrears","bills","total","data","setyear","term","setterm","from","setfrom","to","setto","loading","user","useSelector","selectUser","years","selectYearGroup","className","htmlFor","name","onChange","e","target","defaultValue","hidden","map","y","_id","type","onClick","preventDefault","disabled","role","aria-hidden","scope","window","print","pdf","headers","key","label","filename","title","subheading","date","doc","jsPDF","orientation","unit","pageMargin","liveArea","width","height","setFontSize","text","xPositions","forEach","heading","index","hasOwnProperty","xPos","push","xPositionForCurrentHeader","length","line","nextYPos","row","rIndex","rowHeights","column","cIndex","longText","splitTextToSize","String","rowHeight","getLineHeight","Math","max","addPage","save"],"mappings":"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","file":"static/js/147.1716fbf3.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"\n}), 'InsertDriveFile');\n\nexports.default = _default;","import React, { useState } from \"react\";\n//import axios from \"../../../store/axios\";\nimport { useSelector } from \"react-redux\";\nimport { selectYearGroup } from \"../../../store/slices/schoolSlice\";\nimport { selectUser } from \"../../../store/slices/userSlice\";\nimport InsertDriveFileIcon from \"@material-ui/icons/InsertDriveFile\";\nimport PrintIcon from \"@material-ui/icons/Print\";\nimport moment from \"moment\";\nimport { pdf } from \"../../../components/tables/pdf\";\n\nlet thismonth = moment().month();\nlet thisyear = moment().year();\nlet firstday = moment(`${thisyear}-${thismonth + 1}-01`).format(\"YYYY-MM-DD\");\n\nfunction NonBillPayment() {\n  const [data, setdata] = useState([\n    {\n      tuition: \"0\",\n      facility: \"0\",\n      maintenance: \"0\",\n      exam: \"0\",\n      transportion: \"0\",\n      arrears: \"0\",\n      bills: \"0\",\n      total: \"0\",\n    },\n  ]);\n  const [year, setyear] = useState(\"\");\n  const [term, setterm] = useState(\"\");\n  const [from, setfrom] = useState(firstday);\n  const [to, setto] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setloading] = useState(false);\n  const user = useSelector(selectUser);\n  const years = useSelector(selectYearGroup);\n\n  const handleSave = () => {\n    const headers = [\n      { key: \"tuition\", label: \"Tuition Fee\" },\n      { key: \"facility\", label: \"Facility User Fee\" },\n      { key: \"maintenance\", label: \"Facility Maintenance Fee\" },\n      { key: \"exam\", label: \"Examination Fee\" },\n      { key: \"transportion\", label: \"Transportation Fee\" },\n      { key: \"arrears\", label: \"Arrears\" },\n      { key: \"bills\", label: \"Custom Bills\" },\n      { key: \"total\", label: \"Total\" },\n    ];\n\n    pdf({ data: data, headers, filename: \"Itemized\" });\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n  };\n\n  return (\n    <div>\n      <form className=\"content__container row\">\n        <div className=\"col-sm-6 col-md-4 mb-3\">\n          <label htmlFor=\"name\" className=\" col-form-label\">\n            Year\n          </label>\n          <div className=\"\">\n            <select\n              name=\"academic-calendar\"\n              className=\"form-select\"\n              value={year}\n              onChange={(e) => setyear(e.target.value)}\n            >\n              <option defaultValue hidden>\n                Choose...\n              </option>\n              {years &&\n                years.map((y) => (\n                  <option value={y?.year} key={y._id}>\n                    {y?.year}\n                  </option>\n                ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"col-sm-6 col-md-4 mb-3\">\n          <label htmlFor=\"name\" className=\" col-form-label\">\n            Term\n          </label>\n          <div className=\"\">\n            <select\n              name=\"academic-calendar\"\n              className=\"form-select\"\n              value={term}\n              onChange={(e) => setterm(e.target.value)}\n            >\n              <option defaultValue hidden>\n                Choose...\n              </option>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"col-sm-6 col-md-4 mb-3\">\n          <label htmlFor=\"name\" className=\" col-form-label\">\n            From\n          </label>\n          <div className=\"Ã¥\">\n            <input\n              value={from}\n              onChange={(e) => setfrom(e.target.value)}\n              type=\"date\"\n              className=\"form-control\"\n              name=\"from\"\n            />\n          </div>\n        </div>\n        <div className=\"col-sm-6 col-md-4 mb-3\">\n          <label htmlFor=\"name\" className=\" col-form-label\">\n            To\n          </label>\n          <div className=\"\">\n            <input\n              value={to}\n              onChange={(e) => setto(e.target.value)}\n              type=\"date\"\n              className=\"form-control\"\n              name=\"to\"\n            />\n          </div>\n        </div>\n        <div className=\"mb-3\">\n          <button\n            onClick={handleSearch}\n            disabled={loading}\n            type=\"submit\"\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            )}\n            Search\n          </button>\n        </div>\n      </form>\n\n      <div className=\"content__container mt-5\">\n        <div className=\"text-center\">\n          <h5>\n            <strong>{user?.name}</strong>\n          </h5>\n          <h5>SUMMARY OF BILL PAYMENTS RECEIVED</h5>\n          <div>\n            From {moment(from).format(\"DD MMMM YYYY\")} - To{\" \"}\n            {moment(to).format(\"DD MMMM YYYY\")}\n          </div>\n        </div>\n        <table className=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th scope=\"col\">ITEM</th>\n              <th scope=\"col\">AMOUNT</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>Tuition Fee</td>\n              <td>${0}</td>\n            </tr>\n            <tr>\n              <td>Facility User Fee</td>\n              <td>${0}</td>\n            </tr>\n            <tr>\n              <td>Facility Maintenance Fee</td>\n              <td>${0}</td>\n            </tr>\n            <tr>\n              <td>Examination Fee</td>\n              <td>${0}</td>\n            </tr>\n            <tr>\n              <td>Transportation Fee</td>\n              <td>${0}</td>\n            </tr>\n            <tr>\n              <td>Arrears</td>\n              <td>${0}</td>\n            </tr>\n            <tr>\n              <td>Custom Bills</td>\n              <td>${0}</td>\n            </tr>\n            <tr>\n              <td>\n                <strong>Total</strong>\n              </td>\n              <td>\n                <strong>${0}</strong>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div className=\"d-flex justify-content-center mt-3\">\n          <button onClick={handlePrint} className=\"btn blue__btn\">\n            Print <PrintIcon />\n          </button>\n          <button onClick={handleSave} className=\"btn blue__btn ml-3\">\n            Save <InsertDriveFileIcon />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default NonBillPayment;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n}), 'Print');\n\nexports.default = _default;","import jsPDF from \"jspdf\";\n\nexport const pdf = function ({\n  data,\n  headers,\n  filename,\n  title,\n  subheading,\n  date,\n}) {\n  const doc = new jsPDF({\n    orientation: \"l\",\n    unit: \"pt\",\n    format: \"a4\",\n  });\n\n  // Get the page total pt height and pt width based on\n  // https://github.com/MrRio/jsPDF/blob/ddbfc0f0250ca908f8061a72fa057116b7613e78/jspdf.js#L59\n\n  const pageDimensions = {\n    height: 595.28,\n    width: 841.89,\n  };\n\n  // Set some general padding to the document\n  const pageMargin = 50;\n\n  const liveArea = {\n    width: pageDimensions.width - pageMargin,\n    height: pageDimensions.height - pageMargin,\n  };\n\n  // Let's set up a standard padding that we can add to known coordinates\n  const padding = 15;\n\n  doc.setFontSize(8);\n\n  if (title) {\n    doc.text(title, 200, 29);\n  }\n\n  if (subheading) {\n    doc.text(subheading, 200, 30);\n  }\n  if (date) {\n    doc.text(date, 200, 32);\n  }\n\n  const xPositions = [];\n\n  headers.forEach((heading, index) => {\n    if (heading.hasOwnProperty(\"xPos\")) {\n      doc.text(heading.label, heading.xPos, pageMargin);\n      xPositions.push(heading.xPos);\n    } else {\n      const xPositionForCurrentHeader =\n        pageMargin + index * (liveArea.width / headers.length);\n      const yPositionForHeaders = pageMargin;\n      doc.text(\n        heading.label,\n        index === 0\n          ? xPositionForCurrentHeader\n          : xPositionForCurrentHeader + padding,\n        yPositionForHeaders\n      );\n\n      xPositions.push(\n        index === 0\n          ? xPositionForCurrentHeader\n          : xPositionForCurrentHeader + padding\n      );\n    }\n  });\n\n  doc.line(pageMargin, pageMargin + 3.5, liveArea.width, pageMargin + 3.5);\n\n  const baseYPosForRows = pageMargin + padding;\n  let nextYPos = baseYPosForRows;\n\n  // ROWS\n  data.forEach((row, rIndex) => {\n    const rowHeights = [];\n\n    // COLUMNS\n    headers.forEach((column, cIndex) => {\n      const longText = doc.splitTextToSize(\n        String(row[column.key]),\n        xPositions[cIndex] - xPositions[cIndex !== 0 && cIndex - 1]\n      );\n      const rowHeight = longText.length * doc.getLineHeight();\n      rowHeights.push(rowHeight);\n\n      doc.text(longText, xPositions[cIndex], nextYPos);\n    });\n\n    nextYPos = nextYPos + padding + Math.max(...rowHeights, 30);\n    if (nextYPos > liveArea.height) {\n      doc.addPage();\n      nextYPos = baseYPosForRows;\n    }\n  });\n\n  doc.save(filename);\n};\n"],"sourceRoot":""}