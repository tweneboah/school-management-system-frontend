{"version":3,"sources":["AdminComponents/canteen/CanteenNav.js","AdminComponents/canteen/EditMember.js"],"names":["CanteenNav","className","activeStyle","color","to","EditMember","useState","name","setname","paymentMethod","setpaymentMethod","loading","setloading","paymentPlan","setpaymentPlan","id","useParams","useEffect","axios","get","then","res","data","error","console","log","member","user","plans","type","value","readOnly","href","onChange","e","target","defaultValue","hidden","length","map","plan","_id","disabled","onClick","preventDefault","put","errorAlert","successAlert","catch","role"],"mappings":"gIAAA,0BAgBeA,IAbf,WACI,OACI,sBAAKC,UAAU,wDAAf,UACI,cAAC,IAAD,CAAUC,YAAa,CAAEC,MAAO,WAAaF,UAAU,MAAMG,GAAG,4BAAhE,kCACA,cAAC,IAAD,CAASF,YAAa,CAAEC,MAAO,WAAaF,UAAU,MAAMG,GAAG,mBAA/D,yBACA,cAAC,IAAD,CAASF,YAAa,CAAEC,MAAO,WAAaF,UAAU,MAAMG,GAAG,yBAA/D,2BACA,cAAC,IAAD,CAASF,YAAa,CAAEC,MAAO,WAAaF,UAAU,MAAMG,GAAG,wBAA/D,0BACA,cAAC,IAAD,CAASF,YAAa,CAAEC,MAAO,WAAaF,UAAU,MAAMG,GAAG,oBAA/D,+B,wGCsGGC,UA1Gf,WAAuB,IAAD,EACIC,mBAAS,IADb,mBACbC,EADa,KACPC,EADO,OAEsBF,mBAAS,IAF/B,mBAEbG,EAFa,KAEEC,EAFF,OAGUJ,oBAAS,GAHnB,mBAGbK,EAHa,KAGJC,EAHI,OAIkBN,mBAAS,IAJ3B,mBAIbO,EAJa,KAIAC,EAJA,KAKZC,EAAOC,cAAPD,GAwCR,OAtCAE,qBAAU,WACRC,IAAMC,IAAN,mBAAsBJ,IAAMK,MAAK,SAACC,GAChC,GAAIA,EAAIC,KAAKC,MAEX,OADAC,QAAQC,IAAIJ,EAAIC,KAAKC,OACd,EAET,IAAMG,EAASL,EAAIC,KAAKK,KACxBnB,EAAO,OAACkB,QAAD,IAACA,OAAD,EAACA,EAAQnB,MAChBG,EAAgB,OAACgB,QAAD,IAACA,OAAD,EAACA,EAAQjB,oBAE1B,CAACM,IAEJE,qBAAU,WACRC,IAAMC,IAAI,gBAAgBC,MAAK,SAACC,GAAS,IAAD,EACtCP,EAAc,UAACO,EAAIC,YAAL,aAAC,EAAUM,OACzBJ,QAAQC,IAAIJ,EAAIC,WAEjB,IAsBD,gCACE,cAAC,IAAD,IACA,sDAAyBP,KACzB,uBAAMd,UAAU,qBAAhB,UACE,sBAAKA,UAAU,gBAAf,UACE,uBAAOA,UAAU,aAAjB,kBACA,uBACE4B,KAAK,OACLC,MAAOvB,EACPwB,UAAQ,EAER9B,UAAU,eACVM,KAAK,YAGT,sBAAKN,UAAU,gBAAf,UACE,uBAAOA,UAAU,aAAjB,mCACA,wBAAOA,UAAU,aAAjB,gCACsB,IACpB,mBAAG+B,KAAK,yBAAR,6CAEF,yBACEC,SAAU,SAACC,GAAD,OAAOxB,EAAiBwB,EAAEC,OAAOL,QAC3CvB,KAAK,gBACLN,UAAU,cAHZ,UAKE,wBAAQmC,cAAY,EAACC,QAAM,EAA3B,uBAGCxB,EAAYyB,OAAS,EACpBzB,EAAY0B,KAAI,SAACL,GAAD,OACd,wBAAoBJ,MAAOI,EAAEM,KAA7B,SACGN,EAAE3B,MADQ2B,EAAEO,QAKjB,wBAAQC,UAAQ,EAAhB,+BAIN,8BACE,yBACEA,SAAU/B,EACVgC,QA/DS,SAACT,GAClBA,EAAEU,iBACFhC,GAAW,GACXM,IACG2B,IADH,0BAC0B9B,GAAM,CAAEN,gBAAeF,SAC9Ca,MAAK,SAACC,GAEL,GADAT,GAAW,GACPS,EAAIC,KAAKC,MAEX,OADAuB,YAAWzB,EAAIC,KAAKC,OACb,EAETwB,YAAa,0BAEdC,OAAM,WACLpC,GAAW,GACXkC,YAAW,4BAiDP7C,UAAU,gBAHZ,UAKGU,GACC,sBACEV,UAAU,mCACVgD,KAAK,WARX","file":"static/js/64.32529889.chunk.js","sourcesContent":["import React from 'react'\nimport {NavLink} from 'react-router-dom'\n\nfunction CanteenNav() {\n    return (\n        <div className=\"d-flex xs-flex-column sm-flex-row justify-content-end\">\n            <NavLink  activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/members/register\">Add  Canteen Member </NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/members\">All Members</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments/plan\">Payments Plan</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments/add\">Make Payment</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments\">All Payments</NavLink>\n            \n        </div>\n    )\n}\n\nexport default CanteenNav\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../store/axios\";\nimport CanteenNav from \"./CanteenNav\";\nimport { errorAlert, successAlert } from \"../../utils\";\n\nfunction EditMember() {\n  const [name, setname] = useState(\"\");\n  const [paymentMethod, setpaymentMethod] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [paymentPlan, setpaymentPlan] = useState([]);\n  const { id } = useParams();\n\n  useEffect(() => {\n    axios.get(`/canteen/${id}`).then((res) => {\n      if (res.data.error) {\n        console.log(res.data.error);\n        return 0;\n      }\n      const member = res.data.user;\n      setname(member?.name);\n      setpaymentMethod(member?.paymentMethod);\n    });\n  }, [id]);\n\n  useEffect(() => {\n    axios.get(\"/paymentplan\").then((res) => {\n      setpaymentPlan(res.data?.plans);\n      console.log(res.data);\n    });\n  }, []);\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    setloading(true);\n    axios\n      .put(`/canteen/update/${id}`, { paymentMethod, name })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"Successfully edited\");\n      })\n      .catch(() => {\n        setloading(false);\n        errorAlert(\"something went wrong\");\n      });\n  };\n\n  return (\n    <div>\n      <CanteenNav />\n      <h3>Edit Canteen Member {id}</h3>\n      <form className=\"content__container\">\n        <div className=\"col-md-6 mb-4\">\n          <label className=\"form-label\">Name</label>\n          <input\n            type=\"text\"\n            value={name}\n            readOnly\n            //onChange={e => setname(e.target.value)}\n            className=\"form-control\"\n            name=\"name\"\n          />\n        </div>\n        <div className=\"col-md-8 mb-3\">\n          <label className=\"form-label\">Select Payment Method</label>\n          <label className=\"form-label\">\n            Select Payment Plan{\" \"}\n            <a href=\"/canteen/payments/plan\">View Payment Plans available</a>\n          </label>\n          <select\n            onChange={(e) => setpaymentMethod(e.target.value)}\n            name=\"paymentMethod\"\n            className=\"form-select\"\n          >\n            <option defaultValue hidden>\n              Choose...\n            </option>\n            {paymentPlan.length > 0 ? (\n              paymentPlan.map((e) => (\n                <option key={e._id} value={e.plan}>\n                  {e.name}\n                </option>\n              ))\n            ) : (\n              <option disabled>no data yet</option>\n            )}\n          </select>\n        </div>\n        <div>\n          <button\n            disabled={loading}\n            onClick={handleEdit}\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n              ></span>\n            )}\n            Save Changes\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default EditMember;\n"],"sourceRoot":""}