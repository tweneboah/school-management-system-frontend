(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[136],{1109:function(e,t,c){"use strict";var a=c(2),n=c(19),s=c(1),o=(c(36),c(37)),l=c(104),r=c(785),i=c(928),d=c(101),u=c(1807),b=s.forwardRef((function(e,t){var c=e.autoFocus,d=e.checked,b=e.checkedIcon,m=e.classes,j=e.className,h=e.defaultChecked,f=e.disabled,p=e.icon,O=e.id,v=e.inputProps,x=e.inputRef,g=e.name,N=e.onBlur,C=e.onChange,k=e.onFocus,y=e.readOnly,S=e.required,w=e.tabIndex,I=e.type,F=e.value,E=Object(n.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),z=Object(r.a)({controlled:d,default:Boolean(h),name:"SwitchBase",state:"checked"}),B=Object(l.a)(z,2),V=B[0],_=B[1],D=Object(i.a)(),P=f;D&&"undefined"===typeof P&&(P=D.disabled);var q="checkbox"===I||"radio"===I;return s.createElement(u.a,Object(a.a)({component:"span",className:Object(o.a)(m.root,j,V&&m.checked,P&&m.disabled),disabled:P,tabIndex:null,role:void 0,onFocus:function(e){k&&k(e),D&&D.onFocus&&D.onFocus(e)},onBlur:function(e){N&&N(e),D&&D.onBlur&&D.onBlur(e)},ref:t},E),s.createElement("input",Object(a.a)({autoFocus:c,checked:d,defaultChecked:h,className:m.input,disabled:P,id:q&&O,name:g,onChange:function(e){var t=e.target.checked;_(t),C&&C(e,t)},readOnly:y,ref:x,required:S,tabIndex:w,type:I,value:F},v)),V?b:p)})),m=Object(d.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(b),j=c(760),h=Object(j.a)(s.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),f=Object(j.a)(s.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=c(103),O=Object(j.a)(s.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=c(188),x=s.createElement(f,null),g=s.createElement(h,null),N=s.createElement(O,null),C=s.forwardRef((function(e,t){var c=e.checkedIcon,l=void 0===c?x:c,r=e.classes,i=e.color,d=void 0===i?"secondary":i,u=e.icon,b=void 0===u?g:u,j=e.indeterminate,h=void 0!==j&&j,f=e.indeterminateIcon,p=void 0===f?N:f,O=e.inputProps,C=e.size,k=void 0===C?"medium":C,y=Object(n.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),S=h?p:b,w=h?p:l;return s.createElement(m,Object(a.a)({type:"checkbox",classes:{root:Object(o.a)(r.root,r["color".concat(Object(v.a)(d))],h&&r.indeterminate),checked:r.checked,disabled:r.disabled},color:d,inputProps:Object(a.a)({"data-indeterminate":h},O),icon:s.cloneElement(S,{fontSize:void 0===S.props.fontSize&&"small"===k?k:S.props.fontSize}),checkedIcon:s.cloneElement(w,{fontSize:void 0===w.props.fontSize&&"small"===k?k:w.props.fontSize}),ref:t},y))}));t.a=Object(d.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(p.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(p.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(C)},1164:function(e,t,c){"use strict";c.d(t,"b",(function(){return s}));var a=c(1),n=a.createContext();function s(){return a.useContext(n)}t.a=n},1406:function(e,t,c){"use strict";var a=c(716),n=c(1),s=c(745),o=c(76),l=c(38),r=c(32),i=c(1109),d=c(14);t.a=function(e){var t=Object(o.c)(r.b),c=Object(o.c)(r.f),u=Object(o.c)(r.h),b=Object(n.useState)([]),m=Object(a.a)(b,2),j=m[0],h=m[1],f=Object(o.c)(r.l),p=Object(s.a)(),O=p.register,v=p.handleSubmit,x=p.errors,g=e.name,N=e.setname,C=e.code,k=e.setcode,y=e.campus,S=e.academic,w=e.setacademic,I=e.division,F=e.setdivision,E=e.group,z=e.setgroup,B=e.prefect,V=e.setprefect,_=e.sba,D=e.setsba,P=e.sbaStaff,q=e.setsbaStaff,A=e.setcampus,H=e.teacher,M=e.loading,R=e.isEdit,$=e.handleAddClass,T=e.setteacher,J=Object(n.useState)([]),L=Object(a.a)(J,2),G=L[0],Y=L[1];return Object(n.useEffect)((function(){l.a.get("/prefects").then((function(e){Y(e.data)}))}),[]),Object(n.useEffect)((function(){l.a.get("/teachers/teachers").then((function(e){h(e.data)}))}),[]),Object(d.jsxs)("form",{onSubmit:v($),action:"",children:[Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Academic Year"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{name:"academic-calendar",className:"form-select",value:S,onChange:function(e){return w(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),f.length>0?f.map((function(e){return Object(d.jsx)("option",{value:e.year,children:e.year},e.year)})):Object(d.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Name"}),Object(d.jsxs)("div",{className:"col-sm-10",children:[Object(d.jsx)("input",{value:g,onChange:function(e){return N(e.target.value)},type:"text",ref:O({required:!0}),className:"form-control",name:"name"}),x.name&&Object(d.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]})]}),!R&&Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Code"}),Object(d.jsxs)("div",{className:"col-sm-10",children:[Object(d.jsx)("input",{ref:O({required:!0}),value:C,onChange:function(e){return k(e.target.value)},type:"text",className:"form-control",name:"code"}),x.code&&Object(d.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Campus"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:y,onChange:function(e){return A(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),t.length>0?t.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No campuses yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Group"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:E,onChange:function(e){return z(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),u.length>0?u.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No groups yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Division"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:I,onChange:function(e){return F(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),c.length>0?c.map((function(e){return Object(d.jsx)("option",{value:e.code,children:e.name},e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No divisions yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Teacher"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{value:H,onChange:function(e){return T(e.target.value)},id:"teacher",className:"form-select",children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),j.length>0?j.map((function(e){return Object(d.jsxs)("option",{value:e.userID,children:[e.name," ",e.surname]},e.userID)})):Object(d.jsx)("option",{disabled:!0,children:"No staff yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Prefect"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:B,onChange:function(e){return V(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),(null===G||void 0===G?void 0:G.length)>0?G.map((function(e){return Object(d.jsx)("option",{value:null===e||void 0===e?void 0:e.userID,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)})):Object(d.jsx)("option",{disabled:!0,children:"No prefects yet"})]})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"SBA Configuration"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.a,{checked:_,color:"primary",onChange:function(){return D(!_)},inputProps:{"aria-label":"primary checkbox"}})})]}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"SBA Assign Staff"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)("select",{id:"campus",className:"form-select",value:P,onChange:function(e){return q(e.target.value)},children:[Object(d.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),j.length>0?j.map((function(e){return Object(d.jsxs)("option",{value:e.userID,children:[e.name," ",e.surname]},e.userID)})):Object(d.jsx)("option",{disabled:!0,children:"No staff yet"})]})})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"offset-sm-2",children:Object(d.jsxs)("button",{disabled:M,type:"submit",className:"btn blue__btn",children:[M&&Object(d.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),R?"Save Changes":"Add"]})})})]})}},1850:function(e,t,c){"use strict";c.r(t);var a=c(733),n=c.n(a),s=c(734),o=c(716),l=c(1),r=c(1406),i=c(38),d=c(22),u=c(718),b=c(76),m=c(32),j=c(14);t.default=function(){var e=Object(l.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],h=Object(l.useState)(""),f=Object(o.a)(h,2),p=f[0],O=f[1],v=Object(l.useState)(""),x=Object(o.a)(v,2),g=x[0],N=x[1],C=Object(l.useState)(""),k=Object(o.a)(C,2),y=k[0],S=k[1],w=Object(l.useState)(""),I=Object(o.a)(w,2),F=I[0],E=I[1],z=Object(l.useState)(!1),B=Object(o.a)(z,2),V=B[0],_=B[1],D=Object(l.useState)(""),P=Object(o.a)(D,2),q=P[0],A=P[1],H=Object(l.useState)(""),M=Object(o.a)(H,2),R=M[0],$=M[1],T=Object(l.useState)(""),J=Object(o.a)(T,2),L=J[0],G=J[1],Y=Object(l.useState)(""),K=Object(o.a)(Y,2),Q=K[0],U=K[1],W=Object(l.useState)(!1),X=Object(o.a)(W,2),Z=X[0],ee=X[1],te=Object(d.i)().id,ce=Object(b.b)(),ae=Object(b.c)(m.c);return Object(l.useEffect)((function(){i.a.get("/classes/".concat(te)).then((function(e){if(e.data.error)return Object(u.c)(e.data.error),0;var t=e.data.docs;a(null===t||void 0===t?void 0:t.name),O(null===t||void 0===t?void 0:t.campusID),N(null===t||void 0===t?void 0:t.teacherID),S(null===t||void 0===t?void 0:t.classCode),E(null===t||void 0===t?void 0:t.academic),A(null===t||void 0===t?void 0:t.division),$(null===t||void 0===t?void 0:t.group),U(null===t||void 0===t?void 0:t.sba),ee(null===t||void 0===t?void 0:t.sbaStaff),G(null===t||void 0===t?void 0:t.prefect)}))}),[te]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"content__container",children:[Object(j.jsx)("h3",{children:"Edit Class"}),Object(j.jsx)(r.a,{name:c,handleAddClass:function(){_(!0),i.a.put("/classes/update/".concat(te),{name:c,classCode:y,campusID:p,academic:F,teacherID:g,prefect:L,division:q,sba:Q,group:R,sbaStaff:Z}).then(function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!1),!t.data.error){e.next=5;break}return Object(u.c)(t.data.error),_(!1),e.abrupt("return",0);case 5:return Object(u.m)("successfully edited"),ce(Object(m.p)(ae.map((function(e){var c;return e._id===te?null===(c=t.data)||void 0===c?void 0:c.doc:e})))),e.next=9,i.a.post("/activitylog/create",{activity:" ".concat(c," class was edited"),user:"admin"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){Object(u.c)("something went wrong")}))},setname:a,campus:p,academic:F,setacademic:E,setcampus:O,code:y,loading:V,setcode:S,teacher:g,isEdit:!0,setdivision:A,division:q,setgroup:$,group:R,setprefect:G,prefects:L,sba:Q,setsba:U,sbaStaff:Z,setsbaStaff:ee,setteacher:N})]})})}},928:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var a=c(1),n=c(1164);function s(){return a.useContext(n.a)}}}]);
//# sourceMappingURL=136.504b15ac.chunk.js.map