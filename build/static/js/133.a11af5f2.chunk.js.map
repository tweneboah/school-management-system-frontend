{"version":3,"sources":["../node_modules/@material-ui/icons/HighlightOff.js","../node_modules/@material-ui/icons/ArrowForwardIos.js","AdminComponents/shared/GoBack.js","AdminComponents/academics/courses/CourseForm.js","../node_modules/@material-ui/icons/AddCircleOutline.js","AdminComponents/academics/courses/AddCourses.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","GoBack","link","name","className","to","CourseForm","props","useState","teachers","setteachers","departments","useSelector","selectDepartments","classes","selectClasses","type","teacher","setteacher","settype","setname","code","setcode","onSubmit","loading","isEdit","setclassesArr","classesArr","console","log","useEffect","axios","get","then","res","data","useForm","register","handleSubmit","errors","action","ref","required","onChange","e","target","id","defaultValue","hidden","length","map","_id","disabled","class","v","val","i","classCode","userID","surname","onClick","newClasses","filter","handleDeleteClass","Math","random","toString","slice","role","aria-hidden","AddCourses","setloading","classID","setclassID","dispatch","useDispatch","courses","selectCourses","arr","unique","find","push","handleUniqueVal","post","error","errorAlert","setCourses","doc","successAlert","catch","handleSetclasses","loadin"],"mappings":"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","file":"static/js/133.a11af5f2.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'HighlightOff');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"\n}), 'ArrowForwardIos');\n\nexports.default = _default;","import React from \"react\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport { Link } from \"react-router-dom\";\n\nfunction GoBack({ link, name }) {\n  return (\n    <div className=\"d-flex justify-content-end mb-5\">\n      <Link to={link} className=\"link\">\n        {name}\n        <ArrowForwardIosIcon className=\"icon\" />\n      </Link>\n    </div>\n  );\n}\n\nexport default GoBack;\n","import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"../../../store/axios\";\nimport { useSelector } from \"react-redux\";\nimport {\n  selectDepartments,\n  selectClasses,\n} from \"../../../store/slices/schoolSlice\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport { IconButton } from \"@material-ui/core\";\n\nfunction CourseForm(props) {\n  const [teachers, setteachers] = useState([]);\n  const departments = useSelector(selectDepartments);\n  const classes = useSelector(selectClasses);\n  //const [classes, setclasses] = useState([])\n\n  let {\n    type,\n    teacher,\n    setteacher,\n    settype,\n    name,\n    setname,\n    code,\n    setcode,\n    onSubmit,\n    loading,\n    isEdit,\n    setclassesArr,\n    classesArr,\n  } = props;\n\n  console.log(classesArr);\n\n  useEffect(() => {\n    axios.get(\"/teachers/teachers\").then((res) => {\n      setteachers(res.data);\n    });\n  }, []);\n\n  const handleSetClassClass = (val, id) => {\n    setclassesArr(\n      classesArr.map((e) =>\n        e._id === id ? { _id: id, class: val, teacher: e.teacher } : e\n      )\n    );\n  };\n\n  const handleSetClassTeacher = (val, id) => {\n    setclassesArr(\n      classesArr.map((e) =>\n        e._id === id ? { _id: id, class: e.class, teacher: val } : e\n      )\n    );\n  };\n\n  const handleAddClass = () => {\n    let _id = Math.random().toString(16).slice(2);\n    setclassesArr([...classesArr, { class: \"\", teacher: \"\", _id }]);\n  };\n\n  const handleDeleteClass = (id) => {\n    let newClasses = classesArr.filter((i) => i._id !== id);\n    console.log(newClasses);\n    setclassesArr(newClasses);\n  };\n\n  const { register, handleSubmit, errors } = useForm();\n\n  return (\n    <form action=\"\" onSubmit={handleSubmit(onSubmit)}>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Course Name</label>\n        <input\n          type=\"text\"\n          value={name}\n          ref={register({ required: true })}\n          onChange={(e) => setname(e.target.value)}\n          className=\"form-control\"\n          name=\"name\"\n        />\n        {errors.name && (\n          <span className=\" form-error text-danger mb-2\">\n            This field is required\n          </span>\n        )}\n      </div>\n      {!isEdit && (\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Course Code</label>\n          <input\n            type=\"text\"\n            value={code}\n            ref={register({ required: true })}\n            onChange={(e) => setcode(e.target.value)}\n            className=\"form-control\"\n            name=\"code\"\n          />\n          {errors.code && (\n            <span className=\"form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      )}\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Departments</label>\n        <select\n          name=\"type\"\n          value={type}\n          onChange={(e) => settype(e.target.value)}\n          id=\"inputState\"\n          className=\"form-select\"\n        >\n          <option defaultValue hidden>\n            Choose...\n          </option>\n          {departments.length > 0 ? (\n            departments.map((e) => (\n              <option key={e._id} value={e.code}>\n                {e.name}\n              </option>\n            ))\n          ) : (\n            <option disabled>No departments yet</option>\n          )}\n        </select>\n      </div>\n\n      <div className=\"mb-3\">\n        <div className=\"d-flex justify-content-between mb-3\">\n          <label className=\"form-label\">Classes</label>\n        </div>\n        <div className=\"mb-3\">\n          {classesArr &&\n            classesArr.map((e) => (\n              <div className=\" row\" key={e._id}>\n                <div className=\"col-sm-5 mb-3\">\n                  <select\n                    name=\"type\"\n                    value={e.class}\n                    onChange={(v) => handleSetClassClass(v.target.value, e._id)}\n                    id=\"inputState\"\n                    className=\"form-select\"\n                  >\n                    <option defaultValue hidden>\n                      Choose...\n                    </option>\n                    {classes.length > 0 ? (\n                      classes.map((i) => {\n                        return (\n                          <option key={i._id} value={i.classCode}>\n                            {i.name}\n                          </option>\n                        );\n                      })\n                    ) : (\n                      <option disabled>No classes yet yet</option>\n                    )}\n                  </select>\n                </div>\n                <div className=\"col-sm-5\">\n                  <select\n                    name=\"type\"\n                    value={e.teacher}\n                    onChange={(v) =>\n                      handleSetClassTeacher(v.target.value, e._id)\n                    }\n                    id=\"inputState\"\n                    className=\"form-select\"\n                  >\n                    <option defaultValue hidden>\n                      Choose...\n                    </option>\n                    {teachers.length > 0 ? (\n                      teachers.map((i) => (\n                        <option key={i._id} value={i.userID}>\n                          {i.name} {\"\"} {i.surname}\n                        </option>\n                      ))\n                    ) : (\n                      <option disabled>No teachers registered yet</option>\n                    )}\n                  </select>\n                </div>\n                <div className=\"col-sm-2\">\n                  <IconButton onClick={() => handleDeleteClass(e._id)}>\n                    <HighlightOffIcon></HighlightOffIcon>\n                  </IconButton>\n                </div>\n              </div>\n            ))}\n        </div>\n        <div className=\"d-flex justify-content-start\">\n          <button type=\"button\" onClick={handleAddClass} className=\"btn \">\n            <AddCircleOutlineIcon></AddCircleOutlineIcon>\n            Add Class{\" \"}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"mb-5\">\n        <label className=\"form-label\">Head Teacher</label>\n        <select\n          name=\"type\"\n          value={teacher}\n          onChange={(e) => setteacher(e.target.value)}\n          id=\"inputState\"\n          className=\"form-select\"\n        >\n          <option defaultValue hidden>\n            Choose...\n          </option>\n          {teachers.length > 0 ? (\n            teachers.map((e) => (\n              <option key={e?.userID} value={e?.userID}>\n                {e.name} {e.surname}\n              </option>\n            ))\n          ) : (\n            <option disabled>No data</option>\n          )}\n        </select>\n      </div>\n      <div className=\"mb-3\">\n        <button disabled={loading} type=\"submit\" className=\"btn blue__btn\">\n          {loading && (\n            <span\n              className=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n              aria-hidden=\"true\"\n            ></span>\n          )}\n          {isEdit ? \"Save Changes\" : \"Add\"}\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default CourseForm;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'AddCircleOutline');\n\nexports.default = _default;","/* eslint-disable array-callback-return */\nimport React, { useState } from \"react\";\nimport AddForm from \"./CourseForm\";\nimport GoBack from \"../../shared/GoBack\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCourses, selectCourses } from \"../../../store/slices/schoolSlice\";\n\nfunction AddCourses() {\n  const [name, setname] = useState(\"\");\n  const [code, setcode] = useState(\"\");\n  const [loading, setloading] = useState(\"\");\n  const [type, settype] = useState(\"\");\n  const [teacher, setteacher] = useState(\"\");\n  const [classesArr, setclassesArr] = useState([\n    { _id: \"\", teacher: \"\", class: \"\" },\n  ]);\n  const [classID, setclassID] = useState(\"\");\n  const dispatch = useDispatch();\n  const courses = useSelector(selectCourses);\n\n  const handleSetclasses = (e) => {\n    setclassID(e);\n    let newClasses = classesArr.push(e);\n    setclassesArr(newClasses);\n  };\n\n  const handleUniqueVal = (arr) => {\n    let unique = [];\n    arr.map((i) => {\n      let check = unique.find(\n        (e) => e.class === i.class || e.teacher === i.teacher\n      );\n      if (!check) {\n        unique.push(i);\n      }\n    });\n    return unique;\n  };\n\n  const handleAddCourse = () => {\n    setloading(true);\n    let classesData = classesArr.filter(\n      (e) => e.class !== \"\" || e.teacher !== \"\"\n    );\n    let classes = handleUniqueVal(classesData);\n    axios\n      .post(\"/courses/create\", {\n        name,\n        code,\n        type,\n        teacher,\n        classID,\n        classes,\n      })\n      .then((res) => {\n        if (res.data.error) {\n          setloading(false);\n          errorAlert(res.data.error);\n          return 0;\n        }\n        dispatch(setCourses([res.data.doc, ...courses]));\n        setloading(false);\n        successAlert(\"successfull added\");\n        setname(\"\");\n        setcode(\"\");\n        setteacher(\"\");\n        settype(\"\");\n        setclassesArr([]);\n      })\n      .catch(() => {\n        setloading(false);\n        errorAlert(\"sorry something when wrong\");\n      });\n  };\n\n  return (\n    <>\n      <GoBack link=\"/academics/courses\" name=\"Go back to Courses List\" />\n      <div className=\"content__container\">\n        <h3>Add New Course</h3>\n        <AddForm\n          onSubmit={handleAddCourse}\n          name={name}\n          handleSetclasses={handleSetclasses}\n          setname={setname}\n          code={code}\n          teacher={teacher}\n          setteacher={setteacher}\n          type={type}\n          setclassesArr={setclassesArr}\n          classesArr={classesArr}\n          classID={classID}\n          settype={settype}\n          loadin={loading}\n          setcode={setcode}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default AddCourses;\n"],"sourceRoot":""}