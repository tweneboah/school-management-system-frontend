{"version":3,"sources":["AdminComponents/Profile/academicsReports/AdmissionReport.js"],"names":["AdmissionReport","useState","from","setfrom","to","setto","loading","setloading","data","setdata","show","setshow","className","action","value","onChange","e","target","type","onClick","preventDefault","axios","get","then","res","catch","err","console","log","errorAlert","disabled","role","aria-hidden","moment","format","scope","division","day","border","admission","colSpan"],"mappings":"uMAgHeA,UA3Gf,WACE,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAoBF,mBAAS,IAA7B,mBAAOG,EAAP,KAAWC,EAAX,KACA,EAA8BJ,mBAAS,IAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACA,EAAwBN,mBAAS,MAAjC,mBAAOO,EAAP,KAAaC,EAAb,KACA,EAAwBR,oBAAS,GAAjC,mBAAOS,EAAP,KAAaC,EAAb,KAqBA,OACE,gCACE,qDACA,qBAAKC,UAAU,0BAAf,SACE,uBAAMC,OAAO,GAAGD,UAAU,MAA1B,UACE,sBAAKA,UAAU,gBAAf,UACE,uBAAOA,UAAU,aAAjB,kBACA,uBACEE,MAAOZ,EACPa,SAAU,SAACC,GAAD,OAAOb,EAAQa,EAAEC,OAAOH,QAClCI,KAAK,OACLN,UAAU,oBAGd,sBAAKA,UAAU,gBAAf,UACE,uBAAOA,UAAU,aAAjB,gBACA,uBACEE,MAAOV,EACPW,SAAU,SAACC,GAAD,OAAOX,EAAMW,EAAEC,OAAOH,QAChCI,KAAK,OACLN,UAAU,oBAGd,qBAAKA,UAAU,OAAf,SACE,yBACEO,QA5CS,SAACH,GAEpB,OADAA,EAAEI,iBACElB,EAGCE,GAGLG,GAAW,QACXc,IAAMC,IAAN,sCAAyCpB,EAAzC,YAAiDE,IAAMmB,MAAK,SAACC,GAC3Df,EAAQe,EAAIhB,MACZD,GAAW,GACXI,GAAQ,MACPc,OAAM,SAAAC,GACPnB,GAAW,GACXoB,QAAQC,IAAIF,OATLG,YAAW,kBAHXA,YAAW,qBA0CVC,SAAUxB,EACVY,KAAK,SACLN,UAAU,gBAJZ,UAMGN,GACC,sBACEM,UAAU,mCACVmB,KAAK,SACLC,cAAY,SAVlB,mBAkBLtB,GACD,sBAAKE,UAAU,qBAAf,UACE,sBAAKA,UAAU,cAAf,UACE,mDACA,0CACUqB,IAAO/B,GAAMgC,OAAO,gBAD9B,KACiD,IAC9CD,IAAO7B,GAAI8B,OAAO,sBAGvB,wBAAOtB,UAAU,QAAjB,UACE,gCACE,+BACE,oBAAIuB,MAAM,MAAV,sBACA,oBAAIA,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,qBACA,oBAAIA,MAAM,MAAV,kCAGJ,gCACG3B,EACC,+BACE,8BAAS,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM4B,WAAY,MACvB,oCAAK5B,QAAL,IAAKA,OAAL,EAAKA,EAAM6B,MACX,oCAAK7B,QAAL,IAAKA,OAAL,EAAKA,EAAM8B,SACX,oCAAK9B,QAAL,IAAKA,OAAL,EAAKA,EAAM+B,eAGb,6BACE,oBAAIC,QAAS,EAAb","file":"static/js/175.955f1840.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"../../../store/axios\";\nimport moment from \"moment\";\nimport {errorAlert} from '../../../utils'\n\nfunction AdmissionReport() {\n  const [from, setfrom] = useState(\"\");\n  const [to, setto] = useState(\"\");\n  const [loading, setloading] = useState(\"\");\n  const [data, setdata] = useState(null);\n  const [show, setshow] = useState(false)\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    if(!from){\n      return errorAlert(\"select from date\")\n    }\n     if(!to){\n      return errorAlert(\"select to date\")\n    }\n    setloading(true);\n    axios.get(`/students/student/admission/${from}/${to}`).then((res) => {\n      setdata(res.data);\n      setloading(false);\n      setshow(true)\n    }).catch(err => {\n      setloading(false);\n      console.log(err)\n    });\n  };\n\n  return (\n    <div>\n      <h3> Admissions Reports</h3>\n      <div className=\"content__container mb-5\">\n        <form action=\"\" className=\"row\">\n          <div className=\"mb-3 col-sm-4\">\n            <label className=\"form-label\">From</label>\n            <input\n              value={from}\n              onChange={(e) => setfrom(e.target.value)}\n              type=\"date\"\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"mb-3 col-sm-4\">\n            <label className=\"form-label\">To</label>\n            <input\n              value={to}\n              onChange={(e) => setto(e.target.value)}\n              type=\"date\"\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"mb-3\">\n            <button\n              onClick={handleSearch}\n              disabled={loading}\n              type=\"submit\"\n              className=\"btn blue__btn\"\n            >\n              {loading && (\n                <span\n                  className=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                ></span>\n              )}\n              Search\n            </button>\n          </div>\n        </form>\n      </div>\n      {show && \n      <div className=\"content__container\">\n        <div className=\"text-center\">\n          <h3>ADMISSIONS REPORT</h3>\n          <div>\n            Period {moment(from).format(\"DD MMMM YYYY\")} -{\" \"}\n            {moment(to).format(\"DD MMMM YYYY\")}\n          </div>\n        </div>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Division</th>\n              <th scope=\"col\">Day Students</th>\n              <th scope=\"col\">Borders</th>\n              <th scope=\"col\">Total Admission</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data ? (\n              <tr>\n                <td>{data?.division || \"-\"}</td>\n                <td>{data?.day}</td>\n                <td>{data?.border}</td>\n                <td>{data?.admission}</td>\n              </tr>\n            ) : (\n              <tr>\n                <td colSpan={4}>No admissions recorded for selected period.</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    }\n    </div>\n  );\n}\n\nexport default AdmissionReport;\n"],"sourceRoot":""}