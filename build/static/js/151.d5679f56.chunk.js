(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[151],{1942:function(e,t,c){"use strict";c.r(t);var n=c(733),a=c.n(n),s=c(734),r=c(716),i=c(1),l=c(76),o=c(60),d=c(32),j=c(38),u=c(784),b=c.n(u),h=c(14);var O=function(e){var t=e.yearGroup,c=e.academicYear,n=e.setacademicYear,a=e.term,s=e.setterm,r=e.loading,i=e.handleSearch;return Object(h.jsxs)("form",{action:"",className:"content__container",children:[Object(h.jsx)("h3",{children:"Search"}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Academic Year"}),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("select",{name:"academic-calendar",className:"form-select",value:c,onChange:function(e){return n(e.target.value)},children:[Object(h.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),t.length>0?t.map((function(e){return Object(h.jsx)("option",{value:e.year,children:e.year},e._id)})):Object(h.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Term"}),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("select",{name:"academic-calendar",className:"form-select",value:a,onChange:function(e){return s(e.target.value)},children:[Object(h.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(h.jsx)("option",{value:"1",children:"1"}),Object(h.jsx)("option",{value:"2",children:"2"}),Object(h.jsx)("option",{value:"3",children:"3"})]})})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("button",{onClick:i,disabled:r,type:"submit",className:"btn blue__btn",children:[r&&Object(h.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Search"]})})]})};t.default=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],u=Object(l.c)(o.d),v=Object(i.useState)({}),m=Object(r.a)(v,2),x=m[0],f=m[1],p=Object(i.useState)(!1),N=Object(r.a)(p,2),g=N[0],y=N[1],S=Object(i.useState)(""),_=Object(r.a)(S,2),w=_[0],C=_[1],k=Object(l.c)(d.l),P=Object(i.useState)(""),Y=Object(r.a)(P,2),D=Y[0],z=Y[1],E=Object(i.useState)(!1),F=Object(r.a)(E,2),I=F[0],H=F[1],T=Object(i.useState)(""),V=Object(r.a)(T,2),G=V[0],J=V[1],M=Object(i.useState)(""),W=Object(r.a)(M,2),A=W[0],R=W[1],q=Object(i.useState)([]),B=Object(r.a)(q,2),K=B[0],L=B[1];Object(i.useEffect)((function(){j.a.get("/school").then((function(e){L(e.data)}))}),[]),Object(i.useEffect)((function(){(function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/students/student/".concat(null===u||void 0===u?void 0:u.userID));case 2:t=e.sent,f(t.data.student);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]);var Q=function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),t.preventDefault(),e.next=4,j.a.get("sba/student/".concat(null===u||void 0===u?void 0:u.userID,"/").concat(w,"/").concat(D)).then((function(e){H(!1),y(!0),J(D),R(w),n(e.data.docs),console.log(e.data.docs)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"mb-5",children:Object(h.jsx)(O,{yearGroup:k,academicYear:w,setacademicYear:C,term:D,setterm:z,loading:I,handleSearch:Q})}),g&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{id:"section-to-print",className:"content__container my-5",children:[Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("h3",{children:null===K||void 0===K?void 0:K.fullName}),Object(h.jsx)("p",{children:Object(h.jsx)("strong",{children:null===K||void 0===K?void 0:K.motto})})]}),Object(h.jsx)("div",{className:" mb-5",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h5",{children:"Report Card"}),Object(h.jsxs)("h6",{children:["Name: ",null===x||void 0===x?void 0:x.name," ",null===x||void 0===x?void 0:x.middleName," ",null===x||void 0===x?void 0:x.surname," -"," ",null===x||void 0===x?void 0:x.userID]}),Object(h.jsxs)("h6",{children:["Class: ",null===x||void 0===x?void 0:x.classID]}),Object(h.jsxs)("h6",{children:[" Year: ",A]}),Object(h.jsxs)("h6",{children:["Term:",G]})]})}),Object(h.jsxs)("table",{className:"table table-bordered",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Courses"}),Object(h.jsx)("th",{scope:"col",children:"Classwork"}),Object(h.jsx)("th",{scope:"col",children:"Exam"}),Object(h.jsx)("th",{scope:"col",children:"Total"}),Object(h.jsx)("th",{scope:"col",children:"Position"})]})}),Object(h.jsx)("tbody",{children:c.length>0?c.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:null===e||void 0===e?void 0:e.course}),Object(h.jsx)("td",{children:e.classWork}),Object(h.jsx)("td",{children:(null===e||void 0===e?void 0:e.exam)||"-"}),Object(h.jsx)("td",{children:(t=null===e||void 0===e?void 0:e.exam,c=e.classWork,Number(t||0)+Number(c||0))}),Object(h.jsx)("td",{children:(null===e||void 0===e?void 0:e.position)||"-"})]},null===e||void 0===e?void 0:e._id);var t,c})):Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:10,className:"text-center text-danger",children:Object(h.jsx)("h5",{children:"No data yet"})})})})]})]})," ",Object(h.jsx)("div",{className:"d-flex justify-content-center mb-5",children:Object(h.jsxs)("button",{onClick:function(){window.print()},className:"btn blue__btn",children:[Object(h.jsx)(b.a,{}),"Print"]})})]})]})}},733:function(e,t,c){e.exports=c(419)},734:function(e,t,c){"use strict";function n(e,t,c,n,a,s,r){try{var i=e[s](r),l=i.value}catch(o){return void c(o)}i.done?t(l):Promise.resolve(l).then(n,a)}function a(e){return function(){var t=this,c=arguments;return new Promise((function(a,s){var r=e.apply(t,c);function i(e){n(r,a,s,i,l,"next",e)}function l(e){n(r,a,s,i,l,"throw",e)}i(void 0)}))}}c.d(t,"a",(function(){return a}))},784:function(e,t,c){"use strict";var n=c(712),a=c(713);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(c(1)),r=(0,n(c(714)).default)(s.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.default=r}}]);
//# sourceMappingURL=151.d5679f56.chunk.js.map